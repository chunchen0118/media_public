/*! For license information please see main.06adb62c.js.LICENSE.txt */
(()=>{var e={3239:function(e,t,n){(function(){"use strict";function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,n){if(n)e:{var o=r;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(n=n(i=o[e=e[e.length-1]]))!=i&&null!=n&&t(o,e,{configurable:!0,writable:!0,value:n})}}function i(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}var a="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function s(e){return e||Array.prototype.fill}o("Object.assign",(function(e){return e||a})),o("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),o("Int8Array.prototype.fill",s),o("Uint8Array.prototype.fill",s),o("Uint8ClampedArray.prototype.fill",s),o("Int16Array.prototype.fill",s),o("Uint16Array.prototype.fill",s),o("Int32Array.prototype.fill",s),o("Uint32Array.prototype.fill",s),o("Float32Array.prototype.fill",s),o("Float64Array.prototype.fill",s);var u=this||self;function c(e,t){e=e.split(".");var n,r=u;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}var l={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function f(e){return e=e||{},Object.assign({},l,{fillColor:e.color},e)}function d(e,t){return e instanceof Function?e(t):e}function h(e,t,n){return Math.max(Math.min(t,n),Math.min(Math.max(t,n),e))}c("clamp",h),c("drawLandmarks",(function(e,t,n){if(t){n=f(n),e.save();for(var r=e.canvas,o=0,a=(t=i(t)).next();!a.done;a=t.next())if(void 0!==(a=a.value)&&(void 0===a.visibility||a.visibility>n.visibilityMin)){e.fillStyle=d(n.fillColor,{index:o,from:a}),e.strokeStyle=d(n.color,{index:o,from:a}),e.lineWidth=d(n.lineWidth,{index:o,from:a});var s=new Path2D;s.arc(a.x*r.width,a.y*r.height,d(n.radius,{index:o,from:a}),0,2*Math.PI),e.fill(s),e.stroke(s),++o}e.restore()}})),c("drawConnectors",(function(e,t,n,r){if(t&&n){r=f(r),e.save();for(var o=e.canvas,a=0,s=(n=i(n)).next();!s.done;s=n.next()){var u=s.value;e.beginPath(),s=t[u[0]],u=t[u[1]],s&&u&&(void 0===s.visibility||s.visibility>r.visibilityMin)&&(void 0===u.visibility||u.visibility>r.visibilityMin)&&(e.strokeStyle=d(r.color,{index:a,from:s,to:u}),e.lineWidth=d(r.lineWidth,{index:a,from:s,to:u}),e.moveTo(s.x*o.width,s.y*o.height),e.lineTo(u.x*o.width,u.y*o.height)),++a,e.stroke()}e.restore()}})),c("drawRectangle",(function(e,t,n){n=f(n),e.save();var r=e.canvas;e.beginPath(),e.lineWidth=d(n.lineWidth,{}),e.strokeStyle=d(n.color,{}),e.fillStyle=d(n.fillColor,{}),e.translate(t.xCenter*r.width,t.yCenter*r.height),e.rotate(t.rotation*Math.PI/180),e.rect(-t.width/2*r.width,-t.height/2*r.height,t.width*r.width,t.height*r.height),e.translate(-t.xCenter*r.width,-t.yCenter*r.height),e.stroke(),e.fill(),e.restore()})),c("lerp",(function(e,t,n,r,o){return h(r*(1-(e-t)/(n-t))+o*(1-(n-e)/(n-t)),r,o)}))}).call(this)},7087:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}i("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+o++,r)}})),i("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var s=o[n[i]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var f;e:{var d={};try{d.__proto__={a:!0},f=d.a;break e}catch(gt){}f=!1}c=f?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=c;function p(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function v(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function w(e,t,n,r){try{var o=t.call(e.g.i,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.l=!1,o;var i=o.value}catch(a){return e.g.i=null,g(e.g,a),x(e)}return e.g.i=null,r.call(e.g,i),x(e)}function x(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return v(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=x(e)),t},this.throw=function(t){return v(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=x(e)),t},this.return=function(t){return function(e,t){v(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),x(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function S(e,t){return t=new k(new b(t)),h&&e.prototype&&h(t,e.prototype),t}m.prototype.o=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.s};var _="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};i("Object.assign",(function(e){return e||_})),i("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var i=o.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;i((function(){if(e.B()){var t=o.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t((function(e,t){o=e,i=t}));return this.J(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).J(t,n)}))},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).J(i(a.length-1),t),o=n.next()}while(!o.done)}))},t})),i("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),i("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var o=n[t];if(o===e||Object.is(o,e))return!0}return!1}})),i("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),i("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e){return e}))}}));var E=this||self;function C(e,t){e=e.split(".");var n,r=E;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function A(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var O,T,R="undefined"!==typeof TextDecoder,I="undefined"!==typeof TextEncoder;function P(e){if(I)e=(T||(T=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),o=0;o<e.length;o++){var i=e.charCodeAt(o);if(128>i)r[n++]=i;else{if(2048>i)r[n++]=i>>6|192;else{if(55296<=i&&57343>=i){if(56319>=i&&o<e.length){var a=e.charCodeAt(++o);if(56320<=a&&57343>=a){i=1024*(i-55296)+a-56320+65536,r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=63&i|128;continue}o--}if(t)throw Error("Found an unpaired surrogate");i=65533}r[n++]=i>>12|224,r[n++]=i>>6&63|128}r[n++]=63&i|128}}e=r.subarray(0,n)}return e}var N={},M=null;function D(e,t){void 0===t&&(t=0),L(),t=N[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",o=0,i=0;o<e.length-2;o+=3){var a=e[o],s=e[o+1],u=e[o+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[i++]=c+a+s+u}switch(c=0,u=r,e.length-o){case 2:u=t[(15&(c=e[o+1]))<<2]||r;case 1:e=e[o],n[i]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function F(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=M[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}L();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[o++]=e})),r.subarray(0,o)}function L(){if(!M){M={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));N[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===M[i]&&(M[i]=o)}}}}var j,B="function"===typeof Uint8Array.prototype.slice;function z(e,t,n){return t===n?j||(j=new Uint8Array(0)):B?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var U=0;function W(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&H(this,e)}function H(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?F(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function V(e){for(var t=128,n=0,r=0,o=0;4>o&&128<=t;o++)n|=(127&(t=e.h[e.g++]))<<7*o;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,r|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)r|=(127&(t=e.h[e.g++]))<<7*o+3;if(128>t)return e=n>>>0,(r=2147483648&(t=r>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),r?-e:e;e.m=!0}W.prototype.reset=function(){this.g=this.l},W.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},W.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],r=this.h[this.g+3];return this.g+=4,e=2*((n=(e|t<<8|n<<16|r<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var G=[];function q(){this.g=new Uint8Array(64),this.h=0}function X(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,G.length?(n=G.pop(),t&&(n.v=t.v),e&&H(n,e),e=n):e=new W(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function Y(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function $(e){switch(e.h){case 0:if(0!=e.h)$(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?$(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)$(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?$(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!Y(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}$(e)}break;default:e.j=!0}}function Z(e,t,n){var r=e.g.j,o=e.g.i(),i=e.g.g+o;if(e.g.j=i,n(t,e),0!==(n=i-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+o+" bytes, instead read "+(o-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=i,e.g.j=r,t}function Q(e){return e.g.o()}function J(e){var t,n=e.g.i(),r=(e=e.g).g;if(e.g+=n,e=e.h,R)(t=O)||(t=O=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(r,r+n));else{n=r+n;for(var o,i,a,s=[],u=null;r<n;)128>(o=e[r++])?s.push(o):224>o?r>=n?s.push(65533):(i=e[r++],194>o||128!==(192&i)?(r--,s.push(65533)):s.push((31&o)<<6|63&i)):240>o?r>=n-1?s.push(65533):128!==(192&(i=e[r++]))||224===o&&160>i||237===o&&160<=i||128!==(192&(t=e[r++]))?(r--,s.push(65533)):s.push((15&o)<<12|(63&i)<<6|63&t):244>=o?r>=n-2?s.push(65533):128!==(192&(i=e[r++]))||0!==i-144+(o<<28)>>30||128!==(192&(t=e[r++]))||128!==(192&(a=e[r++]))?(r--,s.push(65533)):(o=(7&o)<<18|(63&i)<<12|(63&t)<<6|63&a,o-=65536,s.push(55296+(o>>10&1023),56320+(1023&o))):s.push(65533),8192<=s.length&&(u=A(u,s),s.length=0);t=A(u,s)}return t}function ee(e,t,n){var r=e.g.i();for(r=e.g.g+r;e.g.g<r;)n.push(t.call(e.g))}function te(e,t){2==e.h?ee(e,W.prototype.o,t):t.push(Q(e))}function ne(){this.h=[],this.i=0,this.g=new q}function re(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function oe(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,r=n.length,o=0,i=0;i<r;i++){var a=n[i];0!==a.length&&(t.set(a,o),o+=a.length)}return 0!==(r=(n=e.g).h)&&(t.set(n.g.subarray(0,r),o),n.h=0),e.h=[t],t}function ie(e,t,n){if(null!=n){X(e.g,8*t+5),e=e.g;var r=n;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?U=0:(0,U=2147483648):isNaN(r)?(0,U=2147483647):34028234663852886e22<r?(0,U=(n<<31|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),0,U=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,0,U=(n<<31|t+127<<23|8388607&r)>>>0),n=U,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}q.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},q.prototype.length=function(){return this.h},q.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,z(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ae="function"===typeof Uint8Array;function se(e,t,n){if(null!=e)return"object"===typeof e?ae&&e instanceof Uint8Array?n(e):ue(e,t,n):t(e)}function ue(e,t,n){if(Array.isArray(e)){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=se(e[o],t,n);return Array.isArray(e)&&e.W&&de(r),r}for(o in r={},e)r[o]=se(e[o],t,n);return r}function ce(e){return"number"===typeof e?isFinite(e)?e:String(e):e}var le,fe={W:{value:!0,configurable:!0}};function de(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,fe),e}function he(e,t,n){var r=le;if(le=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=r?0:-1,this.m=this.g=null,this.h=e,e=(r=this.h.length)-1,!r||(null===(r=this.h[e])||"object"!=typeof r||Array.isArray(r)||ae&&r instanceof Uint8Array)?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=r),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.h[e])?de(r):this.h[e]=pe):(me(this),(r=this.i[e])?de(r):this.i[e]=pe)}var pe=Object.freeze(de([]));function me(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function ve(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function ge(e,t){var n=void 0!==n&&n,r=ve(e,t,n);return null==r&&(r=pe),r===pe&&xe(e,t,r=de([]),n),r}function ye(e){var t=ge(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function be(e,t,n){return null==(e=ve(e,t))?n:e}function we(e,t,n){return null==(e=null==(e=ve(e,t))?e:+e)?void 0===n?0:n:e}function xe(e,t,n,r){void 0!==r&&r||t>=e.l?(me(e),e.i[t]=n):e.h[t+e.j]=n}function ke(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var r=ve(e,n,!1);r&&(e.g[n]=new t(r))}return e.g[n]}function Se(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var r=ge(e,1);n=[];for(var o=0;o<r.length;o++)n[o]=new t(r[o]);e.g[1]=n}return n}function _e(e,t,n){var r=void 0!==r&&r;e.g||(e.g={});var o=n?Ce(n,!1):n;e.g[t]=n,xe(e,t,o,r)}function Ee(e,t,n,r){var o=Se(e,n);t=t||new n,e=ge(e,1),void 0!=r?(o.splice(r,0,t),e.splice(r,0,Ce(t,!1))):(o.push(t),e.push(Ce(t,!1)))}function Ce(e,t){if(e.g)for(var n in e.g){var r=e.g[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)r[o]&&Ce(r[o],t);else r&&Ce(r,t)}return e.h}function Ae(e,t){if(e=e.o){re(t,t.g.end());for(var n=0;n<e.length;n++)re(t,e[n])}}function Oe(e,t){if(4==t.h)return!1;var n=t.m;return $(t),t.N||(t=z(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function Te(e){he.call(this,e,-1,Ie)}function Re(e,t){for(;Y(t);)switch(t.i){case 8:var n=t.g.i();xe(e,1,n);break;case 16:xe(e,2,n=t.g.i());break;case 29:case 26:te(t,e.getPackedDataList());break;case 32:xe(e,4,n=V(t.g));break;default:if(!Oe(e,t))return e}return e}he.prototype.toJSON=function(){return ue(Ce(this,!1),ce,D)},he.prototype.toString=function(){return Ce(this,!1).toString()},p(Te,he),Te.prototype.getRows=function(){return ve(this,1)},Te.prototype.getCols=function(){return ve(this,2)},Te.prototype.getPackedDataList=function(){return ye(this)},Te.prototype.getLayout=function(){return be(this,4,0)};var Ie=[3];function Pe(e,t){var n=void 0;return new(n||(n=Promise))((function(r,o){function i(e){try{s(t.next(e))}catch(n){o(n)}}function a(e){try{s(t.throw(e))}catch(n){o(n)}}function s(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(i,a)}s((t=t.apply(e,void 0)).next())}))}function Ne(e){he.call(this,e)}function Me(e,t){for(;Y(t);)switch(t.i){case 8:var n=t.g.i();xe(e,1,n);break;case 21:xe(e,2,n=Q(t));break;case 26:xe(e,3,n=J(t));break;case 34:xe(e,4,n=J(t));break;default:if(!Oe(e,t))return e}return e}function De(e){he.call(this,e,-1,Fe)}p(Ne,he),p(De,he),De.prototype.addClassification=function(e,t){return Ee(this,e,Ne,t),this};var Fe=[1];function Le(e){he.call(this,e)}function je(e,t){for(;Y(t);)switch(t.i){case 13:var n=Q(t);xe(e,1,n);break;case 21:xe(e,2,n=Q(t));break;case 29:xe(e,3,n=Q(t));break;case 37:xe(e,4,n=Q(t));break;case 45:xe(e,5,n=Q(t));break;default:if(!Oe(e,t))return e}return e}function Be(e){he.call(this,e,-1,Ue)}function ze(e){e:{var t=new Be;for(e=new K(e);Y(e);)if(10===e.i){Ee(t,Z(e,new Le,je),Le,void 0)}else if(!Oe(t,e))break e}return t}p(Le,he),p(Be,he);var Ue=[1];function We(e){he.call(this,e)}function He(e){he.call(this,e,-1,Ge)}function Ve(e,t){for(;Y(t);)switch(t.i){case 8:var n=V(t.g);xe(e,1,n);break;case 16:xe(e,2,n=V(t.g));break;case 29:case 26:te(t,e.getVertexBufferList());break;case 32:case 34:n=t;var r=e.getIndexBufferList();2==n.h?ee(n,W.prototype.i,r):r.push(n.g.i());break;default:if(!Oe(e,t))return e}return e}p(We,he),p(He,he),He.prototype.getVertexType=function(){return be(this,1,0)},He.prototype.getPrimitiveType=function(){return be(this,2,0)},He.prototype.getVertexBufferList=function(){return ye(this)},He.prototype.getIndexBufferList=function(){return ge(this,4)};var Ge=[3,4];function qe(e){he.call(this,e)}function Xe(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return Se(e,Ne).map((function(e){return{index:be(e,1,0),Y:we(e,2),label:null!=ve(e,3)?be(e,3,""):void 0,displayName:null!=ve(e,4)?be(e,4,""):void 0}}))}function Ye(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ve(e,4)?we(e,4):void 0}}function $e(e,t){this.h=e,this.g=t,this.l=0}function Ze(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var r=Xe(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),o=Xe(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(i));r=e.m=i,n.useProgram(r),o=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:o},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(o,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function Qe(e){this.g=e}p(qe,he),qe.prototype.getMesh=function(){return ke(this,He,1)},qe.prototype.getPoseTransformMatrix=function(){return ke(this,Te,2)};var Je=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function et(e,t){return t+e}function tt(e,t){window[e]=t}function nt(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||et,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function rt(e){return Pe(e,(function e(){var t,n,r,o,i,a,s,c,l,f,d,h=this;return S(e,(function(e){switch(e.g){case 1:return t=h,h.R?(n=function(e,t){return void 0===e.g.files?[]:"function"===typeof e.g.files?e.g.files(t):e.g.files}(h,h.j),y(e,function(){return Pe(this,(function e(){return S(e,(function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Je),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):e.return();case 2:if(r=e.h,"object"===typeof window)return tt("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),tt("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),a=n.filter((function(e){return void 0!==e.data})),s=n.filter((function(e){return void 0===e.data})),c=Promise.all(a.map((function(e){var n=ot(t,e.url);if(void 0!==e.path){var r=e.path;n=n.then((function(e){return t.overrideFile(r,e),Promise.resolve(e)}))}return n}))),l=Promise.all(s.map((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(t.locateFile(e.url,t.S)):Promise.resolve()}))).then((function(){return Pe(t,(function e(){var t,n,r=this;return S(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,y(e,t(n),2);r.h=e.h,e.g=0}))}))})),f=Pe(t,(function e(){var t=this;return S(e,(function(e){return t.g.graph&&t.g.graph.url?e=y(e,ot(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),y(e,Promise.all([l,c,f]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,u(o)),y(e,createMediapipeSolutionsWasm(Module),6);case 6:h.h=e.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,i=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ba:"undefined"!==typeof WebGL2RenderingContext?2:1}),h.h.GL.makeContextCurrent(i),e.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(d=h.l.getContext("webgl2",{}))&&!(d=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),e.return();h.D=d,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.R=!1,e.g=0}}))}))}function ot(e,t){return Pe(e,(function e(){var n,r,o=this;return S(e,(function(e){return t in o.F?e.return(o.F[t]):(n=o.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),o.F[t]=r,e.return(r))}))}))}function it(e,t,n){return Pe(e,(function e(){var r,o,i,a,u,c,l,f,d,h,p,m,v,g,b=this;return S(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(r={},o=0,i=s(Object.keys(n)),a=i.next();!a.done;a=i.next())u=a.value,"string"!==typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++o;1<o&&(b.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){e.g=4;break}if(f=a.value,"string"===typeof(d=n[f]))return v=r,g=f,y(e,function(e,t,n){return Pe(e,(function e(){var r,o=this;return S(e,(function(e){return"number"===typeof n||n instanceof Uint8Array||n instanceof o.h.Uint8BlobList?e.return(n):n instanceof o.h.Texture2dDataOut?((r=o.s[t])||(r=new $e(o.h,o.D),o.s[t]=r),e.return(Ze(r,n,o.G))):e.return(void 0)}))}))}(b,f,t[d]),14);if(h=t[d.stream],"detection_list"===d.type){if(h){for(var w=h.getRectList(),x=h.getLandmarksList(),k=h.getClassificationsList(),_=[],E=0;E<w.size();++E){var C=w.get(E);e:{var A=new We;for(C=new K(C);Y(C);)switch(C.i){case 13:var O=Q(C);xe(A,1,O);break;case 21:xe(A,2,O=Q(C));break;case 29:xe(A,3,O=Q(C));break;case 37:xe(A,4,O=Q(C));break;case 45:xe(A,5,O=Q(C));break;case 48:xe(A,6,O=V(C.g));break;default:if(!Oe(A,C))break e}}A={Z:we(A,1),$:we(A,2),height:we(A,3),width:we(A,4),rotation:we(A,5,0),X:be(A,6,0)},C=Se(ze(x.get(E)),Le).map(Ye);var T=k.get(E);e:for(O=new De,T=new K(T);Y(T);)if(10===T.i)O.addClassification(Z(T,new Ne,Me));else if(!Oe(O,T))break e;A={T:A,O:C,M:Ke(O)},_.push(A)}w=_}else w=[];r[f]=w,e.g=7;break}if("proto_list"===d.type){if(h){for(w=Array(h.size()),x=0;x<h.size();x++)w[x]=h.get(x);h.delete()}else w=[];r[f]=w,e.g=7;break}if(void 0===h){e.g=3;break}if("float_list"===d.type){r[f]=h,e.g=7;break}if("proto"===d.type){r[f]=h,e.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(p=b.s[f])||(p=new $e(b.h,b.D),b.s[f]=p),y(e,Ze(p,h,b.G),13);case 13:m=e.h,r[f]=m;case 7:d.transform&&r[f]&&(r[f]=d.transform(r[f])),e.g=3;break;case 14:v[g]=e.h;case 3:a=l.next(),e.g=2;break;case 4:return e.return(r)}}))}))}function at(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),o=new e.h.StringList,i=s(t.wants),a=i.next();!a.done;a=i.next())o.push_back(a.value);i=e.h.PacketListener.implement({onResults:function(o){for(var i={},a=0;a<t.wants.length;++a)i[r[a]]=o.get(a);var s=e.listeners[n];s&&(e.C=it(e,i,t.outs).then((function(n){n=s(n);for(var o=0;o<t.wants.length;++o){var a=i[r[o]];"object"===typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(o,i),o.delete()}function st(e){e=function(e){e:{var t=new qe;for(e=new K(e);Y(e);)switch(e.i){case 10:var n=Z(e,new He,Ve);_e(t,1,n);break;case 18:_e(t,2,n=Z(e,new Te,Re));break;default:if(!Oe(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var r=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return r},e}(e=nt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){return Pe(this,(function e(){var t=this;return S(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],o=[],i={},a=s(Object.keys(e)),u=a.next();!u.done;i={K:i.K,L:i.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(i.K=u.onChange,i.L=e[c],r.push(function(e){return function(){return Pe(n,(function t(){var n=this;return S(t,(function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(i))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),o.push(u))))}0===r.length&&0===o.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(o),this.u=(void 0===this.u?[]:this.u).concat(r))}},e.initialize=function(){return Pe(this,(function e(){var t=this;return S(e,(function(e){return 1==e.g?y(e,rt(t),2):3!=e.g?y(e,Pe(t,(function e(){var t,n,r,o,i,a,u,c,l=this;return S(e,(function(e){if(1==e.g)return l.g.graph&&l.g.graph.url&&l.P===l.g.graph.url?e.return():(l.o=!0,l.g.graph&&l.g.graph.url?(l.P=l.g.graph.url,y(e,ot(l,l.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,l.i.loadGraph(t)),n=s(Object.keys(l.B)),r=n.next();!r.done;r=n.next())o=r.value,l.i.overrideFile(o,l.B[o]);if(l.B={},l.g.listeners)for(i=s(l.g.listeners),a=i.next();!a.done;a=i.next())u=a.value,at(l,u);c=l.j,l.j={},l.setOptions(c),e.g=0}))})),3):y(e,function(e){return Pe(e,(function e(){var t,n,r,o,i,a,u=this;return S(e,(function(e){switch(e.g){case 1:if(!u.o)return e.return();if(!u.u){e.g=2;break}t=s(u.u),n=t.next();case 3:if(n.done){e.g=5;break}return y(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:u.u=void 0;case 2:if(u.A){for(r=new u.h.GraphOptionChangeRequestList,o=s(u.A),i=o.next();!i.done;i=o.next())a=i.value,r.push_back(a);u.i.changeOptions(r),r.delete(),u.A=void 0}u.o=!1,e.g=0}}))}))}(t),0)}))}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){return Pe(this,(function n(){var r,o,i,a,u,c,l,f,d,h=this;return S(n,(function(n){switch(n.g){case 1:return h.g.inputs?(r=1e3*(void 0===t||null===t?performance.now():t),y(n,h.C,2)):n.return();case 2:return y(n,h.initialize(),3);case 3:for(o=new h.h.PacketDataList,i=s(Object.keys(e)),a=i.next();!a.done;a=i.next())if(u=a.value,c=h.g.inputs[u]){e:{var p=h,m=e[u];switch(c.type){case"video":var v=p.m[c.stream];if(v||(v=new $e(p.h,p.D),p.m[c.stream]=v),0===(p=v).l&&(p.l=p.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&m instanceof HTMLVideoElement){var g=m.videoWidth;v=m.videoHeight}else"undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement?(g=m.naturalWidth,v=m.naturalHeight):(g=m.width,v=m.height);v={glName:p.l,width:g,height:v},(g=p.g).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),p.h.bindTexture2d(p.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,m),p.h.bindTexture2d(0),p=v;break e;case"detections":for((v=p.m[c.stream])||(v=new Qe(p.h),p.m[c.stream]=v),(p=v).data||(p.data=new p.g.DetectionListData),p.data.reset(m.length),v=0;v<m.length;++v){g=m[v];var b=p.data,w=b.setBoundingBox,x=v,k=g.T,S=new We;xe(S,1,k.Z),xe(S,2,k.$),xe(S,3,k.height),xe(S,4,k.width),xe(S,5,k.rotation),xe(S,6,k.X);var _=k=new ne;ie(_,1,ve(S,1)),ie(_,2,ve(S,2)),ie(_,3,ve(S,3)),ie(_,4,ve(S,4)),ie(_,5,ve(S,5));var E=ve(S,6);if(null!=E&&null!=E){X(_.g,48);var C=_.g,A=E;E=0>A;var O=(A=Math.abs(A))>>>0;for(A=Math.floor((A-O)/4294967296),A>>>=0,E&&(A=~A>>>0,4294967295<(O=1+(~O>>>0))&&(O=0,4294967295<++A&&(A=0))),E=U=O,O=A;0<O||127<E;)C.push(127&E|128),E=(E>>>7|O<<25)>>>0,O>>>=7;C.push(E)}if(Ae(S,_),k=oe(k),w.call(b,x,k),g.O)for(b=0;b<g.O.length;++b)_=!!(S=g.O[b]).visibility,x=(w=p.data).addNormalizedLandmark,k=v,S=Object.assign(Object.assign({},S),{visibility:_?S.visibility:0}),xe(_=new Le,1,S.x),xe(_,2,S.y),xe(_,3,S.z),S.visibility&&xe(_,4,S.visibility),ie(C=S=new ne,1,ve(_,1)),ie(C,2,ve(_,2)),ie(C,3,ve(_,3)),ie(C,4,ve(_,4)),ie(C,5,ve(_,5)),Ae(_,C),S=oe(S),x.call(w,k,S);if(g.M)for(b=0;b<g.M.length;++b){if(x=(w=p.data).addClassification,k=v,S=g.M[b],xe(_=new Ne,2,S.Y),S.index&&xe(_,1,S.index),S.label&&xe(_,3,S.label),S.displayName&&xe(_,4,S.displayName),C=S=new ne,null!=(O=ve(_,1))&&null!=O)if(X(C.g,8),E=C.g,0<=O)X(E,O);else{for(A=0;9>A;A++)E.push(127&O|128),O>>=7;E.push(1)}ie(C,2,ve(_,2)),null!=(E=ve(_,3))&&(E=P(E),X(C.g,26),X(C.g,E.length),re(C,C.g.end()),re(C,E)),null!=(E=ve(_,4))&&(E=P(E),X(C.g,34),X(C.g,E.length),re(C,C.g.end()),re(C,E)),Ae(_,C),S=oe(S),x.call(w,k,S)}}p=p.data;break e;default:p={}}}switch(l=p,f=c.stream,c.type){case"video":o.pushTexture2d(Object.assign(Object.assign({},l),{stream:f,timestamp:r}));break;case"detections":(d=l).stream=f,d.timestamp=r,o.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return h.i.send(o),y(n,h.C,4);case 4:o.delete(),n.g=0}}))}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},C("Solution",nt),C("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var ut={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(st)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map((function(e){return Se(ze(e),Le).map(Ye)}))}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ct=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],lt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ft=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],dt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ht=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],pt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],mt=[].concat(u(ct),u(lt),u(ft),u(dt),u(ht),u(pt));function vt(e){e=e||{},e=Object.assign(Object.assign({},ut),e),this.g=new nt(e)}(e=vt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){return Pe(this,(function e(){var t=this;return S(e,(function(e){return y(e,t.g.initialize(),0)}))}))},e.reset=function(){this.g.reset()},e.send=function(e){return Pe(this,(function t(){var n=this;return S(t,(function(t){return y(t,n.g.send(e),0)}))}))},e.setOptions=function(e){this.g.setOptions(e)},C("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),C("FaceMesh",vt),C("FACEMESH_LIPS",ct),C("FACEMESH_LEFT_EYE",lt),C("FACEMESH_LEFT_EYEBROW",ft),C("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),C("FACEMESH_RIGHT_EYE",dt),C("FACEMESH_RIGHT_EYEBROW",ht),C("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),C("FACEMESH_FACE_OVAL",pt),C("FACEMESH_CONTOURS",mt),C("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),C("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),r=e.getPackedDataList(),o=[],i=0;i<n;i++)o.push(Array(t));for(i=0;i<n;i++)for(var a=0;a<t;a++){var s=1===e.getLayout()?i*t+a:a*n+i;o[i][a]=r[s]}return o})),C("VERSION","0.4.1633559619")}).call(this)},6203:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}i("Symbol",(function(e){function t(e,t){this.h=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+o++,r)}})),i("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var s=o[n[i]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e}));var c="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};i("Object.assign",(function(e){return e||c}));var l,f="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var d;e:{var h={};try{h.__proto__={a:!0},d=h.a;break e}catch(wn){}d=!1}l=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=l;function m(e,t){if(e.prototype=f(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ya=t.prototype}function v(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function g(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function y(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function b(e,t,n){return e.h=n,{value:t}}function w(e){this.h=new v,this.i=e}function x(e,t,n,r){try{var o=t.call(e.h.j,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.h.m=!1,o;var i=o.value}catch(a){return e.h.j=null,y(e.h,a),k(e)}return e.h.j=null,r.call(e.h,i),k(e)}function k(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(n){e.h.i=void 0,y(e.h,n)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return g(e.h),e.h.j?t=x(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=k(e)),t},this.throw=function(t){return g(e.h),e.h.j?t=x(e,e.h.j.throw,t,e.h.u):(y(e.h,t),t=k(e)),t},this.return=function(t){return function(e,t){g(e.h);var n=e.h.j;return n?x(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,o){!function e(i){i.done?r(i.value):Promise.resolve(i.value).then(t,n).then(e,o)}(e.next())}))}(new S(new w(e)))}function E(e){return e||Array.prototype.fill}v.prototype.u=function(e){this.i=e},v.prototype.return=function(e){this.l={return:e},this.h=this.v},i("Promise",(function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j((function(){t.m()}))}this.h.push(e)};var i=o.setTimeout;n.prototype.j=function(e){i(e,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.l(r)}}}this.h=null},n.prototype.l=function(e){this.j((function(){throw e}))},t.prototype.l=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(n){return void this.m(n)}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;i((function(){if(e.D()){var t=o.console;"undefined"!==typeof t&&t.error(e.j)}}),1)},t.prototype.D=function(){if(this.u)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,n(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)a.i(this.h[e]);this.h=null}};var a=new n;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var n=this.l();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t((function(e,t){o=e,i=t}));return this.T(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function n(){switch(r.i){case 1:e(r.j);break;case 2:t(r.j);break;default:throw Error("Unexpected state: "+r.i)}}var r=this;null==this.h?a.i(n):this.h.push(n),this.u=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).T(t,n)}))},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).T(i(a.length-1),t),o=n.next()}while(!o.done)}))},t})),i("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e){return e}))}})),i("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),i("Int8Array.prototype.fill",E),i("Uint8Array.prototype.fill",E),i("Uint8ClampedArray.prototype.fill",E),i("Int16Array.prototype.fill",E),i("Uint16Array.prototype.fill",E),i("Int32Array.prototype.fill",E),i("Uint32Array.prototype.fill",E),i("Float32Array.prototype.fill",E),i("Float64Array.prototype.fill",E),i("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),i("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var o=n[t];if(o===e||Object.is(o,e))return!0}return!1}})),i("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}));var C=this||self;function A(e,t){e=e.split(".");var n,r=C;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function O(e){var t;return(t=C.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var T=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"===typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},R={},I=null;function P(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=I[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}N();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[o++]=e})),o!==n?r.subarray(0,o):r}function N(){if(!I){I={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));R[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===I[i]&&(I[i]=o)}}}}var M="undefined"!==typeof Uint8Array,D=!(O("Trident")||O("MSIE"))&&"function"===typeof C.btoa;function F(e){if(!D){var t;void 0===t&&(t=0),N(),t=R[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",o=0,i=0;o<e.length-2;o+=3){var a=e[o],s=e[o+1],u=e[o+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[i++]=c+a+s+u}switch(c=0,u=r,e.length-o){case 2:u=t[(15&(c=e[o+1]))<<2]||r;case 1:e=e[o],n[i]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var L,j=RegExp("[-_.]","g");function B(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function z(e){if(!D)return P(e);j.test(e)&&(e=e.replace(j,B)),e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function U(){return L||(L=new Uint8Array(0))}var W={},H="function"===typeof Uint8Array.prototype.slice,V=0,G=0;function q(e){var t=0>e,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/4294967296),t&&(t=(n=s(Y(n,e))).next().value,e=n.next().value,n=t),V=n>>>0,G=e>>>0}var X,K="function"===typeof BigInt;function Y(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function $(e,t){this.i=e>>>0,this.h=t>>>0}function Z(e){if(!e)return X||(X=new $(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)q(Number(e));else if(K)e=BigInt(e),V=Number(e&BigInt(4294967295))>>>0,G=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+("-"===e[0]);G=V=0;for(var n=e.length,r=t,o=(n-t)%6+t;o<=n;r=o,o+=6)r=Number(e.slice(r,o)),G*=1e6,4294967296<=(V=1e6*V+r)&&(G+=V/4294967296|0,V%=4294967296);t&&(e=(t=s(Y(V,G))).next().value,t=t.next().value,V=e,G=t)}return new $(V,G)}function Q(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function J(){return Error("Failed to read varint, encoding is invalid.")}function ee(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function te(){throw Error("Invalid UTF8")}function ne(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var re,oe,ie,ae=void 0,se="undefined"!==typeof TextDecoder,ue="undefined"!==typeof TextEncoder;function ce(e){if(e!==W)throw Error("illegal external caller")}function le(e,t){if(ce(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function fe(){return ie||(ie=new le(null,W))}function de(e){ce(W);var t=e.V;return null==(t=null==t||M&&null!=t&&t instanceof Uint8Array?t:"string"===typeof t?z(t):null)?t:e.V=t}function he(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,pe(this,e,t)}function pe(e,t,n){n=void 0===n?{}:n,e.S=void 0!==n.S&&n.S,t&&(t=function(e){if("string"===typeof e)return{buffer:z(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===le)return{buffer:de(e)||U(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function me(e,t){if(e.h=t,t>e.j)throw ee(e.j,t)}function ve(e){var t=e.i,n=e.h,r=t[n++],o=127&r;if(128&r&&(o|=(127&(r=t[n++]))<<7,128&r&&(o|=(127&(r=t[n++]))<<14,128&r&&(o|=(127&(r=t[n++]))<<21,128&r&&(o|=(r=t[n++])<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw J();return me(e,n),o}function ge(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var n=e.h,r=n+t;if(r>e.j)throw ee(t,e.j-n);return e.h=r,n}he.prototype.reset=function(){this.h=this.l};var ye=[];function be(){this.h=[]}function we(e,t,n){for(;0<n||127<t;)e.h.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.h.push(t)}function xe(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function ke(e,t){if(ye.length){var n=ye.pop();pe(n,e,t),e=n}else e=new he(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function Se(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var n=ve(e.h)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw Q(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=n,!0}function _e(e){switch(e.i){case 0:if(0!=e.i)_e(e);else e:{for(var t=(e=e.h).h,n=t+10,r=e.i;t<n;)if(0===(128&r[t++])){me(e,t);break e}throw J()}break;case 1:me(e=e.h,e.h+8);break;case 2:2!=e.i?_e(e):(t=ve(e.h)>>>0,me(e=e.h,e.h+t));break;case 5:me(e=e.h,e.h+4);break;case 3:for(t=e.l;;){if(!Se(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.i){if(e.l!=t)throw Error("Unmatched end-group tag");break}_e(e)}break;default:throw Q(e.i,e.j)}}be.prototype.length=function(){return this.h.length},be.prototype.end=function(){var e=this.h;return this.h=[],e},ke.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},ke.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var Ee=[];function Ce(){this.j=[],this.i=0,this.h=new be}function Ae(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var Oe="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;function Te(e,t){return Oe?e[Oe]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function Re(e,t){Oe?e[Oe]&&(e[Oe]&=~t):void 0!==e.A&&(e.A&=~t)}function Ie(e){var t;return null==(t=Oe?e[Oe]:e.A)?0:t}function Pe(e,t){Oe?e[Oe]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function Ne(e){return Te(e,1),e}function Me(e,t){Pe(t,-51&e)}function De(e,t){Pe(t,-41&e|18)}var Fe={};function Le(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var je,Be,ze=[];function Ue(e){if(2&Ie(e.o))throw Error("Cannot mutate an immutable Message")}function We(e){var t=e.length;(t=t?e[t-1]:void 0)&&Le(t)?t.g=1:(t={},e.push((t.g=1,t)))}function He(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function Ve(e,t){return-1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function Ge(e,t,n,r){Ue(e),qe(e,t,n,r)}function qe(e,t,n,r){e.j&&(e.j=void 0),t>=e.i||r?He(e)[t]=n:(e.o[t+e.G]=n,(e=e.B)&&t in e&&delete e[t])}function Xe(e,t,n,r){var o=Ve(e,t);Array.isArray(o)||(o=je);var i=Ie(o);if(1&i||Ne(o),r)2&i||Te(o,2),1&n||Object.freeze(o);else{r=!(2&n);var a=2&i;1&n||!a?r&&16&i&&!a&&Re(o,16):qe(e,t,o=Ne(Array.prototype.slice.call(o)))}return o}function Ke(e,t){var n=Ve(e,t),r=null==n?n:"number"===typeof n||"NaN"===n||"Infinity"===n||"-Infinity"===n?Number(n):void 0;return null!=r&&r!==n&&qe(e,t,r),r}function Ye(e,t,n,r,o){e.h||(e.h={});var i=e.h[n],a=Xe(e,n,3,o);if(!i){var s=a;i=[];var u=!!(16&Ie(e.o));a=!!(2&Ie(s));var c=s;!o&&a&&(s=Array.prototype.slice.call(s));for(var l=a,f=0;f<s.length;f++){var d=s[f],h=t,p=!1;if(p=void 0!==p&&p,void 0!==(d=Array.isArray(d)?new h(d):p?new h:void 0)){var m=p=Ie(h=d.o);a&&(m|=2),u&&(m|=16),m!=p&&Pe(h,m),h=m,l=l||!!(2&h),i.push(d)}}return e.h[n]=i,t=33|(u=Ie(s)),u!=(t=l?-9&t:8|t)&&(l=s,Object.isFrozen(l)&&(l=Array.prototype.slice.call(l)),Pe(l,t),s=l),c!==s&&qe(e,n,s),(o||r&&a)&&Te(i,2),r&&Object.freeze(i),i}return o||(o=Object.isFrozen(i),r&&!o?Object.freeze(i):!r&&o&&(i=Array.prototype.slice.call(i),e.h[n]=i)),i}function $e(e,t,n){var r=!!(2&Ie(e.o));if(t=Ye(e,t,n,r,r),e=Xe(e,n,3,r),!(r||8&Ie(e))){for(r=0;r<t.length;r++){if(2&Ie((n=t[r]).o)){var o=ut(n,!1);o.j=n}else o=n;n!==o&&(t[r]=o,e[r]=o.o)}Te(e,8)}return t}function Ze(e,t,n){if(null!=n&&"number"!==typeof n)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);Ge(e,t,n)}function Qe(e,t,n,r,o){Ue(e);var i=Ye(e,n,t,!1,!1);return n=null!=r?r:new n,e=Xe(e,t,2,!1),void 0!=o?(i.splice(o,0,n),e.splice(o,0,n.o)):(i.push(n),e.push(n.o)),n.C()&&Re(e,8),n}function Je(e,t){return null==e?t:e}function et(e,t,n){return n=void 0===n?0:n,Je(Ke(e,t),n)}function tt(e,t,n,r){if(null!=e){if(Array.isArray(e))e=nt(e,t,n,void 0!==r);else if(Le(e)){var o,i={};for(o in e)i[o]=tt(e[o],t,n,r);e=i}else e=t(e,r);return e}}function nt(e,t,n,r){var o=Ie(e);r=r?!!(16&o):void 0,e=Array.prototype.slice.call(e);for(var i=0;i<e.length;i++)e[i]=tt(e[i],t,n,r);return n(o,e),e}function rt(e){return e.ja===Fe?e.toJSON():function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(0!==(128&Ie(e)))return We(e=Array.prototype.slice.call(e)),e}else{if(M&&null!=e&&e instanceof Uint8Array)return F(e);if(e instanceof le){var t=e.V;return null==t?"":"string"===typeof t?t:e.V=F(t)}}}return e}(e)}function ot(e,t){128&e&&We(t)}function it(e,t,n){if(n=void 0===n?De:n,null!=e){if(M&&e instanceof Uint8Array)return e.length?new le(new Uint8Array(e),W):fe();if(Array.isArray(e)){var r=Ie(e);return 2&r?e:!t||32&r||!(16&r||0===r)?(4&(t=Ie(e=nt(e,it,4&r?De:n,!0)))&&2&t&&Object.freeze(e),e):(Pe(e,2|r),e)}return e.ja===Fe?st(e):e}}function at(e,t,n,r,o,i,a){if(e=e.h&&e.h[n]){if(2&(r=Ie(e))?r=e:(De(r,i=T(e,st)),Object.freeze(i),r=i),Ue(t),a=null==r?je:Ne([]),null!=r){for(i=!!r.length,e=0;e<r.length;e++){var s=r[e];i=i&&!(2&Ie(s.o)),a[e]=s.o}i=1|(i?8:0),((e=Ie(a))&i)!==i&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),Pe(a,e|i)),t.h||(t.h={}),t.h[n]=r}else t.h&&(t.h[n]=void 0);qe(t,n,a,o)}else Ge(t,n,it(r,i,a),o)}function st(e){return 2&Ie(e.o)||Te((e=ut(e,!0)).o,2),e}function ut(e,t){var n=e.o,r=[];Te(r,16);var o=e.constructor.h;if(o&&r.push(o),o=e.B){r.length=n.length,r.fill(void 0,r.length,n.length);var i={};r[r.length-1]=i}0!==(128&Ie(n))&&We(r),t=t||e.C()?De:Me,i=e.constructor,Be=r,r=new i(r),Be=void 0,e.R&&(r.R=e.R.slice()),i=!!(16&Ie(n));for(var a=o?n.length-1:n.length,s=0;s<a;s++)at(e,r,s-e.G,n[s],!1,i,t);if(o)for(var u in o)at(e,r,+u,o[u],!0,i,t);return r}function ct(e,t,n){null==e&&(e=Be),Be=void 0;var r,o=this.constructor.i||0,i=0<o,a=this.constructor.h,s=!1;if(null==e){var u=48,c=!0;i&&(o=0,u|=128),Pe(e=a?[a]:[],u)}else{if(!Array.isArray(e))throw Error();if(a&&a!==e[0])throw Error();var l=u=Te(e,0);if((c=0!==(16&l))&&((s=0!==(32&l))||(l|=32)),i){if(128&l)o=0;else if(0<e.length){var f=e[e.length-1];if(Le(f)&&"g"in f){o=0,l|=128,delete f.g;var d,h=!0;for(d in f){h=!1;break}h&&e.pop()}}}else if(128&l)throw Error();u!==l&&Pe(e,l)}if(this.G=(a?0:-1)-o,this.h=void 0,this.o=e,o=(a=this.o.length)-1,a&&Le(a=this.o[o])?(this.B=a,this.i=o-this.G):void 0!==t&&-1<t?(this.i=Math.max(t,o+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(t=c&&!s&&!0,i=this.i,c=0;c<n.length;c++)(s=n[c])<i?(o=e[s+=this.G])?lt(o,t):e[s]=je:(r||(r=He(this)),(o=r[s])?lt(o,t):r[s]=je)}function lt(e,t){if(Array.isArray(e)){var n=Ie(e),r=1;!t||2&n||(r|=16),(n&r)!==r&&Pe(e,n|r)}}function ft(e,t,n){if(n){var r,o={};for(r in n){var i=n[r],a=i.qa;a||(o.J=i.wa||i.oa.W,i.ia?(o.aa=bt(i.ia),a=function(e){return function(t,n,r){return e.J(t,n,r,e.aa)}}(o)):i.ka?(o.Z=wt(i.da.P,i.ka),a=function(e){return function(t,n,r){return e.J(t,n,r,e.Z)}}(o)):a=o.J,i.qa=a),a(t,e,i.da),o={J:o.J,aa:o.aa,Z:o.Z}}}!function(e,t){if(t=t.R){Ae(e,e.h.end());for(var n=0;n<t.length;n++)Ae(e,de(t[n])||U())}}(t,e)}Pe(ze,23),je=Object.freeze(ze),ct.prototype.toJSON=function(){return nt(this.o,rt,ot)},ct.prototype.C=function(){return!!(2&Ie(this.o))},ct.prototype.ja=Fe,ct.prototype.toString=function(){return this.o.toString()};var dt=Symbol();function ht(e,t,n){return e[dt]||(e[dt]=function(e,r){return t(e,r,n)})}function pt(e){var t=e[dt];if(!t){var n=Pt(e);t=function(e,t){return Nt(e,t,n)},e[dt]=t}return t}function mt(e){var t=function(e){var t=e.ia;return t?pt(t):(t=e.va)?ht(e.da.P,t,e.ka):void 0}(e),n=e.da,r=e.oa.U;return t?function(e,o){return r(e,o,n,t)}:function(e,t){return r(e,t,n)}}function vt(e,t){var n=e[t];return"function"==typeof n&&0===n.length&&(n=n(),e[t]=n),Array.isArray(n)&&(At in n||xt in n||0<n.length&&"function"==typeof n[0])?n:void 0}function gt(e,t,n,r,o,i){t.P=e[0];var a=1;if(e.length>a&&"number"!==typeof e[a]){var s=e[a++];n(t,s)}for(;a<e.length;){n=e[a++];for(var u=a+1;u<e.length&&"number"!==typeof e[u];)u++;switch(s=e[a++],u-=a){case 0:r(t,n,s);break;case 1:(u=vt(e,a))?(a++,o(t,n,s,u)):r(t,n,s,e[a++]);break;case 2:o(t,n,s,u=vt(e,u=a++),e[a++]);break;case 3:i(t,n,s,e[a++],e[a++],e[a++]);break;case 4:i(t,n,s,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+u)}}return t}var yt=Symbol();function bt(e){var t=e[yt];if(!t){var n=Ct(e);t=function(e,t){return Mt(e,t,n)},e[yt]=t}return t}function wt(e,t){var n=e[yt];return n||(n=function(e,n){return ft(e,n,t)},e[yt]=n),n}var xt=Symbol();function kt(e,t){e.push(t)}function St(e,t,n){e.push(t,n.W)}function _t(e,t,n,r){var o=bt(r),i=Ct(r).P,a=n.W;e.push(t,(function(e,t,n){return a(e,t,n,i,o)}))}function Et(e,t,n,r,o,i){var a=wt(r,i),s=n.W;e.push(t,(function(e,t,n){return s(e,t,n,r,a)}))}function Ct(e){var t=e[xt];return t||(t=gt(e,e[xt]=[],kt,St,_t,Et),At in e&&xt in e&&(e.length=0),t)}var At=Symbol();function Ot(e,t){e[0]=t}function Tt(e,t,n,r){var o=n.U;e[t]=r?function(e,t,n){return o(e,t,n,r)}:o}function Rt(e,t,n,r,o){var i=n.U,a=pt(r),s=Pt(r).P;e[t]=function(e,t,n){return i(e,t,n,s,a,o)}}function It(e,t,n,r,o,i,a){var s=n.U,u=ht(r,o,i);e[t]=function(e,t,n){return s(e,t,n,r,u,a)}}function Pt(e){var t=e[At];return t||(t=gt(e,e[At]={},Ot,Tt,Rt,It),At in e&&xt in e&&(e.length=0),t)}function Nt(e,t,n){for(;Se(t)&&4!=t.i;){var r=t.l,o=n[r];if(!o){var i=n[0];i&&(i=i[r])&&(o=n[r]=mt(i))}if(!o||!o(t,e,r)){r=e,i=(o=t).j,_e(o);var a=o;if(!a.ca){if(o=a.h.h-i,a.h.h=i,a=a.h,0==o)o=fe();else{if(i=ge(a,o),a.S&&a.m)o=a.i.subarray(i,i+o);else{a=a.i;var s=i;o=s===(o=i+o)?U():H?a.slice(s,o):new Uint8Array(a.subarray(s,o))}o=0==o.length?fe():new le(o,W)}(i=r.R)?i.push(o):r.R=[o]}}}return e}function Mt(e,t,n){for(var r=n.length,o=1==r%2,i=o?1:0;i<r;i+=2)(0,n[i+1])(t,e,n[i]);ft(e,t,o?n[0]:void 0)}function Dt(e,t){return{U:e,W:t}}var Ft=Dt((function(e,t,n){if(5!==e.i)return!1;var r=(e=e.h).i,o=e.h,i=r[o],a=r[o+1],s=r[o+2];return r=r[o+3],me(e,e.h+4),e=2*((a=(i|a<<8|s<<16|r<<24)>>>0)>>31)+1,i=a>>>23&255,a&=8388607,Ge(t,n,255==i?a?NaN:1/0*e:0==i?e*Math.pow(2,-149)*a:e*Math.pow(2,i-150)*(a+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=Ke(t,n))){xe(e.h,8*n+5),e=e.h;var r=+t;0===r?0<1/r?V=G=0:(G=0,V=2147483648):isNaN(r)?(G=0,V=2147483647):34028234663852886e22<(r=(n=0>r?-2147483648:0)?-r:r)?(G=0,V=(2139095040|n)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),G=0,V=(n|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,G=0,V=(n|t+127<<23|8388607&r)>>>0),n=V,e.h.push(n>>>0&255),e.h.push(n>>>8&255),e.h.push(n>>>16&255),e.h.push(n>>>24&255)}})),Lt=Dt((function(e,t,n){if(0!==e.i)return!1;var r=e.h,o=0,i=e=0,a=r.i,s=r.h;do{var u=a[s++];o|=(127&u)<<i,i+=7}while(32>i&&128&u);for(32<i&&(e|=(127&u)>>4),i=3;32>i&&128&u;i+=7)e|=(127&(u=a[s++]))<<i;if(me(r,s),!(128>u))throw J();return r=o>>>0,(e=2147483648&(u=e>>>0))&&(u=~u>>>0,0==(r=1+~r>>>0)&&(u=u+1>>>0)),r=4294967296*u+(r>>>0),Ge(t,n,e?-r:r),!0}),(function(e,t,n){null!=(t=Ve(t,n))&&("string"===typeof t&&Z(t),null!=t&&(xe(e.h,8*n),"number"===typeof t?(e=e.h,q(t),we(e,V,G)):(n=Z(t),we(e.h,n.i,n.h))))})),jt=Dt((function(e,t,n){return 0===e.i&&(Ge(t,n,ve(e.h)),!0)}),(function(e,t,n){if(null!=(t=Ve(t,n))&&null!=t)if(xe(e.h,8*n),e=e.h,0<=(n=t))xe(e,n);else{for(t=0;9>t;t++)e.h.push(127&n|128),n>>=7;e.h.push(1)}})),Bt=Dt((function(e,t,n){if(2!==e.i)return!1;var r=ve(e.h)>>>0,o=ge(e=e.h,r);if(e=e.i,se){var i,a=e;(i=re)||(i=re=new TextDecoder("utf-8",{fatal:!0})),e=o+r,a=0===o&&e===a.length?a:a.subarray(o,e);try{var s=i.decode(a)}catch(f){if(void 0===ae){try{i.decode(new Uint8Array([128]))}catch(d){}try{i.decode(new Uint8Array([97])),ae=!0}catch(d){ae=!1}}throw!ae&&(re=void 0),f}}else{r=(s=o)+r,o=[];for(var u,c,l=null;s<r;)128>(u=e[s++])?o.push(u):224>u?s>=r?te():(c=e[s++],194>u||128!==(192&c)?(s--,te()):o.push((31&u)<<6|63&c)):240>u?s>=r-1?te():128!==(192&(c=e[s++]))||224===u&&160>c||237===u&&160<=c||128!==(192&(a=e[s++]))?(s--,te()):o.push((15&u)<<12|(63&c)<<6|63&a):244>=u?s>=r-2?te():128!==(192&(c=e[s++]))||0!==c-144+(u<<28)>>30||128!==(192&(a=e[s++]))||128!==(192&(i=e[s++]))?(s--,te()):(u=(7&u)<<18|(63&c)<<12|(63&a)<<6|63&i,u-=65536,o.push(55296+(u>>10&1023),56320+(1023&u))):te(),8192<=o.length&&(l=ne(l,o),o.length=0);s=ne(l,o)}return Ge(t,n,s),!0}),(function(e,t,n){if(null!=(t=Ve(t,n))){var r=!1;if(r=void 0!==r&&r,ue){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(oe||(oe=new TextEncoder)).encode(t)}else{for(var o=0,i=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)i[o++]=s;else{if(2048>s)i[o++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var u=t.charCodeAt(++a);if(56320<=u&&57343>=u){s=1024*(s-55296)+u-56320+65536,i[o++]=s>>18|240,i[o++]=s>>12&63|128,i[o++]=s>>6&63|128,i[o++]=63&s|128;continue}a--}if(r)throw Error("Found an unpaired surrogate");s=65533}i[o++]=s>>12|224,i[o++]=s>>6&63|128}i[o++]=63&s|128}}t=o===i.length?i:i.subarray(0,o)}xe(e.h,8*n+2),xe(e.h,t.length),Ae(e,e.h.end()),Ae(e,t)}})),zt=Dt((function(e,t,n,r,o){if(2!==e.i)return!1;t=Qe(t,n,r),n=e.h.j,r=ve(e.h)>>>0;var i=e.h.h+r,a=i-n;if(0>=a&&(e.h.j=i,o(t,e,void 0,void 0,void 0),a=i-e.h.h),a)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=i,e.h.j=n,!0}),(function(e,t,n,r,o){if(null!=(t=$e(t,r,n)))for(r=0;r<t.length;r++){var i=e;xe(i.h,8*n+2);var a=i.h.end();Ae(i,a),a.push(i.i),i=a,o(t[r],e),a=e;var s=i.pop();for(s=a.i+a.h.length()-s;127<s;)i.push(127&s|128),s>>>=7,a.i++;i.push(s),a.i++}}));function Ut(e){return function(t,n){e:{if(Ee.length){var r=Ee.pop();r.setOptions(n),pe(r.h,t,n),t=r}else t=new ke(t,n);try{var o=Pt(e),i=Nt(new o.P,t,o);break e}finally{(o=t.h).i=null,o.m=!1,o.l=0,o.j=0,o.h=0,o.S=!1,t.l=-1,t.i=-1,100>Ee.length&&Ee.push(t)}i=void 0}return i}}function Wt(e){return function(){var t=new Ce;Mt(this,t,Ct(e)),Ae(t,t.h.end());for(var n=new Uint8Array(t.i),r=t.j,o=r.length,i=0,a=0;a<o;a++){var s=r[a];n.set(s,i),i+=s.length}return t.j=[n],n}}function Ht(e){ct.call(this,e)}m(Ht,ct);var Vt=[Ht,1,jt,2,Ft,3,Bt,4,Bt];function Gt(e){ct.call(this,e,-1,qt)}Ht.prototype.l=Wt(Vt),m(Gt,ct),Gt.prototype.addClassification=function(e,t){return Qe(this,1,Ht,e,t),this};var qt=[1],Xt=Ut([Gt,1,zt,Vt]);function Kt(e){ct.call(this,e)}m(Kt,ct);var Yt=[Kt,1,Ft,2,Ft,3,Ft,4,Ft,5,Ft];function $t(e){ct.call(this,e,-1,Zt)}Kt.prototype.l=Wt(Yt),m($t,ct);var Zt=[1],Qt=Ut([$t,1,zt,Yt]);function Jt(e){ct.call(this,e)}m(Jt,ct);var en=[Jt,1,Ft,2,Ft,3,Ft,4,Ft,5,Ft,6,Lt],tn=Ut(en);function nn(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function rn(e){return $e(e,Ht,1).map((function(e){var t=Ve(e,1);return{index:null==t?0:t,score:et(e,2),label:null!=Ve(e,3)?Je(Ve(e,3),""):void 0,displayName:null!=Ve(e,4)?Je(Ve(e,4),""):void 0}}))}function on(e){return{x:et(e,1),y:et(e,2),z:et(e,3),visibility:null!=Ke(e,4)?et(e,4):void 0}}function an(e){return e.map((function(e){return $e(Qt(e),Kt,1).map(on)}))}function sn(e,t){this.i=e,this.h=t,this.m=0}function un(e,t,n){return function(e,t){var n=e.h;if(void 0===e.s){var r=nn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),o=nn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(i));r=e.s=i,n.useProgram(r),o=n.getUniformLocation(r,"sampler0"),e.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),xa:o},e.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.enableVertexAttribArray(e.l.O),n.vertexAttribPointer(e.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.l.N),n.vertexAttribPointer(e.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(o,0)}r=e.l,n.useProgram(e.s),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.i.bindTexture2d(t.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"===typeof e.h.canvas.transferToImageBitmap?Promise.resolve(e.h.canvas.transferToImageBitmap()):n?Promise.resolve(e.h.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise((function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)})))}function cn(e){this.h=e}Jt.prototype.l=Wt(en);var ln=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function fn(e,t){return t+e}function dn(e,t){window[e]=t}function hn(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||fn,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.l[n]="function"===typeof r?r():r)}}function pn(e){var t,n,r,o,i,a,s,c,l,f,d;return _((function(h){switch(h.h){case 1:return e.ga?(t=void 0===e.h.files?[]:"function"===typeof e.h.files?e.h.files(e.l):e.h.files,b(h,_((function(e){switch(e.h){case 1:return e.s=2,b(e,WebAssembly.instantiate(ln),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(n=h.i,"object"===typeof window)return dn("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),dn("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),a=t.filter((function(e){return void 0!==e.data})),s=t.filter((function(e){return void 0===e.data})),c=Promise.all(a.map((function(t){var n=mn(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then((function(t){return e.overrideFile(r,t),Promise.resolve(t)}))}return n}))),l=Promise.all(s.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.ha)):Promise.resolve()}))).then((function(){var t,n,r;return _((function(o){if(1==o.h)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,b(o,t(n),2);r.i=o.i,o.h=0}))})),f=_((function(t){return e.h.graph&&e.h.graph.url?t=b(t,mn(e,e.h.graph.url),0):(t.h=0,t=void 0),t})),b(h,Promise.all([l,c,f]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.ha)})),importScripts.apply(null,u(r)),o=e,b(h,createMediapipeSolutionsWasm(Module),6);case 6:o.i=h.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,i=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,ua:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(i),h.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(d=e.m.getContext("webgl2",{}))&&!(d=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.K=d,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,h.h=0}}))}function mn(e,t){var n,r;return _((function(o){return t in e.L?o.return(e.L[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.L[t]=r,o.return(r))}))}function vn(e,t,n){var r,o,i,a,u,c,l,f,d,h,p,m,v,g;return _((function(y){switch(y.h){case 1:if(!n)return y.return(t);for(r={},o=0,i=s(Object.keys(n)),a=i.next();!a.done;a=i.next())u=a.value,"string"!==typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++o;1<o&&(e.M=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){y.h=4;break}if(f=a.value,"string"===typeof(d=n[f]))return v=r,g=f,b(y,function(e,t,n){var r;return _((function(o){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.i.Uint8BlobList?o.return(n):n instanceof e.i.Texture2dDataOut?((r=e.v[t])||(r=new sn(e.i,e.K),e.v[t]=r),o.return(un(r,n,e.M))):o.return(void 0)}))}(e,f,t[d]),14);if(h=t[d.stream],"detection_list"===d.type){if(h){for(var w=h.getRectList(),x=h.getLandmarksList(),k=h.getClassificationsList(),S=[],E=0;E<w.size();++E){var C=tn(w.get(E)),A=void 0;A=void 0===A?0:A,C={la:{ra:et(C,1),sa:et(C,2),height:et(C,3),width:et(C,4),rotation:et(C,5,0),pa:Je(Ve(C,6),A)},ea:$e(Qt(x.get(E)),Kt,1).map(on),ba:rn(Xt(k.get(E)))},S.push(C)}w=S}else w=[];r[f]=w,y.h=7;break}if("proto_list"===d.type){if(h){for(w=Array(h.size()),x=0;x<h.size();x++)w[x]=h.get(x);h.delete()}else w=[];r[f]=w,y.h=7;break}if(void 0===h){y.h=3;break}if("float_list"===d.type){r[f]=h,y.h=7;break}if("proto"===d.type){r[f]=h,y.h=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(p=e.v[f])||(p=new sn(e.i,e.K),e.v[f]=p),b(y,un(p,h,e.M),13);case 13:m=y.i,r[f]=m;case 7:d.transform&&r[f]&&(r[f]=d.transform(r[f])),y.h=3;break;case 14:v[g]=y.i;case 3:a=l.next(),y.h=2;break;case 4:return y.return(r)}}))}function gn(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),o=new e.i.StringList,i=s(t.wants),a=i.next();!a.done;a=i.next())o.push_back(a.value);i=e.i.PacketListener.implement({onResults:function(o){for(var i={},a=0;a<t.wants.length;++a)i[r[a]]=o.get(a);var s=e.listeners[n];s&&(e.I=vn(e,i,t.outs).then((function(n){n=s(n);for(var o=0;o<t.wants.length;++o){var a=i[r[o]];"object"===typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.I=n)})))}}),e.j.attachMultiListener(o,i),o.delete()}function yn(e){return void 0===e&&(e=0),1===e?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function bn(e){var t=this;e=e||{},this.h=new hn({locateFile:e.locateFile,files:function(e){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:yn(e.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:an},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:an},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(e){return e.map((function(e){return rn(Xt(e))[0]}))}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,o;return _((function(i){return 1==i.h?(n=yn(e),r="third_party/mediapipe/modules/hand_landmark/"+n,b(i,mn(t.h,n),2)):(o=i.i,t.h.overrideFile(r,o),i.return(!0))}))}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}(e=hn.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},e.reset=function(){var e=this;return _((function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.h.options){for(var r=[],o=[],i={},a=s(Object.keys(e)),u=a.next();!u.done;i={X:i.X,Y:i.Y},u=a.next())if(!((u=u.value)in this.l)||this.l[u]!==e[u]){this.l[u]=e[u];var c=t[u];void 0!==c&&(c.onChange&&(i.X=c.onChange,i.Y=e[u],r.push(function(e){return function(){return _((function(t){if(1==t.h)return b(t,e.X(e.Y),2);!0===t.i&&(n.u=!0),t.h=0}))}}(i))),c.graphOptionXref&&(u=Object.assign({},{calculatorName:"",calculatorIndex:0},c.graphOptionXref,{valueNumber:1===c.type?e[u]:0,valueBoolean:0===c.type&&e[u],valueString:2===c.type?e[u]:""}),o.push(u)))}0===r.length&&0===o.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(o),this.F=(void 0===this.F?[]:this.F).concat(r))}},e.initialize=function(){var e=this;return _((function(t){return 1==t.h?b(t,pn(e),2):3!=t.h?b(t,function(e){var t,n,r,o,i,a,u,c;return _((function(l){if(1==l.h)return e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url?l.return():(e.u=!0,e.h.graph&&e.h.graph.url?(e.fa=e.h.graph.url,b(l,mn(e,e.h.graph.url),3)):void(l.h=2));for(2!=l.h&&(t=l.i,e.j.loadGraph(t)),n=s(Object.keys(e.D)),r=n.next();!r.done;r=n.next())o=r.value,e.j.overrideFile(o,e.D[o]);if(e.D={},e.h.listeners)for(i=s(e.h.listeners),a=i.next();!a.done;a=i.next())u=a.value,gn(e,u);c=e.l,e.l={},e.setOptions(c),l.h=0}))}(e),3):b(t,function(e){var t,n,r,o,i,a;return _((function(u){switch(u.h){case 1:if(!e.u)return u.return();if(!e.F){u.h=2;break}t=s(e.F),n=t.next();case 3:if(n.done){u.h=5;break}return b(u,(0,n.value)(),4);case 4:n=t.next(),u.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(r=new e.i.GraphOptionChangeRequestList,o=s(e.H),i=o.next();!i.done;i=o.next())a=i.value,r.push_back(a);e.j.changeOptions(r),r.delete(),e.H=void 0}e.u=!1,u.h=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(e,t){var n,r,o,i,a,u,c,l,f,d=this;return _((function(h){switch(h.h){case 1:return d.h.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),b(h,d.I,2)):h.return();case 2:return b(h,d.initialize(),3);case 3:for(r=new d.i.PacketDataList,o=s(Object.keys(e)),i=o.next();!i.done;i=o.next())if(a=i.value,u=d.h.inputs[a]){e:{var p=e[a];switch(u.type){case"video":var m=d.s[u.stream];if(m||(m=new sn(d.i,d.K),d.s[u.stream]=m),0===m.m&&(m.m=m.i.createTexture()),"undefined"!==typeof HTMLVideoElement&&p instanceof HTMLVideoElement)var v=p.videoWidth,g=p.videoHeight;else"undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement?(v=p.naturalWidth,g=p.naturalHeight):(v=p.width,g=p.height);g={glName:m.m,width:v,height:g},(v=m.h).canvas.width=g.width,v.canvas.height=g.height,v.activeTexture(v.TEXTURE0),m.i.bindTexture2d(m.m),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,p),m.i.bindTexture2d(0),m=g;break e;case"detections":for((m=d.s[u.stream])||(m=new cn(d.i),d.s[u.stream]=m),m.data||(m.data=new m.h.DetectionListData),m.data.reset(p.length),g=0;g<p.length;++g){v=p[g];var y=m.data,w=y.setBoundingBox,x=g,k=v.la,S=new Jt;if(Ze(S,1,k.ra),Ze(S,2,k.sa),Ze(S,3,k.height),Ze(S,4,k.width),Ze(S,5,k.rotation),Ge(S,6,k.pa),k=S.l(),w.call(y,x,k),v.ea)for(y=0;y<v.ea.length;++y){S=v.ea[y],x=(w=m.data).addNormalizedLandmark,k=g,S=Object.assign({},S,{visibility:S.visibility?S.visibility:0});var _=new Kt;Ze(_,1,S.x),Ze(_,2,S.y),Ze(_,3,S.z),S.visibility&&Ze(_,4,S.visibility),S=_.l(),x.call(w,k,S)}if(v.ba)for(y=0;y<v.ba.length;++y)x=(w=m.data).addClassification,k=g,S=v.ba[y],Ze(_=new Ht,2,S.score),S.index&&Ge(_,1,S.index),S.label&&Ge(_,3,S.label),S.displayName&&Ge(_,4,S.displayName),S=_.l(),x.call(w,k,S)}m=m.data;break e;default:m={}}}switch(c=m,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign({},c,{stream:l,timestamp:n}));break;case"detections":(f=c).stream=l,f.timestamp=n,r.pushDetectionList(f);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return d.j.send(r),b(h,d.I,4);case 4:r.delete(),h.h=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},A("Solution",hn),A("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=bn.prototype).close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(e){this.h.onResults(e)},e.initialize=function(){var e=this;return _((function(t){return b(t,e.h.initialize(),0)}))},e.reset=function(){this.h.reset()},e.send=function(e){var t=this;return _((function(n){return b(n,t.h.send(e),0)}))},e.setOptions=function(e){this.h.setOptions(e)},A("Hands",bn),A("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),A("VERSION","0.4.1675469240")}).call(this)},5811:(e,t,n)=>{var r=n(347),o=n(1303).each;function i(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}i.prototype={constuctor:i,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,(function(t){t[e]()}))}},e.exports=i},8537:(e,t,n)=>{var r=n(5811),o=n(1303),i=o.each,a=o.isFunction,s=o.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var o=this.queries,u=n&&this.browserIsIncapable;return o[e]||(o[e]=new r(e,u)),a(t)&&(t={match:t}),s(t)||(t=[t]),i(t,(function(t){a(t)&&(t={match:t}),o[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},1303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},535:(e,t,n)=>{var r=n(8537);e.exports=new r},1270:(e,t,n)=>{var r=n(7475),o=function(e){var t="",n=Object.keys(e);return n.forEach((function(o,i){var a=e[o];(function(e){return/[height|width]$/.test(e)})(o=r(o))&&"number"===typeof a&&(a+="px"),t+=!0===a?o:!1===a?"not "+o:"("+o+": "+a+")",i<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=o(n),r<e.length-1&&(t+=", ")})),t):o(e)}},6159:(e,t,n)=>{e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,o,a,s,u,c,l=[],f=0,d=e.length,h=d,p="string"!==r.getTypeOf(e);f<e.length;)h=d-f,o=p?(t=e[f++],n=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|n>>4,u=1<h?(15&n)<<2|o>>6:64,c=2<h?63&o:64,l.push(i.charAt(a)+i.charAt(s)+i.charAt(u)+i.charAt(c));return l.join("")},n.decode=function(e){var t,n,r,a,s,u,c=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&h--,e.charAt(e.length-2)===i.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=i.indexOf(e.charAt(c++))<<2|(a=i.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(s=i.indexOf(e.charAt(c++)))>>2,r=(3&s)<<6|(u=i.indexOf(e.charAt(c++))),d[l++]=t,64!==s&&(d[l++]=n),64!==u&&(d[l++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),o=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=o}s.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return~e}(0|t,e,e.length,0):function(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),i=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",i.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new u("Deflate",e)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function o(e,t,n,o,a,l){var f,d,h=e.file,p=e.compression,m=l!==s.utf8encode,v=i.transformTo("string",l(h.name)),g=i.transformTo("string",s.utf8encode(h.name)),y=h.comment,b=i.transformTo("string",l(y)),w=i.transformTo("string",s.utf8encode(y)),x=g.length!==h.name.length,k=w.length!==y.length,S="",_="",E="",C=h.dir,A=h.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!x&&!k||(T|=2048);var R=0,I=0;C&&(R|=16),"UNIX"===a?(I=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(I=20,R|=function(e){return 63&(e||0)}(h.dosPermissions)),f=A.getUTCHours(),f<<=6,f|=A.getUTCMinutes(),f<<=5,f|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),x&&(_=r(1,1)+r(u(v),4)+g,S+="up"+r(_.length,2)+_),k&&(E=r(1,1)+r(u(b),4)+w,S+="uc"+r(E.length,2)+E);var P="";return P+="\n\0",P+=r(T,2),P+=p.magic,P+=r(f,2),P+=r(d,2),P+=r(O.crc32,4),P+=r(O.compressedSize,4),P+=r(O.uncompressedSize,4),P+=r(v.length,2),P+=r(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+P+v+S,dirRecord:c.CENTRAL_FILE_HEADER+r(I,2)+P+r(b.length,2)+"\0\0\0\0"+r(R,4)+r(o,4)+v+S+b}}var i=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),u=e("../crc32"),c=e("../signature");function l(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=o(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,o=function(e,t,n,o,a){var s=i.transformTo("string",a(o));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),o=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var i=new o(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var o=function(e,t){var n=e||t,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},u=n.dir,c=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:e,dir:u,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./external"),i=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function c(e){return new o.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(c(r[i]));return o.Promise.all(n)})).then((function(e){for(var o=e.shift(),i=o.files,a=0;a<i.length;a++){var s=i[a],u=s.fileNameStr,c=r.resolve(s.fileNameStr);n.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(c).unsafeOriginalName=u)}return o.zipComment.length&&(n.comment=o.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),o=e("../stream/GenericWorker");function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function o(e,t,n){r.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),n&&n(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}e("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,o=i.getTypeOf(t),s=i.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=p(e))&&v.call(this,r,!0);var f="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!f),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",o="string");var g=null;g=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new h(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new l(e,g,s);this.files[e]=y}var o=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),u=e("./defaults"),c=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t=void 0!==t?t:u.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var o=e;return this.filter((function(e,t){return!t.dir&&o.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=v.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function o(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),o=e("../support"),i=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new u(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),o=e("../utils");function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),o=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./ConvertWorker"),i=e("./GenericWorker"),a=e("../base64"),s=e("../support"),u=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new u.Promise((function(n,o){var i=[],s=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",(function(e,n){i.push(e),t&&t(n)})).on("error",(function(e){i=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(u,function(e,t){var n,r=0,o=null,i=0;for(n=0;n<t.length;n++)i+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(i),n=0;n<t.length;n++)o.set(t[n],r),r+=t[n].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,i),c);n(e)}catch(e){o(e)}i=[]})).resume()}))}function f(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new o(a)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),o=e("./support"),i=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,a,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(u):new Array(u),i=a=0;a<u;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return o.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,o,i,a=e.length,u=new Array(2*a);for(t=n=0;t<a;)if((o=e[t++])<128)u[n++]=o;else if(4<(i=s[o]))u[n++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&t<a;)o=o<<6|63&e[t++],i--;1<i?u[n++]=65533:o<65536?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(e=r.transformTo(o.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var t=r.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),u=t;a!==t.length&&(o.uint8array?(u=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(u=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(u),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),o=e("./base64"),i=e("./nodejsUtils"),a=e("./external");function s(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(t),o.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],o=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,r=n.getTypeOf(e),o=!0;if("uint8array"===r?o=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=c.applyCanBeUsed.nodebuffer),o)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=l;var d={};d.string={string:s,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,i.allocBuffer(e.length))}},d.array={string:l,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},d.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return i.newBufferFrom(e)}},d.nodebuffer={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var o=t[r];"."===o||""===o&&0!==r&&r!==t.length-1||(".."===o?n.pop():n.push(o))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,i,s,c){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(c?t=o.decode(t):i&&!0!==s&&(t=function(e){return u(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),o=e("./utils"),i=e("./signature"),a=e("./zipEntry"),s=e("./support");function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),o=e("./utils"),i=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),u=e("./compressions"),c=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<o;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(o)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),u=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new u("error")).error(e)}return new o(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=l;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=p((function(){t(o,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?f(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(e[u],u);return c;function l(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))}),(function(e){r||(r=!0,i.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(o);++s<n;)a=e[s],t.resolve(a).then((function(e){r||(r=!0,i.resolve(u,e))}),(function(e){r||(r=!0,i.reject(u,e))}));return u}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,c=0,l=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=o.assign({level:l,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,c,f,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=i.utf8border(h.output,h.next_out),c=h.next_out-u,f=i.buf2string(h.output,u),h.next_out=c,h.avail_out=p-c,c&&o.arraySet(h.output,h.output,u,c,0),this.onData(f)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=o=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,o,i,a,s=e.length,u=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),i=a=0;a<u;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return u(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,s=t||e.length,c=new Array(2*s);for(n=r=0;n<s;)if((o=e[n++])<128)c[r++]=o;else if(4<(i=a[o]))c[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&n<s;)o=o<<6|63&e[n++],i--;1<i?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return u(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var o=65535&e,i=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+(o=o+t[r++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return~e}},{}],46:[function(e,t,n){"use strict";var r,o=e("../utils/common"),i=e("./trees"),a=e("./adler32"),s=e("./crc32"),u=e("./messages"),c=0,l=4,f=0,d=-2,h=-1,p=4,m=2,v=8,g=9,y=286,b=30,w=19,x=2*y+1,k=15,S=3,_=258,E=_+S+1,C=42,A=113,O=1,T=2,R=3,I=4;function P(e,t){return e.msg=u[t],t}function N(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function F(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function j(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+_,h=c[i+a-1],p=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=_-(d-i),i=d-_,a<r){if(e.match_start=t,s<=(a=r))break;h=c[i+a-1],p=c[i+a]}}}while((t=f[t&l])>u&&0!=--o);return a<=e.lookahead?a:e.lookahead}function z(e){var t,n,r,i,u,c,l,f,d,h,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(o.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);i+=p}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,f=e.strstart+e.lookahead,h=void 0,(d=i)<(h=c.avail_in)&&(h=d),n=0===h?0:(c.avail_in-=h,o.arraySet(l,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=a(c.adler,l,h,f):2===c.state.wrap&&(c.adler=s(c.adler,l,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=S)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+S-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<E){if(z(e),e.lookahead<E&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=B(e,n)),e.match_length>=S)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<S-1?e.strstart:S-1,t===l?(F(e,!0),0===e.strm.avail_out?R:I):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:T}function W(e,t){for(var n,r,o;;){if(e.lookahead<E){if(z(e),e.lookahead<E&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=B(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-S,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,r&&(F(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&F(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===l?(F(e,!0),0===e.strm.avail_out?R:I):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:T}function H(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*x),this.dyn_dtree=new o.Buf16(2*(2*b+1)),this.bl_tree=new o.Buf16(2*(2*w+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*y+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:A,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),f):P(e,d)}function q(e){var t=G(e);return t===f&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=S-1,e.match_available=0,e.ins_h=0}(e.state),t}function X(e,t,n,r,i,a){if(!e)return d;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||g<i||n!==v||r<8||15<r||t<0||9<t||a<0||p<a)return P(e,d);8===r&&(r=9);var u=new V;return(e.state=u).strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+S-1)/S),u.window=new o.Buf8(2*u.w_size),u.head=new o.Buf16(u.hash_size),u.prev=new o.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new o.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,q(e)}r=[new H(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),0===e.lookahead&&t===c)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,F(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-E&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(F(e,!0),0===e.strm.avail_out?R:I):(e.strstart>e.block_start&&(F(e,!1),e.strm.avail_out),O)})),new H(4,4,8,4,U),new H(4,5,16,8,U),new H(4,6,32,32,U),new H(4,4,16,16,W),new H(8,16,32,32,W),new H(8,16,128,128,W),new H(8,32,128,256,W),new H(32,128,258,1024,W),new H(32,258,258,4096,W)],n.deflateInit=function(e,t){return X(e,t,v,15,8,0)},n.deflateInit2=X,n.deflateReset=q,n.deflateResetKeep=G,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,f):d},n.deflate=function(e,t){var n,o,a,u;if(!e||!e.state||5<t||t<0)return e?P(e,d):d;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&t!==l)return P(e,0===e.avail_out?-5:d);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===C)if(2===o.wrap)e.adler=0,L(o,31),L(o,139),L(o,8),o.gzhead?(L(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),L(o,255&o.gzhead.time),L(o,o.gzhead.time>>8&255),L(o,o.gzhead.time>>16&255),L(o,o.gzhead.time>>24&255),L(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),L(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(L(o,255&o.gzhead.extra.length),L(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(L(o,0),L(o,0),L(o,0),L(o,0),L(o,0),L(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),L(o,3),o.status=A);else{var h=v+(o.w_bits-8<<4)<<8;h|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(h|=32),h+=31-h%31,o.status=A,j(o,h),0!==o.strstart&&(j(o,e.adler>>>16),j(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),D(e),a=o.pending,o.pending!==o.pending_buf_size));)L(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),D(e),a=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,L(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===u&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),D(e),a=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,L(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===u&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&D(e),o.pending+2<=o.pending_buf_size&&(L(o,255&e.adler),L(o,e.adler>>8&255),e.adler=0,o.status=A)):o.status=A),0!==o.pending){if(D(e),0===e.avail_out)return o.last_flush=-1,f}else if(0===e.avail_in&&N(t)<=N(n)&&t!==l)return P(e,-5);if(666===o.status&&0!==e.avail_in)return P(e,-5);if(0!==e.avail_in||0!==o.lookahead||t!==c&&666!==o.status){var p=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===c)return O;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(F(e,!0),0===e.strm.avail_out?R:I):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:T}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=_){if(z(e),e.lookahead<=_&&t===c)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+_;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=_-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(n=i._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(F(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(F(e,!0),0===e.strm.avail_out?R:I):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?O:T}(o,t):r[o.level].func(o,t);if(p!==R&&p!==I||(o.status=666),p===O||p===R)return 0===e.avail_out&&(o.last_flush=-1),f;if(p===T&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(M(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),D(e),0===e.avail_out))return o.last_flush=-1,f}return t!==l?f:o.wrap<=0?1:(2===o.wrap?(L(o,255&e.adler),L(o,e.adler>>8&255),L(o,e.adler>>16&255),L(o,e.adler>>24&255),L(o,255&e.total_in),L(o,e.total_in>>8&255),L(o,e.total_in>>16&255),L(o,e.total_in>>24&255)):(j(o,e.adler>>>16),j(o,65535&e.adler)),D(e),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?f:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?P(e,d):(e.state=null,t===A?P(e,-3):f):d},n.deflateSetDictionary=function(e,t){var n,r,i,s,u,c,l,h,p=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new o.Buf8(n.w_size),o.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),u=e.avail_in,c=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,z(n);n.lookahead>=S;){for(r=n.strstart,i=n.lookahead-(S-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+S-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=S-1,z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=u,n.wrap=s,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x,k,S,_,E,C;n=e.state,r=e.next_in,E=e.input,o=r+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(h>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(h+=E[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),b=v[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,p<(w&=15)&&(h+=E[r++]<<p,(p+=8)<w&&(h+=E[r++]<<p,p+=8)),u<(k+=h&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,(w=i-a)<k){if(l<(w=k-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=d,(S=0)===f){if(S+=c-w,w<x){for(x-=w;C[i++]=d[S++],--w;);S=i-k,_=C}}else if(f<w){if(S+=c+f-w,(w-=f)<x){for(x-=w;C[i++]=d[S++],--w;);if(S=0,f<x){for(x-=w=f;C[i++]=d[S++],--w;);S=i-k,_=C}}}else if(S+=f-w,w<x){for(x-=w;C[i++]=d[S++],--w;);S=i-k,_=C}for(;2<x;)C[i++]=_[S++],C[i++]=_[S++],C[i++]=_[S++],x-=3;x&&(C[i++]=_[S++],1<x&&(C[i++]=_[S++]))}else{for(S=i-k;C[i++]=C[S++],C[i++]=C[S++],C[i++]=C[S++],2<(x-=3););x&&(C[i++]=C[S++],1<x&&(C[i++]=C[S++]))}break}}break}}while(r<o&&i<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),u=1,c=2,l=0,f=-2,d=1,h=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,l):f}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):f}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):f}function w(e,t){var n,r;return e?(r=new v,(e.state=r).window=null,(n=b(e,t))!==l&&(e.state=null),n):f}var x,k,S=!0;function _(e){if(S){var t;for(x=new r.Buf32(512),k=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,k,0,e.work,{bits:5}),S=!1}e.lencode=x,e.lenbits=9,e.distcode=k,e.distbits=5}function E(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,h,p,v,g,y,b,w,x,k,S,C,A,O,T,R,I,P,N,M,D,F,L,j,B=0,z=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,p=e.output,b=e.avail_out,v=e.next_in,h=e.input,y=e.avail_in,w=n.hold,x=n.bits,k=y,S=b,F=l;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(2&n.wrap&&35615===w){z[n.check=0]=255&w,z[1]=w>>>8&255,n.check=i(n.check,z,2,0),x=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&(w>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&w?10:12,x=w=0;break;case 2:for(;x<16;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(z[0]=255&w,z[1]=w>>>8&255,n.check=i(n.check,z,2,0)),x=w=0,n.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.head&&(n.head.time=w),512&n.flags&&(z[0]=255&w,z[1]=w>>>8&255,z[2]=w>>>16&255,z[3]=w>>>24&255,n.check=i(n.check,z,4,0)),x=w=0,n.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(z[0]=255&w,z[1]=w>>>8&255,n.check=i(n.check,z,2,0)),x=w=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(z[0]=255&w,z[1]=w>>>8&255,n.check=i(n.check,z,2,0)),x=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,v,C,D)),512&n.flags&&(n.check=i(n.check,h,C,v)),y-=C,v+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;D=h[v+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=i(n.check,h,C,v)),y-=C,v+=C,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;D=h[v+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=i(n.check,h,C,v)),y-=C,v+=C,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}x=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}e.adler=n.check=m(w),x=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=w,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}switch(n.last=1&w,x-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;w>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,x=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),b<C&&(C=b),0===C)break e;r.arraySet(p,h,v,C,g),y-=C,v+=C,b-=C,g+=C,n.length-=C;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(n.nlen=257+(31&w),w>>>=5,x-=5,n.ndist=1+(31&w),w>>>=5,x-=5,n.ncode=4+(15&w),w>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.lens[U[n.have++]]=7&w,w>>>=3,x-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},F=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,F){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;R=(B=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((T=B>>>24)<=x);){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(I<16)w>>>=T,x-=T,n.lens[n.have++]=I;else{if(16===I){for(j=T+2;x<j;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(w>>>=T,x-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&w),w>>>=2,x-=2}else if(17===I){for(j=T+3;x<j;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}x-=T,D=0,C=3+(7&(w>>>=T)),w>>>=3,x-=3}else{for(j=T+7;x<j;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}x-=T,D=0,C=11+(127&(w>>>=T)),w>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},F=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,F){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},F=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,F){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=w,n.bits=x,a(e,S),g=e.next_out,p=e.output,b=e.avail_out,v=e.next_in,h=e.input,y=e.avail_in,w=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;R=(B=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((T=B>>>24)<=x);){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(R&&0==(240&R)){for(P=T,N=R,M=I;R=(B=n.lencode[M+((w&(1<<P+N)-1)>>P)])>>>16&255,I=65535&B,!(P+(T=B>>>24)<=x);){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}w>>>=P,x-=P,n.back+=P}if(w>>>=T,x-=T,n.back+=T,n.length=I,0===R){n.mode=26;break}if(32&R){n.back=-1,n.mode=12;break}if(64&R){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&R,n.mode=22;case 22:if(n.extra){for(j=n.extra;x<j;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;R=(B=n.distcode[w&(1<<n.distbits)-1])>>>16&255,I=65535&B,!((T=B>>>24)<=x);){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(0==(240&R)){for(P=T,N=R,M=I;R=(B=n.distcode[M+((w&(1<<P+N)-1)>>P)])>>>16&255,I=65535&B,!(P+(T=B>>>24)<=x);){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}w>>>=P,x-=P,n.back+=P}if(w>>>=T,x-=T,n.back+=T,64&R){e.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&R,n.mode=24;case 24:if(n.extra){for(j=n.extra;x<j;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=S-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),O=n.window}else O=p,A=g-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;p[g++]=O[A++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break e;y--,w|=h[v++]<<x,x+=8}if(S-=b,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?i(n.check,p,S,g-S):o(n.check,p,S,g-S)),S=b,(n.flags?w:m(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}x=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break e;y--,w+=h[v++]<<x,x+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}x=w=0}n.mode=29;case 29:F=1;break e;case 30:F=-3;break e;case 31:return-4;default:return f}return e.next_out=g,e.avail_out=b,e.next_in=v,e.avail_in=y,n.hold=w,n.bits=x,(n.wsize||S!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,S-=e.avail_out,e.total_in+=k,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?i(n.check,p,S,e.next_out-S):o(n.check,p,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==k&&0===S||4===t)&&F===l&&(F=-5),F)},n.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?f:((n.head=t).done=!1,l):f},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?f:11===n.mode&&o(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,u,c,l,f,d){var h,p,m,v,g,y,b,w,x,k=d.bits,S=0,_=0,E=0,C=0,A=0,O=0,T=0,R=0,I=0,P=0,N=null,M=0,D=new r.Buf16(16),F=new r.Buf16(16),L=null,j=0;for(S=0;S<=15;S++)D[S]=0;for(_=0;_<u;_++)D[t[n+_]]++;for(A=k,C=15;1<=C&&0===D[C];C--);if(C<A&&(A=C),0===C)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(E=1;E<C&&0===D[E];E++);for(A<E&&(A=E),S=R=1;S<=15;S++)if(R<<=1,(R-=D[S])<0)return-1;if(0<R&&(0===e||1!==C))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+D[S];for(_=0;_<u;_++)0!==t[n+_]&&(f[F[t[n+_]]++]=_);if(y=0===e?(N=L=f,19):1===e?(N=o,M-=257,L=i,j-=257,256):(N=a,L=s,-1),S=E,g=l,T=_=P=0,m=-1,v=(I=1<<(O=A))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(b=S-T,x=f[_]<y?(w=0,f[_]):f[_]>y?(w=L[j+f[_]],N[M+f[_]]):(w=96,0),h=1<<S-T,E=p=1<<O;c[g+(P>>T)+(p-=h)]=b<<24|w<<16|x,0!==p;);for(h=1<<S-1;P&h;)h>>=1;if(0!==h?(P&=h-1,P+=h):P=0,_++,0==--D[S]){if(S===C)break;S=t[n+f[_]]}if(A<S&&(P&v)!==m){for(0===T&&(T=A),g+=E,R=1<<(O=S-T);O+T<C&&!((R-=D[O+T])<=0);)O++,R<<=1;if(I+=1<<O,1===e&&852<I||2===e&&592<I)return 1;c[m=P&v]=A<<24|O<<16|g-l}}return 0!==P&&(c[g+P]=S-T<<24|64<<16),d.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),o=0,i=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,u=29,c=256,l=c+1+u,f=30,d=19,h=2*l+1,p=15,m=16,v=7,g=256,y=16,b=17,w=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(l+2));a(E);var C=new Array(2*f);a(C);var A=new Array(512);a(A);var O=new Array(256);a(O);var T=new Array(u);a(T);var R,I,P,N=new Array(f);function M(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?A[e]:A[256+(e>>>7)]}function L(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function j(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function B(e,t,n){j(e,n[2*t],n[2*t+1])}function z(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,o,i=new Array(p+1),a=0;for(r=1;r<=p;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=z(i[s]++,s))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){8<e.bi_valid?L(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function G(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&V(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!V(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function q(e,t,n){var r,o,i,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?B(e,o,t):(B(e,(i=O[o])+c+1,t),0!==(a=x[i])&&j(e,o-=T[i],a),B(e,i=F(--r),n),0!==(a=k[i])&&j(e,r-=N[i],a)),s<e.last_lit;);B(e,g,t)}function X(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<u;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)G(e,i,n);for(o=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,G(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,v=t.stat_desc.max_length,g=0;for(i=0;i<=p;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)v<(i=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(i=v,g++),u[2*r+1]=i,c<r||(e.bl_count[i]++,a=0,m<=r&&(a=d[r-m]),s=u[2*r],e.opt_len+=s*(i+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==g){do{for(i=v-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[v]--,g-=2}while(0<g);for(i=v;0!==i;i--)for(r=e.bl_count[i];0!==r;)c<(o=e.heap[--n])||(u[2*o+1]!==i&&(e.opt_len+=(i-u[2*o+1])*u[2*o],u[2*o+1]=i),r--)}}(e,t),U(i,c,e.bl_count)}function K(e,t,n){var r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<u&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,i=o,c=(s=0)===a?(u=138,3):o===a?(u=6,3):(u=7,4))}function Y(e,t,n){var r,o,i=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<u&&o===a)){if(s<c)for(;B(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(B(e,o,e.bl_tree),s--),B(e,y,e.bl_tree),j(e,s-3,2)):s<=10?(B(e,b,e.bl_tree),j(e,s-3,3)):(B(e,w,e.bl_tree),j(e,s-11,7));i=o,c=(s=0)===a?(u=138,3):o===a?(u=6,3):(u=7,4)}}a(N);var $=!1;function Z(e,t,n,o){j(e,(s<<1)+(o?1:0),3),function(e,t,n,o){H(e),o&&(L(e,n),L(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){$||(function(){var e,t,n,r,o,i=new Array(p+1);for(r=n=0;r<u-1;r++)for(T[r]=n,e=0;e<1<<x[r];e++)O[n++]=r;for(O[n-1]=r,r=o=0;r<16;r++)for(N[r]=o,e=0;e<1<<k[r];e++)A[o++]=r;for(o>>=7;r<f;r++)for(N[r]=o<<7,e=0;e<1<<k[r]-7;e++)A[256+o++]=r;for(t=0;t<=p;t++)i[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,i[8]++;for(;e<=255;)E[2*e+1]=9,e++,i[9]++;for(;e<=279;)E[2*e+1]=7,e++,i[7]++;for(;e<=287;)E[2*e+1]=8,e++,i[8]++;for(U(E,l+1,i),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=z(e,5);R=new M(E,x,c+1,l,p),I=new M(C,k,0,f,p),P=new M(new Array(0),S,0,d,v)}(),$=!0),e.l_desc=new D(e.dyn_ltree,R),e.d_desc=new D(e.dyn_dtree,I),e.bl_desc=new D(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,W(e)},n._tr_stored_block=Z,n._tr_flush_block=function(e,t,n,r){var a,s,u=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return i;return o}(e)),X(e,e.l_desc),X(e,e.d_desc),u=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?Z(e,t,n,r):4===e.strategy||s===a?(j(e,2+(r?1:0),3),q(e,E,C)):(j(e,4+(r?1:0),3),function(e,t,n,r){var o;for(j(e,t-257,5),j(e,n-1,5),j(e,r-4,4),o=0;o<r;o++)j(e,e.bl_tree[2*_[o]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),q(e,e.dyn_ltree,e.dyn_dtree)),W(e),r&&H(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+c+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){j(e,2,3),B(e,g,E),function(e){16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,o,i,a=1,s={},u=!1,c=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){o.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return s[a]=o,n(a),a++},l.clearImmediate=f}function f(e){delete s[e]}function d(e){if(u)setTimeout(d,0,e);else{var n=s[e];if(n){u=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{f(e),u=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&d(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},446:(e,t,n)=>{var r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==o}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,n){var r,o,i,a,s,u,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=i}function w(){var e=v();if(b(e))return x(e);s=setTimeout(w,function(e){var n=t-(e-u);return f?m(n,i-(e-c)):n}(e))}function x(e){return s=void 0,d&&r?h(e):(r=o=void 0,a)}function k(){var e=v(),n=b(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(w,t),l?h(e):a}(u);if(f)return s=setTimeout(w,t),h(u)}return void 0===s&&(s=setTimeout(w,t)),a}return t=y(t)||0,g(n)&&(l=!!n.leading,i=(f="maxWait"in n)?p(y(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},k.flush=function(){return void 0===s?a:x(v())},k}},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1132:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case m:case p:case u:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=f,t.isFragment=function(e){return g(e)===i},t.isMemo=function(e){return g(e)===p}},6816:(e,t,n)=>{"use strict";e.exports=n(1132)},8738:(e,t,n)=>{"use strict";var r,o=n(5043),i=(r=o)&&"object"===typeof r&&"default"in r?r.default:r,a=n(2751),s=new a,u=s.getBrowser(),c=s.getCPU(),l=s.getDevice(),f=s.getEngine(),d=s.getOS(),h=s.getUA(),p=function(e){return s.setUA(e)},m=function(e){if(e){var t=new a(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}}console.error("No userAgent string was provided")},v=Object.freeze({ClientUAInstance:s,browser:u,cpu:c,device:l,engine:f,os:d,ua:h,setUa:p,parseUserAgent:m});function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O="mobile",T="tablet",R="smarttv",I="console",P="wearable",N="embedded",M=void 0,D={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},F={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},L={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},j=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},B=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},z=function(e){var t=B();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},U=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:j(t.vendor),model:j(t.model),os:j(n.name),osVersion:j(n.version),ua:j(r)})};var W=function(e){return e.type===O},H=function(e){return e.type===T},V=function(e){var t=e.type;return t===O||t===T},G=function(e){return e.type===R},q=function(e){return e.type===M},X=function(e){return e.type===P},K=function(e){return e.type===I},Y=function(e){return e.type===N},$=function(e){var t=e.vendor;return j(t)},Z=function(e){var t=e.model;return j(t)},Q=function(e){var t=e.type;return j(t,"browser")},J=function(e){return e.name===F.Android},ee=function(e){return e.name===F.Windows},te=function(e){return e.name===F.MAC_OS},ne=function(e){return e.name===F.WindowsPhone},re=function(e){return e.name===F.IOS},oe=function(e){var t=e.version;return j(t)},ie=function(e){var t=e.name;return j(t)},ae=function(e){return e.name===D.Chrome},se=function(e){return e.name===D.Firefox},ue=function(e){return e.name===D.Chromium},ce=function(e){return e.name===D.Edge},le=function(e){return e.name===D.Yandex},fe=function(e){var t=e.name;return t===D.Safari||t===D.MobileSafari},de=function(e){return e.name===D.MobileSafari},he=function(e){return e.name===D.Opera},pe=function(e){var t=e.name;return t===D.InternetExplorer||t===D.Ie},me=function(e){return e.name===D.MIUI},ve=function(e){return e.name===D.SamsungBrowser},ge=function(e){var t=e.version;return j(t)},ye=function(e){var t=e.major;return j(t)},be=function(e){var t=e.name;return j(t)},we=function(e){var t=e.name;return j(t)},xe=function(e){var t=e.version;return j(t)},ke=function(){var e=B(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)},Se=function(e){return"string"===typeof e&&-1!==e.indexOf("Edg/")},_e=function(){var e=B();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},Ee=function(){return z("iPad")},Ce=function(){return z("iPhone")},Ae=function(){return z("iPod")},Oe=function(e){return j(e)};function Te(e){var t=e||v,n=t.device,r=t.browser,o=t.os,i=t.engine,a=t.ua;return{isSmartTV:G(n),isConsole:K(n),isWearable:X(n),isEmbedded:Y(n),isMobileSafari:de(r)||Ee(),isChromium:ue(r),isMobile:V(n)||Ee(),isMobileOnly:W(n),isTablet:H(n)||Ee(),isBrowser:q(n),isDesktop:q(n),isAndroid:J(o),isWinPhone:ne(o),isIOS:re(o)||Ee(),isChrome:ae(r),isFirefox:se(r),isSafari:fe(r),isOpera:he(r),isIE:pe(r),osVersion:oe(o),osName:ie(o),fullBrowserVersion:ge(r),browserVersion:ye(r),browserName:be(r),mobileVendor:$(n),mobileModel:Z(n),engineName:we(i),engineVersion:xe(i),getUA:Oe(a),isEdge:ce(r)||Se(a),isYandex:le(r),deviceType:Q(n),isIOS13:_e(),isIPad13:Ee(),isIPhone13:Ce(),isIPod13:Ae(),isElectron:ke(),isEdgeChromium:Se(a),isLegacyEdge:ce(r)&&!Se(a),isWindows:ee(o),isMacOs:te(o),isMIUI:me(r),isSamsungBrowser:ve(r)}}var Re=G(l),Ie=K(l),Pe=X(l),Ne=Y(l),Me=de(u)||Ee(),De=ue(u),Fe=V(l)||Ee(),Le=W(l),je=H(l)||Ee(),Be=q(l),ze=q(l),Ue=J(d),We=ne(d),He=re(d)||Ee(),Ve=ae(u),Ge=se(u),qe=fe(u),Xe=he(u),Ke=pe(u),Ye=oe(d),$e=ie(d),Ze=ge(u),Qe=ye(u),Je=be(u),et=$(l),tt=Z(l),nt=we(f),rt=xe(f),ot=Oe(h),it=ce(u)||Se(h),at=le(u),st=Q(l),ut=_e(),ct=Ee(),lt=Ce(),ft=Ae(),dt=ke(),ht=Se(h),pt=ce(u)&&!Se(h),mt=ee(d),vt=te(d),gt=me(u),yt=ve(u);function bt(e){var t=e||window.navigator.userAgent;return m(t)}t.Fr=Fe},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var F,L=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Ee(e){if(e=wo(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ae(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Oe(e,t){return e(t)}function Te(){}var Re=!1;function Ie(e,t,n){if(Re)return e(t,n);Re=!0;try{return Oe(e,t,n)}finally{Re=!1,(null!==Se||null!==_e)&&(Te(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){Ne=!1}function De(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Le=null,je=!1,Be=null,ze={onError:function(e){Fe=!0,Le=e}};function Ue(e,t,n,r,o,i,a,s,u){Fe=!1,Le=null,De.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ve(o),e;if(a===r)return Ve(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,St,_t,Et,Ct=!1,At=[],Ot=null,Tt=null,Rt=null,It=new Map,Pt=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function zt(){Ct=!1,null!==Ot&&jt(Ot)&&(Ot=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Rt&&jt(Rt)&&(Rt=null),It.forEach(Bt),Pt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<At.length){Ut(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Ut(Ot,e),null!==Tt&&Ut(Tt,e),null!==Rt&&Ut(Rt,e),It.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function qt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Xt(e,t,n,r){if(Vt){var o=Yt(e,t,n,r);if(null===o)Vr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ot=Ft(Ot,e,t,n,r,o),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,o),!0;case"mouseover":return Rt=Ft(Rt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return It.set(i,Ft(It.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,Ft(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=bo(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=L({},cn,{view:0,detail:0}),dn=on(fn),hn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),mn=on(L({},hn,{dataTransfer:0})),vn=on(L({},fn,{relatedTarget:0})),gn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var Cn=L({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(Cn),On=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(In),Nn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Mn||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Kn(e){jr(e,0)}function Yn(e){if(X(xo(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(l){var Qn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Gn(t,Xn,e,xe(e)),Ie(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=lr(n,i);var a=lr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),Ar=Er("animationiteration"),Or=Er("animationstart"),Tr=Er("transitionend"),Rr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Nr=0;Nr<Ir.length;Nr++){var Mr=Ir[Nr];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Or,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var l=Le;Fe=!1,Le=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vo];void 0===n&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var o=Gt;break;case 4:o=qt;break;default:o=Xt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=i,o=xe(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Cr:case Ar:case Or:u=gn;break;case Tr:u=Rn;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Pe(p,d))&&l.push(Gr(p,m,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(f=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:xo(u),h=null==c?s:xo(c),(s=new l(m,p+"leave",u,n,o)).target=f,s.relatedTarget=h,m=null,bo(o)===r&&((l=new l(d,p+"enter",c,n,o)).target=h,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Xr(h))p++;for(h=0,m=d;m;m=Xr(m))h++;for(;0<p-h;)l=Xr(l),p--;for(;0<h-p;)d=Xr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Xr(l),d=Xr(d)}l=null}else l=null;null!==u&&Kr(a,s,u,l,!1),null!==c&&null!==f&&Kr(a,f,c,l,!0)}if("select"===(u=(s=r?xo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Vn(s))if(Zn)v=ar;else{v=or;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Gn(a,v,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xo(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,o)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Wn=!0)),0<(g=qr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&zn(e,t)?(e=en(),Jt=Qt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}jr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Pe(e,n))&&r.unshift(Gr(e,i,o)),null!=(i=Pe(e,t))&&r.push(Gr(e,i,o))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=Pe(n,i))&&a.unshift(Gr(n,u,s)):o||null!=(u=Pe(n,i))&&a.push(Gr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function uo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Wt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function lo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,mo="__reactContainer$"+fo,vo="__reactEvents$"+fo,go="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lo(e);null!==e;){if(n=e[ho])return n;e=lo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[po]||null}var So=[],_o=-1;function Eo(e){return{current:e}}function Co(e){0>_o||(e.current=So[_o],So[_o]=null,_o--)}function Ao(e,t){_o++,So[_o]=e.current,e.current=t}var Oo={},To=Eo(Oo),Ro=Eo(!1),Io=Oo;function Po(e,t){var n=e.type.contextTypes;if(!n)return Oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){Co(Ro),Co(To)}function Do(e,t,n){if(To.current!==Oo)throw Error(i(168));Ao(To,t),Ao(Ro,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,Io=To.current,Ao(To,e),Ao(Ro,Ro.current),!0}function jo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fo(e,t,Io),r.__reactInternalMemoizedMergedChildContext=e,Co(Ro),Co(To),Ao(To,e)):Co(Ro),Ao(Ro,n)}var Bo=null,zo=!1,Uo=!1;function Wo(e){null===Bo?Bo=[e]:Bo.push(e)}function Ho(){if(!Uo&&null!==Bo){Uo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,zo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),Xe(Je,Ho),o}finally{bt=t,Uo=!1}}return null}var Vo=[],Go=0,qo=null,Xo=0,Ko=[],Yo=0,$o=null,Zo=1,Qo="";function Jo(e,t){Vo[Go++]=Xo,Vo[Go++]=qo,qo=e,Xo=t}function ei(e,t,n){Ko[Yo++]=Zo,Ko[Yo++]=Qo,Ko[Yo++]=$o,$o=e;var r=Zo;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Qo=i+e}else Zo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Vo[--Go],Vo[Go]=null,Xo=Vo[--Go],Vo[Go]=null;for(;e===$o;)$o=Ko[--Yo],Ko[Yo]=null,Qo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ui(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ii){var t=oi;if(t){var n=t;if(!ui(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&ui(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var vi=w.ReactCurrentBatchConfig;function gi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=Eo(null),bi=null,wi=null,xi=null;function ki(){xi=wi=bi=null}function Si(e){var t=yi.current;Co(yi),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){bi=e,xi=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===bi)throw Error(i(308));wi=e,bi.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Ai=null;function Oi(e){null===Ai?Ai=[e]:Ai.push(e)}function Ti(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ri(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ri(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,r){var o=e.updateQueue;Ii=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?i=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==i){var f=o.baseState;for(a=0,l=c=u=null,s=i;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(h,f,d):p)||void 0===d)break e;f=L({},f,d);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===l&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=f}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var zi=(new r.Component).refs;function Ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Mi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,o))&&(rc(t,e,o,r),Fi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Mi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,o))&&(rc(t,e,o,r),Fi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Mi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Di(e,o,r))&&(rc(t,e,r,n),Fi(t,e,r))}};function Hi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function Vi(e,t,n){var r=!1,o=Oo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(o=No(t)?Io:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):Oo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function qi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=zi,Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ci(i):(i=No(t)?Io:To.current,o.context=Po(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Wi.enqueueReplaceState(o,o.state,null),ji(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Xi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===zi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yi(e){return(0,e._init)(e._payload)}function $i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Yi(i)===t.type)?((r=o(t,n.props)).ref=Xi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Xi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Xi(e,null,t),n.return=e,n;case k:return(t=Bc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case k:return n.key===o?l(e,t,n,r):null;case P:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:f(e,t,n,r,null);Ki(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,o,null);Ki(t,r)}return null}function m(o,i,s,u){for(var c=null,l=null,f=i,m=i=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(o,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(o,f),i=a(g,i,m),null===l?c=g:l.sibling=g,l=g,f=v}if(m===s.length)return n(o,f),ii&&Jo(o,m),c;if(null===f){for(;m<s.length;m++)null!==(f=d(o,s[m],u))&&(i=a(f,i,m),null===l?c=f:l.sibling=f,l=f);return ii&&Jo(o,m),c}for(f=r(o,f);m<s.length;m++)null!==(v=p(f,o,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=a(v,i,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(o,e)})),ii&&Jo(o,m),c}function v(o,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var f=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(o,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,v),null===f?l=b:f.sibling=b,f=b,m=g}if(y.done)return n(o,m),ii&&Jo(o,v),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=d(o,y.value,c))&&(s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return ii&&Jo(o,v),l}for(m=r(o,m);!y.done;v++,y=u.next())null!==(y=p(m,o,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Jo(o,v),l}return function e(r,i,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(i=o(l,a.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Yi(c)===l.type){n(r,l.sibling),(i=o(l,a.props)).ref=Xi(r,l,a),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((i=Fc(a.props.children,r.mode,u,a.key)).return=r,r=i):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Xi(r,i,a),u.return=r,r=u)}return s(r);case k:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bc(a,r.mode,u)).return=r,r=i}return s(r);case P:return e(r,i,(l=a._init)(a._payload),u)}if(te(a))return m(r,i,a,u);if(D(a))return v(r,i,a,u);Ki(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=jc(a,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Zi=$i(!0),Qi=$i(!1),Ji={},ea=Eo(Ji),ta=Eo(Ji),na=Eo(Ji);function ra(e){if(e===Ji)throw Error(i(174));return e}function oa(e,t){switch(Ao(na,t),Ao(ta,e),Ao(ea,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(ea),Ao(ea,t)}function ia(){Co(ea),Co(ta),Co(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ao(ta,e),Ao(ea,n))}function sa(e){ta.current===e&&(Co(ea),Co(ta))}var ua=Eo(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ga=null,ya=!1,ba=!1,wa=0,xa=0;function ka(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,o,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,o),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(i(301));a+=1,ga=va=null,t.updateQueue=null,da.current=cs,e=n(r,o)}while(ba)}if(da.current=as,t=null!==va&&null!==va.next,pa=0,ga=va=ma=null,ya=!1,t)throw Error(i(300));return e}function Ea(){var e=0!==wa;return wa=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Aa(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,va=e;else{if(null===e)throw Error(i(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Oa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Aa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=va,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,ma.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ma.lanes|=a,Lu|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=Aa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Pa(e,t){var n=ma,r=Aa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ws=!0),r=r.queue,Va(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ba(9,Ma.bind(null,n,r,o,t),void 0,null),null===Ru)throw Error(i(349));0!==(30&pa)||Na(n,t,o)}return o}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&La(e)}function Da(e,t,n){return n((function(){Fa(t)&&La(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ri(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Aa().memoizedState}function Ua(e,t,n,r){var o=Ca();ma.flags|=e,o.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Wa(e,t,n,r){var o=Aa();r=void 0===r?null:r;var i=void 0;if(null!==va){var a=va.memoizedState;if(i=a.destroy,null!==r&&Sa(r,a.deps))return void(o.memoizedState=Ba(t,n,i,r))}ma.flags|=e,o.memoizedState=Ba(1|t,n,i,r)}function Ha(e,t){return Ua(8390656,8,e,t)}function Va(e,t){return Wa(2048,8,e,t)}function Ga(e,t){return Wa(4,2,e,t)}function qa(e,t){return Wa(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4,4,Xa.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Aa().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=Ti(e,t,n,r))){rc(n,e,r,tc()),is(n,t,r)}}function ns(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(o.next=o,Oi(t)):(o.next=u.next,u.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ti(e,t,o,r))&&(rc(n,e,r,o=tc()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function os(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ci,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Ci,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:ja,useDebugValue:Ya,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,o=Ca();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ru)throw Error(i(349));0!==(30&pa)||Na(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ha(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Ru.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ci,useCallback:$a,useContext:Ci,useEffect:Va,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:qa,useMemo:Za,useReducer:Ta,useRef:za,useState:function(){return Ta(Oa)},useDebugValue:Ya,useDeferredValue:function(e){return Qa(Aa(),va.memoizedState,e)},useTransition:function(){return[Ta(Oa)[0],Aa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ci,useCallback:$a,useContext:Ci,useEffect:Va,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:qa,useMemo:Za,useReducer:Ra,useRef:za,useState:function(){return Ra(Oa)},useDebugValue:Ya,useDeferredValue:function(e){var t=Aa();return null===va?t.memoizedState=e:Qa(t,va.memoizedState,e)},useTransition:function(){return[Ra(Oa)[0],Aa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,qu=r),ds(0,t)},n}function ms(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Qi(t,null,n,r):Zi(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return Ei(t,o),r=_a(e,t,n,r,i,o),n=Ea(),null===e||ws?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Nc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_s(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Gs(e,t,o);0!==(131072&e.flags)&&(ws=!0)}}return As(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Mu,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Mu,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Mu,Nu),Nu|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Mu,Nu),Nu|=r;return xs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,o){var i=No(n)?Io:To.current;return i=Po(t,i),Ei(t,o),n=_a(e,t,n,r,i,o),r=Ea(),null===e||ws?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Os(e,t,n,r,o){if(No(n)){var i=!0;Lo(t)}else i=!1;if(Ei(t,o),null===t.stateNode)Vs(e,t),Vi(t,n,r),qi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Po(t,c=No(n)?Io:To.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Gi(t,a,r,c),Ii=!1;var d=t.memoizedState;a.state=d,ji(t,r,a,o),u=t.memoizedState,s!==r||d!==u||Ro.current||Ii?("function"===typeof l&&(Ui(t,n,l,r),u=t.memoizedState),(s=Ii||Hi(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ni(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:gi(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ci(u):u=Po(t,u=No(n)?Io:To.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Gi(t,a,r,u),Ii=!1,d=t.memoizedState,a.state=d,ji(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||Ro.current||Ii?("function"===typeof h&&(Ui(t,n,h,r),p=t.memoizedState),(c=Ii||Hi(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,o)}function Ts(e,t,n,r,o,i){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&jo(t,n,!1),Gs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&jo(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),oa(e,t.containerInfo)}function Is(e,t,n,r,o){return pi(),mi(o),t.flags|=256,xs(e,t,n,r),t.child}var Ps,Ns,Ms,Ds,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,o=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(ua,1&a),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=o.children,e=o.fallback,s?(o=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,o,0,null),e=Fc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Fs,e):Bs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=fs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Fc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Zi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Fs,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=fs(a=Error(i(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Ru)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ri(e,o),rc(r,e,o,-1))}return vc(),zs(e,t,s,r=fs(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[Yo++]=Zo,Ko[Yo++]=Qo,Ko[Yo++]=$o,Zo=e.id,Qo=e.overflow,$o=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,o,r,a,n);if(s){s=o.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&u)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mc(r,s):(s=Fc(s,u,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,o}return e=(s=e.child).sibling,o=Mc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),Zi(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Ws(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ca(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return No(t.type)&&Mo(),Xs(t),null;case 3:return r=t.stateNode,ia(),Co(Ro),Co(To),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(sc(ai),ai=null))),Ns(e,t),Xs(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Xs(t),null}if(e=ra(ea.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ho]=t,r[po]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var u in ye(n,a),o=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ho]=t,e[po]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":$(e,r),o=Y(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in ye(n,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Br("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Xs(t),null;case 13:if(Co(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==ai&&(sc(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return ia(),Ns(e,t),null===e&&Wr(t.stateNode.containerInfo),Xs(t),null;case 10:return Si(t.type._context),Xs(t),null;case 19:if(Co(ua),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)qs(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,qs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Hu&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!ii)return Xs(t),null}else 2*Ze()-a.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ua.current,Ao(ua,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Co(Ro),Co(To),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Co(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ua),null;case 4:return ia(),null;case 10:return Si(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var u=o[l];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tu(t,n,i)}o=o.next}while(o!==r)}}function ou(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[vo],delete t[go],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Zs||eu(n,t);case 6:var r=fu,o=du;fu=null,hu(e,t,n),du=o,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?uo(e.parentNode,n):1===e.nodeType&&uo(e,n),Wt(e)):uo(fu,n.stateNode));break;case 4:r=fu,o=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=o;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tu(n,t,a),o=o.next}while(o!==r)}hu(e,t,n);break;case 1:if(!Zs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hu(e,t,n),Zs=r):hu(e,t,n);break;default:hu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(i(160));pu(a,s,o),fu=null,du=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){Ec(o,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),ou(3,e)}catch(v){Ec(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Ec(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(v){Ec(e,e.return,v)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Z(o,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ve(o,d):"dangerouslySetInnerHTML"===f?fe(o,d):"children"===f?de(o,d):b(o,f,d,l)}switch(u){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(v){Ec(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(v){Ec(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){Ec(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Wu=Ze())),4&r&&mu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(l=Zs)||f,vu(t,e),Zs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(d=Js=f;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Ec(r,n,v)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){ku(d);continue}}null!==p?(p.return=h,Js=p):ku(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(v){Ec(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){Ec(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&mu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),lu(e,uu(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(i(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Js=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||$s;if(!a){var s=o.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=$s;var c=Zs;if($s=a,(Zs=u)&&!c)for(Js=o;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Su(o):null!==u?(u.return=a,Js=u):Su(o);for(;null!==i;)Js=i,wu(i,t,n),i=i.sibling;Js=o,$s=s,Zs=c}xu(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):xu(e)}}function xu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ou(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Wt(d)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&iu(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function ku(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ou(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){Ec(t,o,u)}}var i=t.return;try{iu(t)}catch(u){Ec(t,i,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Eu=Math.ceil,Cu=w.ReactCurrentDispatcher,Au=w.ReactCurrentOwner,Ou=w.ReactCurrentBatchConfig,Tu=0,Ru=null,Iu=null,Pu=0,Nu=0,Mu=Eo(0),Du=0,Fu=null,Lu=0,ju=0,Bu=0,zu=null,Uu=null,Wu=0,Hu=1/0,Vu=null,Gu=!1,qu=null,Xu=null,Ku=!1,Yu=null,$u=0,Zu=0,Qu=null,Ju=-1,ec=0;function tc(){return 0!==(6&Tu)?Ze():-1!==Ju?Ju:Ju=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Pu?Pu&-Pu:null!==vi.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Zu)throw Zu=0,Qu=null,Error(i(185));gt(e,n,r),0!==(2&Tu)&&e===Ru||(e===Ru&&(0===(2&Tu)&&(ju|=n),4===Du&&uc(e,Pu)),oc(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(Hu=Ze()+500,zo&&Ho()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Ru?Pu:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zo=!0,Wo(e)}(cc.bind(null,e)):Wo(cc.bind(null,e)),ao((function(){0===(6&Tu)&&Ho()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,ec=0,0!==(6&Tu))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ru?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tu;Tu|=2;var a=mc();for(Ru===e&&Pu===t||(Vu=null,Hu=Ze()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}ki(),Cu.current=a,Tu=o,null!==Iu?t=0:(Ru=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t)throw n=Fu,hc(e,0),uc(e,r),oc(e,Ze()),n;if(6===t)uc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Fu,hc(e,0),uc(e,r),oc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kc(e,Uu,Vu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Wu+500-Ze())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kc.bind(null,e,Uu,Vu),t);break}kc(e,Uu,Vu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ro(kc.bind(null,e,Uu,Vu),r);break}kc(e,Uu,Vu);break;default:throw Error(i(329))}}}return oc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Bu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tu))throw Error(i(327));Sc();var t=dt(e,0);if(0===(1&t))return oc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fu,hc(e,0),uc(e,t),oc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Uu,Vu),oc(e,Ze()),null}function lc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Hu=Ze()+500,zo&&Ho())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&Sc();var t=Tu;Tu|=1;var n=Ou.transition,r=bt;try{if(Ou.transition=null,bt=1,e)return e()}finally{bt=r,Ou.transition=n,0===(6&(Tu=t))&&Ho()}}function dc(){Nu=Mu.current,Co(Mu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:ia(),Co(Ro),Co(To),fa();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:Co(ua);break;case 10:Si(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ru=e,Iu=e=Mc(e.current,null),Pu=Nu=t,Du=0,Fu=null,Bu=ju=Lu=0,Uu=zu=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ai=null}return e}function pc(e,t){for(;;){var n=Iu;try{if(ki(),da.current=as,ya){for(var r=ma.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ya=!1}if(pa=0,ga=va=ma=null,ba=!1,wa=0,Au.current=null,null===n||null===n.return){Du=1,Fu=t,Iu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&vs(a,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(a,l,t),vc();break e}c=Error(i(426))}else if(ii&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),mi(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===zu?zu=[a]:zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xu||!Xu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ms(a,u,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(w){t=w,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function mc(){var e=Cu.current;return Cu.current=as,null===e?as:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Ru||0===(268435455&Lu)&&0===(268435455&ju)||uc(Ru,Pu)}function gc(e,t){var n=Tu;Tu|=2;var r=mc();for(Ru===e&&Pu===t||(Vu=null,hc(e,t));;)try{yc();break}catch(o){pc(e,o)}if(ki(),Tu=n,Cu.current=r,null!==Iu)throw Error(i(261));return Ru=null,Pu=0,Du}function yc(){for(;null!==Iu;)wc(Iu)}function bc(){for(;null!==Iu&&!Ye();)wc(Iu)}function wc(e){var t=_u(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?xc(e):Iu=t,Au.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Nu)))return void(Iu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Du=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Du&&(Du=5)}function kc(e,t,n){var r=bt,o=Ou.transition;try{Ou.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Yu);if(0!==(6&Tu))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ru&&(Iu=Ru=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Rc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ou.transition,Ou.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Au.current=null,function(e,t){if(eo=Vt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(u=s+o),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===o&&(u=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:gi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nu,nu=!1}(e,n),gu(n,e),pr(to),Vt=!!eo,to=eo=null,e.current=n,bu(n,e,o),$e(),Tu=u,bt=s,Ou.transition=a}else e.current=n;if(Ku&&(Ku=!1,Yu=e,$u=o),a=e.pendingLanes,0===a&&(Xu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gu)throw Gu=!1,e=qu,qu=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Qu?Zu++:(Zu=0,Qu=e):Zu=0,Ho()}(e,t,n,r)}finally{Ou.transition=o,bt=r}return null}function Sc(){if(null!==Yu){var e=wt($u),t=Ou.transition,n=bt;try{if(Ou.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Tu))throw Error(i(331));var o=Tu;for(Tu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var d=f.child;if(null!==d)d.return=f,Js=d;else for(;null!==Js;){var h=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ou(9,u)}}catch(k){Ec(u,u.return,k)}if(u===s){Js=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Js=x;break e}Js=u.return}}if(Tu=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{bt=n,Ou.transition=t}}return!1}function _c(e,t,n){e=Di(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),oc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){t=Di(t,e=ms(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),oc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Ze()-Wu?hc(e,0):Bu|=n),oc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ri(e,t))&&(gt(e,t,n),oc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Rc(e,t){return Xe(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Fc(n.children,o,a,t);case _:s=8,o|=8;break;case E:return(e=Pc(12,n,t,2|o)).elementType=E,e.lanes=a,e;case T:return(e=Pc(13,n,t,o)).elementType=T,e.lanes=a,e;case R:return(e=Pc(19,n,t,o)).elementType=R,e.lanes=a,e;case N:return Lc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case O:s=11;break e;case I:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Fc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,i,a,s,u){return e=new zc(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Wc(e){if(!e)return Oo;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Fo(e,n,t)}return t}function Hc(e,t,n,r,o,i,a,s,u){return(e=Uc(n,r,!0,e,0,i,0,s,u)).context=Wc(null),n=e.current,(i=Mi(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,o),e.current.lanes=o,gt(e,o,r),oc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=tc(),a=nc(o);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(o,t,a))&&(rc(e,o,a,i),Fi(e,o,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),pi();break;case 5:aa(t);break;case 1:No(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ao(ua,1&ua.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ao(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ii&&0!==(1048576&t.flags)&&ei(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var o=Po(t,To.current);Ei(t,n),o=_a(null,t,r,e,o,n);var a=Ea();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Pi(t),o.updater=Wi,t.stateNode=o,o._reactInternals=t,qi(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===I)return 14}return 2}(r),e=gi(r,e),o){case 0:t=As(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,gi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 3:e:{if(Rs(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ni(e,t),ji(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=Is(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Gs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&li(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&li(t),null;case 13:return js(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(yi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Ro.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mi(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_i(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_i(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ei(t,n),r=r(o=Ci(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=gi(r=t.type,t.pendingProps),Ss(e,t,r,o=gi(r.type,o),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gi(r,o),Vs(e,t),t.tag=1,No(r)?(e=!0,Lo(t)):e=!1,Ei(t,n),Vi(t,r,o),qi(t,r,o,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Gc(a);s.call(e)}}Vc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Gc(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[mo]=a.current,Wr(8===e.nodeType?e.parentNode:e),fc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Gc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[mo]=u.current,Wr(8===e.nodeType?e.parentNode:e),fc((function(){Vc(t,u,n,r)})),u}(n,t,e,o,r);return Gc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Vc(null,e,null,null)})),t[mo]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Ze()),0===(6&Tu)&&(Hu=Ze()+500,Ho()))}break;case 13:fc((function(){var t=Ri(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Xc(e,1)}},kt=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)rc(t,e,134217728,tc());Xc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Ri(e,t);if(null!==n)rc(n,e,t,tc());Xc(e,t)}},_t=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));X(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=lc,Te=fc;var tl={usingClientEntryPoint:!1,Events:[wo,xo,ko,Ce,Ae,lc]},nl={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ot=ol.inject(rl),it=ol}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Wr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new $c(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var o=s(n(5043)),i=s(n(8139)),a=n(1200);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=b();return function(){var n,o=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}t.PrevArrow=function(e){v(n,e);var t=y(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,l(l({},n),r)):o.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(o.default.PureComponent),t.NextArrow=function(e){v(n,e);var t=y(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,l(l({},n),r)):o.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(o.default.PureComponent)},5112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(5043))&&r.__esModule?r:{default:r};var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return o.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return o.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=i},8496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var o=s(n(5043)),i=s(n(8139)),a=n(1200);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=p();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(f,e);var t,n,r,s=h(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.apply(this,arguments)}return t=f,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,d=t.slidesToShow,h=t.slideCount,p=t.currentSlide,m=(e={slideCount:h,slidesToScroll:f,slidesToShow:d,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,v={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],y=0;y<m;y++){var b=(y+1)*f-1,w=l?b:(0,a.clamp)(b,0,h-1),x=w-(f-1),k=l?x:(0,a.clamp)(x,0,h-1),S=(0,i.default)({"slick-active":l?p>=k&&p<=w:p===k}),_={message:"dots",index:y,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,_);g=g.concat(o.default.createElement("li",{key:y,className:S},o.default.cloneElement(this.props.customPaging(y),{onClick:E})))}return o.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},v))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.default.PureComponent)},2382:(e,t,n)=>{"use strict";t.A=void 0;var r,o=(r=n(433))&&r.__esModule?r:{default:r};t.A=o.default},4910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},9826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=d(n(5043)),o=d(n(4910)),i=d(n(446)),a=d(n(8139)),s=n(1200),u=n(737),c=n(8496),l=n(6214),f=d(n(5820));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=k();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function _(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(k,e);var t,n,d,v=w(k);function k(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),_(x(t=v.call(this,e)),"listRefHandler",(function(e){return t.list=e})),_(x(t),"trackRefHandler",(function(e){return t.track=e})),_(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),_(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),_(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),_(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var o=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),i=t.didPropsChange(e);i&&t.updateState(o,i,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),_(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,i.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),_(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),_(x(t),"updateState",(function(e,n,o){var i=(0,s.initializedState)(e);e=g(g(g({},e),i),{},{slideIndex:i.currentSlide});var a=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:a});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(i.trackStyle=u),t.setState(i,o)})),_(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,o=[],i=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),a=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){o.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<i;u++)n+=o[o.length-1-u],e+=o[o.length-1-u];for(var c=0;c<a;c++)e+=o[c];for(var l=0;l<t.state.currentSlide;l++)n+=o[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var d="".concat(o[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(d,") / 2 ) ")}return{trackStyle:f}}var h=r.default.Children.count(t.props.children),p=g(g(g({},t.props),t.state),{},{slideCount:h}),m=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+h,v=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,s.getPreClones)(p)+t.state.currentSlide)*v/100;return t.props.centerMode&&(b+=(100-y*v/100)/2),{slideWidth:y+"%",trackStyle:{width:v+"%",left:b+"%"}}})),_(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var o=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var i=e.onclick;e.onclick=function(t){i(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=o,e.onerror=function(){o(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),_(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var o=t.state.currentSlide-1;o>=-(0,s.getPreClones)(n);o--)if(t.state.lazyLoadedList.indexOf(o)<0){e.push(o);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),_(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,o=r.asNavFor,i=r.beforeChange,a=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),d=f.state,h=f.nextState;if(d){i&&i(l,d.currentSlide);var p=d.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));a&&p.length>0&&a(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(d,(function(){o&&t.asNavForIndex!==e&&(t.asNavForIndex=e,o.innerSlider.slideHandler(e)),h&&(t.animationEndCallback=setTimeout((function(){var e=h.animating,n=m(h,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(d.currentSlide),delete t.animationEndCallback}))}),u))}))}})),_(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),o=(0,s.changeSlide)(r,e);if((0===o||o)&&(!0===n?t.slideHandler(o,n):t.slideHandler(o),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var i=t.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),_(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),_(x(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),_(x(t),"selectHandler",(function(e){t.changeSlide(e)})),_(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),_(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),_(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),_(x(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),_(x(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),_(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),_(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),_(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),_(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),_(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),_(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),_(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),_(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),_(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),_(x(t),"render",(function(){var e,n,o,i=(0,a.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=g(g({},t.props),t.state),d=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),h=t.props.pauseOnHover;if(d=g(g({},d),{},{onMouseEnter:h?t.onTrackOver:null,onMouseLeave:h?t.onTrackLeave:null,onMouseOver:h?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=t.props.pauseOnDotsHover;m=g(g({},m),{},{clickHandler:t.changeSlide,onMouseEnter:v?t.onDotsLeave:null,onMouseOver:v?t.onDotsOver:null,onMouseLeave:v?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var y=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,y),o=r.default.createElement(l.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var x=g(g({},b),w),k=t.props.touchMove,S={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:k?t.swipeStart:null,onMouseMove:t.state.dragging&&k?t.swipeMove:null,onMouseUp:k?t.swipeEnd:null,onMouseLeave:t.state.dragging&&k?t.swipeEnd:null,onTouchStart:k?t.swipeStart:null,onTouchMove:t.state.dragging&&k?t.swipeMove:null,onTouchEnd:k?t.touchEnd:null,onTouchCancel:t.state.dragging&&k?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},_={className:i,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},_={className:i}),r.default.createElement("div",_,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},S),r.default.createElement(u.Track,p({ref:t.trackRefHandler},d),t.props.children)),t.props.unslick?"":o,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},o.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=k,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,o=Object.keys(this.props);n<o.length;n++){var i=o[n];if(!e.hasOwnProperty(i)){t=!0;break}if("object"!==h(e[i])&&"function"!==typeof e[i]&&!isNaN(e[i])&&e[i]!==this.props[i]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),d&&y(t,d),Object.defineProperty(t,"prototype",{writable:!1}),k}(r.default.Component)},433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(5043)),o=n(9826),i=u(n(1270)),a=u(n(5112)),s=n(1200);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=g();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}var x=(0,s.canUseDOM)()&&n(535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,u,c=m(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),b(v(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(v(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(v(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(v(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(v(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(v(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var o;o=0===r?(0,i.default)({minWidth:0,maxWidth:n}):(0,i.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(o,(function(){e.setState({breakpoint:n})}))}));var n=(0,i.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){x.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":d(d(d({},a.default),this.props),t[0].settings):d(d({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var i=r.default.Children.toArray(this.props.children);i=i.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var u=[],c=null,f=0;f<i.length;f+=e.rows*e.slidesPerRow){for(var h=[],p=f;p<f+e.rows*e.slidesPerRow;p+=e.slidesPerRow){for(var m=[],v=p;v<p+e.slidesPerRow&&(e.variableWidth&&i[v].props.style&&(c=i[v].props.style.width),!(v>=i.length));v+=1)m.push(r.default.cloneElement(i[v],{key:100*f+10*p+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));h.push(r.default.createElement("div",{key:10*f+p},m))}e.variableWidth?u.push(r.default.createElement("div",{key:f,style:{width:c}},h)):u.push(r.default.createElement("div",{key:f},h))}if("unslick"===e){var g="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:g},i)}return u.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(o.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(e)),u)}}])&&h(t.prototype,n),u&&h(t,u),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.default.Component)},737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=a(n(5043)),o=a(n(8139)),i=n(1200);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=h();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}var b=function(e){var t,n,r,o,i;return r=(i=e.rtl?e.slideCount-1-e.index:e.index)<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),n=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(t=!0)):t=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":i===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},w=function(e,t){return e.key||t},x=function(e){var t,n=[],a=[],s=[],u=r.default.Children.count(e.children),c=(0,i.lazyStartIndex)(e),l=(0,i.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(f,d){var h,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:d})),g=h.props.className||"",y=b(v(v({},e),{},{index:d}));if(n.push(r.default.cloneElement(h,{key:"original"+w(h,d),"data-index":d,className:(0,o.default)(y,g),tabIndex:"-1","aria-hidden":!y["slick-active"],style:v(v({outline:"none"},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=u-d;x<=(0,i.getPreClones)(e)&&((t=-x)>=c&&(h=f),y=b(v(v({},e),{},{index:t})),a.push(r.default.cloneElement(h,{key:"precloned"+w(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(y,g),"aria-hidden":!y["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),(t=u+d)<l&&(h=f),y=b(v(v({},e),{},{index:t})),s.push(r.default.cloneElement(h,{key:"postcloned"+w(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(y,g),"aria-hidden":!y["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))}})),e.rtl?a.concat(n,s).reverse():a.concat(n,s)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,n,o,i=f(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=i.call.apply(i,[this].concat(n))),"node",null),g(d(e),"handleRef",(function(t){e.node=t})),e}return t=a,(n=[{key:"render",value:function(){var e=x(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.default.PureComponent)},1200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=l,t.extractObject=void 0,t.filterSettings=function(e){return M.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=i(n(5043)),o=i(n(5112));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var f=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},d=t.getOnDemandLazySlides=function(e){for(var t=[],n=h(e),r=p(e),o=n;o<r;o++)e.lazyLoadedList.indexOf(o)<0&&t.push(o);return t},h=(t.getRequiredLazySlides=function(e){for(var t=[],n=h(e),r=p(e),o=n;o<r;o++)t.push(o);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),p=t.lazyEndIndex=function(e){return e.currentSlide+v(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},v=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},g=t.getWidth=function(e){return e&&e.offsetWidth||0},y=t.getHeight=function(e){return e&&e.offsetHeight||0},b=t.getSwipeDirection=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(o=Math.round(180*r/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"},w=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},x=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),o=e.listRef,i=Math.ceil(g(o)),a=e.trackRef&&e.trackRef.node,s=Math.ceil(g(a));if(e.vertical)t=i;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=i/100),t=Math.ceil((i-c)/e.slidesToShow)}var l=o&&y(o.querySelector('[data-index="0"]')),f=l*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=d(u(u({},e),{},{currentSlide:h,lazyLoadedList:p})),v={slideCount:n,slideWidth:t,listWidth:i,trackWidth:s,currentSlide:h,slideHeight:l,listHeight:f,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(v.autoplaying="playing"),v},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,o=e.infinite,i=e.index,a=e.slideCount,s=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(t&&n)return{};var g,y,b,x=i,k={},S={},_=o?i:l(i,0,a-1);if(r){if(!o&&(i<0||i>=a))return{};i<0?x=i+a:i>=a&&(x=i-a),s&&v.indexOf(x)<0&&(v=v.concat(x)),k={animating:!0,currentSlide:x,lazyLoadedList:v,targetSlide:x},S={animating:!1,targetSlide:x}}else g=x,x<0?(g=x+a,o?a%h!==0&&(g=a-a%h):g=0):!w(e)&&x>c?x=g=c:f&&x>=a?(x=o?a:a-1,g=o?0:a-1):x>=a&&(g=x-a,o?a%h!==0&&(g=0):g=a-p),!o&&x+p>=a&&(g=a-p),y=A(u(u({},e),{},{slideIndex:x})),b=A(u(u({},e),{},{slideIndex:g})),o||(y===b&&(x=g),y=b),s&&(v=v.concat(d(u(u({},e),{},{currentSlide:x})))),m?(k={animating:!0,currentSlide:g,trackStyle:C(u(u({},e),{},{left:y})),lazyLoadedList:v,targetSlide:_},S={animating:!1,currentSlide:g,trackStyle:E(u(u({},e),{},{left:b})),swipeLeft:null,targetSlide:_}):k={currentSlide:g,trackStyle:E(u(u({},e),{},{left:b})),lazyLoadedList:v,targetSlide:_};return{state:k,nextState:S}},t.changeSlide=function(e,t){var n,r,o,i,a=e.slidesToScroll,s=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,d=e.lazyLoad,h=e.infinite;if(n=c%a!==0?0:(c-l)%a,"previous"===t.message)i=l-(o=0===n?a:s-n),d&&!h&&(i=-1===(r=l-o)?c-1:r),h||(i=f-a);else if("next"===t.message)i=l+(o=0===n?a:n),d&&!h&&(i=(l+a)%c+n),h||(i=f+a);else if("dots"===t.message)i=t.index*t.slidesToScroll;else if("children"===t.message){if(i=t.index,h){var p=I(u(u({},e),{},{targetSlide:i}));i>t.currentSlide&&"left"===p?i-=c:i<t.currentSlide&&"right"===p&&(i+=c)}}else"index"===t.message&&(i=Number(t.index));return i},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&f(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,o=t.vertical,i=t.swipeToSlide,a=t.verticalSwiping,s=t.rtl,c=t.currentSlide,l=t.edgeFriction,d=t.edgeDragged,h=t.onEdge,p=t.swiped,m=t.swiping,v=t.slideCount,g=t.slidesToScroll,y=t.infinite,x=t.touchObject,k=t.swipeEvent,S=t.listHeight,_=t.listWidth;if(!n){if(r)return f(e);o&&i&&a&&f(e);var C,O={},T=A(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var R=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!m&&R>10)return{scrolling:!0};a&&(x.swipeLength=R);var I=(s?-1:1)*(x.curX>x.startX?1:-1);a&&(I=x.curY>x.startY?1:-1);var P=Math.ceil(v/g),N=b(t.touchObject,a),M=x.swipeLength;return y||(0===c&&("right"===N||"down"===N)||c+1>=P&&("left"===N||"up"===N)||!w(t)&&("left"===N||"up"===N))&&(M=x.swipeLength*l,!1===d&&h&&(h(N),O.edgeDragged=!0)),!p&&k&&(k(N),O.swiped=!0),C=o?T+M*(S/_)*I:s?T-M*I:T+M*I,a&&(C=T+M*I),O=u(u({},O),{},{touchObject:x,swipeLeft:C,trackStyle:E(u(u({},t),{},{left:C}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?O:(x.swipeLength>10&&(O.swiping=!0,f(e)),O)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,o=t.touchObject,i=t.listWidth,a=t.touchThreshold,s=t.verticalSwiping,c=t.listHeight,l=t.swipeToSlide,d=t.scrolling,h=t.onSwipe,p=t.targetSlide,m=t.currentSlide,v=t.infinite;if(!n)return r&&f(e),{};var g=s?c/a:i/a,y=b(o,s),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d)return w;if(!o.swipeLength)return w;if(o.swipeLength>g){var x,_;f(e),h&&h(y);var E=v?m:p;switch(y){case"left":case"up":_=E+S(t),x=l?k(t,_):_,w.currentDirection=0;break;case"right":case"down":_=E-S(t),x=l?k(t,_):_,w.currentDirection=1;break;default:x=E}w.triggerSlideHandler=x}else{var O=A(t);w.trackStyle=C(u(u({},t),{},{left:O}))}return w},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,o=[];n<t;)o.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return o}),k=t.checkNavigable=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var o in n){if(t<n[o]){t=r;break}r=n[o]}return t},S=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,o=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(o).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+g(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll},_=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},E=t.getTrackCSS=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=R(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=u(u({},o),{},{WebkitTransform:i,transform:a,msTransform:s})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),t&&(o.width=t),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},C=t.getTrackAnimateCSS=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=E(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},A=t.getTrackLeft=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,o=e.trackRef,i=e.infinite,a=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,d=e.variableWidth,h=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var v=0;if(i?(v=-O(e),s%c!==0&&r+c>s&&(v=-(r>s?u-(r-s):s%c)),a&&(v+=parseInt(u/2))):(s%c!==0&&r+c>s&&(v=u-s%c),a&&(v=parseInt(u/2))),t=m?r*h*-1+v*h:r*l*-1+v*l,!0===d){var g,y=o&&o.node;if(g=r+O(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===a){g=i?r+O(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t},O=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},T=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},R=t.getTotalSlides=function(e){return 1===e.slideCount?1:O(e)+e.slideCount+T(e)},I=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-N(e)?"right":"left"},P=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r&&t%2===0&&(i+=1),i}return r?0:t-1},N=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r||t%2!==0||(i+=1),i}return r?t-1:0},M=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(o.default))},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===i?"."+O(u,0):i,x(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),T(a,t,o,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var l=i+O(s=e[c],c);u+=T(s,t,o,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,o,l=i+O(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},5820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&u()}function s(){a(i)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=f(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=h(r.width),u=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+i)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return y(o.left,o.top,s,u)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return o?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return l(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);l(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));const _="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:S},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>i(u,n))c<o&&0>i(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<o&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)o(l);else{if(!(t.startTime<=e))break;o(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function x(e){if(v=!1,w(e),!m)if(null!==r(c))m=!0,N(k);else{var t=r(l);null!==t&&M(x,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&o(c),w(n)}else o(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&M(x,f.startTime-n),u=!1}return u}finally{d=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,C=-1,A=5,O=-1;function T(){return!(t.unstable_now()-O<A)}function R(){if(null!==E){var e=t.unstable_now();O=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){g(R,0)};function N(e){E=e,_||(_=!0,S())}function M(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(v?(y(C),C=-1):v=!0,M(x,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,N(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},7324:e=>{e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(o=n?n.call(r,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},7475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},2751:function(e,t,n){var r;!function(o,i){"use strict";var a="function",s="undefined",u="object",c="string",l="major",f="model",d="name",h="type",p="vendor",m="version",v="architecture",g="console",y="mobile",b="tablet",w="smarttv",x="wearable",k="embedded",S="Amazon",_="Apple",E="ASUS",C="BlackBerry",A="Browser",O="Chrome",T="Firefox",R="Google",I="Huawei",P="LG",N="Microsoft",M="Motorola",D="Opera",F="Samsung",L="Sharp",j="Sony",B="Xiaomi",z="Zebra",U="Facebook",W="Chromium OS",H="Mac OS",V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},G=function(e,t){return typeof e===c&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},X=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},K=function(e,t){for(var n,r,o,s,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!c&&d[n];)if(c=d[n++].exec(e))for(o=0;o<h.length;o++)l=c[++r],typeof(s=h[o])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},Y=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(G(t[n][r],e))return"?"===n?i:n}else if(G(t[n],e))return"?"===n?i:n;return e},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,m],[/opios[\/ ]+([\w\.]+)/i],[m,[d,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[d,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[d,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[d,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+A],m],[/\bfocus\/([\w\.]+)/i],[m,[d,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[d,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[d,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[d,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[m,[d,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+A]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+A],m],[/samsungbrowser\/([\w\.]+)/i],[m,[d,F+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[d,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,O+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[d,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[m,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[d,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,m],[/(cobalt)\/([\w\.]+)/i],[d,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,q]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,F],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,F],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[p,_],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,_],[h,b]],[/(macintosh);/i],[f,[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,L],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,I],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[p,I],[h,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[p,B],[h,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,B],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[h,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,M],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,M],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,P],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,P],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[h,y]],[/(pixel c)\b/i],[f,[p,R],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,R],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,j],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,j],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,S],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,S],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,C],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,E],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,E],[h,y]],[/(nexus 9)/i],[f,[p,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[h,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[p,"Ulefone"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[h,b]],[/(surface duo)/i],[f,[p,N],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[h,y]],[/(u304aa)/i],[f,[p,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[h,b]],[/\b(k88) b/i],[f,[p,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[h,b]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[h,y]],[/\b(ph-1) /i],[f,[p,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[p,f,[h,y]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,N],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,z],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,z],[h,y]],[/smart-tv.+(samsung)/i],[p,[h,w]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,F],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,P],[h,w]],[/(apple) ?tv/i],[p,[f,_+" TV"],[h,w]],[/crkey/i],[[f,O+"cast"],[p,R],[h,w]],[/droid.+aft(\w+)( bui|\))/i],[f,[p,S],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[p,L],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[f,[p,j],[h,w]],[/(mitv-\w{5}) bui/i],[f,[p,B],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[p,f,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,X],[f,X],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[h,g]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[f,[p,j],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,N],[h,g]],[/((pebble))app/i],[p,f,[h,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[p,_],[h,x]],[/droid.+; (glass) \d/i],[f,[p,R],[h,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,z],[h,x]],[/(quest( 2| pro)?)/i],[f,[p,U],[h,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,k]],[/(aeobc)\b/i],[f,[p,S],[h,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[m,Y,$]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Y,$],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,H],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,m],[/\(bb(10);/i],[m,[d,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[d,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[d,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,W],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,m],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,m]]},Q=function(e,t){if(typeof e===u&&(t=e,e=i),!(this instanceof Q))return new Q(e,t).getResult();var n=typeof o!==s&&o.navigator?o.navigator:i,r=e||(n&&n.userAgent?n.userAgent:""),g=n&&n.userAgentData?n.userAgentData:i,w=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Z,t):Z,x=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[d]=i,t[m]=i,K.call(t,r,w.browser),t[l]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,x&&n&&n.brave&&typeof n.brave.isBrave==a&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[v]=i,K.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[p]=i,e[f]=i,e[h]=i,K.call(e,r,w.device),x&&!e[h]&&g&&g.mobile&&(e[h]=y),x&&"Macintosh"==e[f]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[f]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[d]=i,e[m]=i,K.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[d]=i,e[m]=i,K.call(e,r,w.os),x&&!e[d]&&g&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,W).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?X(e,500):e,this},this.setUA(r),this};Q.VERSION="1.0.37",Q.BROWSER=V([d,m,l]),Q.CPU=V([v]),Q.DEVICE=V([f,p,h,g,y,w,b,x,k]),Q.ENGINE=Q.OS=V([d,m]),typeof t!==s?(e.exports&&(t=e.exports=Q),t.UAParser=Q):n.amdO?(r=function(){return Q}.call(t,n,t,e))===i||(e.exports=r):typeof o!==s&&(o.UAParser=Q);var J=typeof o!==s&&(o.jQuery||o.Zepto);if(J&&!J.ua){var ee=new Q;J.ua=ee.getResult(),J.ua.get=function(){return ee.getUA()},J.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"===typeof window?window:this)},3895:(e,t,n)=>{"use strict";var r=n(5043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var f=a(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u((function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==l&&d.hasValue){var t=d.value;if(l(t,e))return a=t}return a=e}if(t=a,o(i,e))return t;var n=r(e);return void 0!==l&&l(t,n)?t:(i=e,a=n)}var i,a,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,l]);var h=i(e,f[0],f[1]);return s((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)},1844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},385:()=>{},1065:()=>{},3886:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d1fd7194.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="digit3C:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],u=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)u(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkdigit3C=self.webpackChunkdigit3C||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),o=n(4391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(t,n,r,o){void 0===o&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,h=u.history,p=e.Pop,m=null,v=g();function g(){return(h.state||{idx:null}).idx}function y(){p=e.Pop;let t=g(),n=null==t?null:t-v;v=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,h.replaceState(i({},h.state,{idx:v}),""));let w={get action(){return p},get location(){return t(u,h)},listen(e){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(a,y),m=e,()=>{u.removeEventListener(a,y),m=null}},createHref:e=>n(u,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let o=l(w.location,t,n);r&&r(o,t),v=g()+1;let i=c(o,v),a=w.createHref(o);try{h.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(a)}d&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let o=l(w.location,t,n);r&&r(o,t),v=g();let i=c(o,v),a=w.createHref(o);h.replaceState(i,"",a),d&&m&&m({action:p,location:w.location,delta:0})},go:e=>h.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=T(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let o=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a){let e=O(r);i=C(o[a],e)}return i}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let u=M([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),v(e.children,t,c,u)),(null!=e.path||e.index)&&t.push({path:u,score:E(u,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of g(e.path))o(e,t,r);else o(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=g(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,b=3,w=2,x=1,k=10,S=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=S),t&&(r+=w),n.filter((e=>!_(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?x:k)),r)}function C(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,u="/"===o?t:t.slice(o.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=e.route;i.push({params:r,pathname:M([o,c.pathname]),pathnameBase:D(M([o,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(o=M([o,c.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=o&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:i,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=I(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function N(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=d(e):(o=i({},e),s(!o.pathname||!o.pathname.includes("?"),R("?","pathname","search",o)),s(!o.pathname||!o.pathname.includes("#"),R("#","pathname","hash",o)),s(!o.search||!o.search.includes("#"),R("#","search","hash",o)));let a,u=""===e||""===o.pathname,c=u?"/":o.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:L(o)}}(o,a),f=c&&"/"!==c&&c.endsWith("/"),h=(u||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}const W=t.createContext(null);const H=t.createContext(null);const V=t.createContext(null);const G=t.createContext(null);const q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function K(){return null!=t.useContext(G)}function Y(){return K()||s(!1),t.useContext(G).location}function $(e){t.useContext(V).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(q);return e?function(){let{router:e}=ue(ae.UseNavigateStable),n=le(se.UseNavigateStable),r=t.useRef(!1);$((()=>{r.current=!0}));let o=t.useCallback((function(t,o){void 0===o&&(o={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,U({fromRouteId:n},o)))}),[e,n]);return o}():function(){K()||s(!1);let e=t.useContext(W),{basename:n,future:r,navigator:o}=t.useContext(V),{matches:i}=t.useContext(q),{pathname:a}=Y(),u=JSON.stringify(P(i,r.v7_relativeSplatPath)),c=t.useRef(!1);$((()=>{c.current=!0}));let l=t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void o.go(t);let i=N(t,JSON.parse(u),a,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:M([n,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}),[n,o,u,a,e]);return l}()}const Q=t.createContext(null);function J(e,n){let{relative:r}=void 0===n?{}:n,{future:o}=t.useContext(V),{matches:i}=t.useContext(q),{pathname:a}=Y(),s=JSON.stringify(P(i,o.v7_relativeSplatPath));return t.useMemo((()=>N(e,JSON.parse(s),a,"path"===r)),[e,s,a,r])}function ee(n,r,o,i){K()||s(!1);let{navigator:a}=t.useContext(V),{matches:u}=t.useContext(q),c=u[u.length-1],l=c?c.params:{},f=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=Y();if(r){var v;let e="string"===typeof r?d(r):r;"/"===f||(null==(v=e.pathname)?void 0:v.startsWith(f))||s(!1),h=e}else h=p;let g=h.pathname||"/",y=g;if("/"!==f){let e=f.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(n,{pathname:y});let w=ie(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([f,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:M([f,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,o,i);return r&&w?t.createElement(G.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function te(){let e=function(){var e;let n=t.useContext(X),r=ce(se.UseRouteError),o=le(se.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[o]}(),n=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const ne=t.createElement(te,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(q.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:r,children:o}=e,i=t.useContext(W);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(q.Provider,{value:n},o)}function ie(e,n,r,o){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let u=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=u.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||s(!1),u=u.slice(0,Math.min(u.length,e+1))}let l=!1,f=-1;if(r&&o&&o.v7_partialHydration)for(let t=0;t<u.length;t++){let e=u[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(f=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){l=!0,u=f>=0?u.slice(0,f+1):[u[0]];break}}}return u.reduceRight(((e,o,i)=>{let a,s=!1,d=null,h=null;var p;r&&(a=c&&o.route.id?c[o.route.id]:void 0,d=o.route.errorElement||ne,l&&(f<0&&0===i?(p="route-fallback",!1||fe[p]||(fe[p]=!0),s=!0,h=null):f===i&&(s=!0,h=o.route.hydrateFallbackElement||null)));let m=n.concat(u.slice(0,i+1)),v=()=>{let n;return n=a?d:s?h:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(oe,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?t.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:a,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function ue(e){let n=t.useContext(W);return n||s(!1),n}function ce(e){let n=t.useContext(H);return n||s(!1),n}function le(e){let n=function(e){let n=t.useContext(q);return n||s(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}const fe={};r.startTransition;function de(e){return function(e){let n=t.useContext(q).outlet;return n?t.createElement(Q.Provider,{value:e},n):n}(e.context)}function he(e){s(!1)}function pe(n){let{basename:r="/",children:o=null,location:i,navigationType:a=e.Pop,navigator:u,static:c=!1,future:l}=n;K()&&s(!1);let f=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:f,navigator:u,static:c,future:U({v7_relativeSplatPath:!1},l)})),[f,l,u,c]);"string"===typeof i&&(i=d(i));let{pathname:p="/",search:m="",hash:v="",state:g=null,key:y="default"}=i,b=t.useMemo((()=>{let e=T(p,f);return null==e?null:{location:{pathname:e,search:m,hash:v,state:g,key:y},navigationType:a}}),[f,p,m,v,g,y,a]);return null==b?null:t.createElement(V.Provider,{value:h},t.createElement(G.Provider,{children:o,value:b}))}function me(e){let{children:t,location:n}=e;return ee(ve(t),n)}new Promise((()=>{}));t.Component;function ve(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,o)=>{if(!t.isValidElement(e))return;let i=[...n,o];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,i));e.type!==he&&s(!1),e.props.index&&e.props.children&&s(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,i)),r.push(a)})),r}var ge=n(7237),ye=t,be=Symbol.for("react-redux-context"),we="undefined"!==typeof globalThis?globalThis:{};function xe(){var e;if(!ye.createContext)return{};const t=null!==(e=we[be])&&void 0!==e?e:we[be]=new Map;let n=t.get(ye.createContext);return n||(n=ye.createContext(null),t.set(ye.createContext,n)),n}var ke=xe(),Se=()=>{throw new Error("uSES not initialized!")};function _e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return function(){return ye.useContext(e)}}var Ee=_e(),Ce=Se,Ae=(e,t)=>e===t;function Oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;const t=e===ke?Ee:_e(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=Ae,devModeChecks:o={}}="function"===typeof n?{equalityFn:n}:n;const{store:i,subscription:a,getServerState:s,stabilityCheck:u,identityFunctionCheck:c}=t(),l=(ye.useRef(!0),ye.useCallback({[e.name]:t=>e(t)}[e.name],[e,u,o.stabilityCheck])),f=Ce(a.addNestedSub,i.getState,s||i.getState,l,r);return ye.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var Te=Oe();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function Re(e){e()}var Ie={notify(){},get:()=>[]};function Pe(e,t){let n,r=Ie,o=0,i=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Re((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function u(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=Ie)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,u())},getListeners:()=>r};return c}var Ne=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Me="undefined"!==typeof navigator&&"ReactNative"===navigator.product,De=Ne||Me?ye.useLayoutEffect:ye.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Fe=function(e){let{store:t,context:n,children:r,serverState:o,stabilityCheck:i="once",identityFunctionCheck:a="once"}=e;const s=ye.useMemo((()=>{const e=Pe(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:i,identityFunctionCheck:a}}),[t,o,i,a]),u=ye.useMemo((()=>t.getState()),[t]);De((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,u]);const c=n||ke;return ye.createElement(c.Provider,{value:s},r)};function Le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;const t=e===ke?Ee:_e(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var je=Le();function Be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;const t=e===ke?je:Le(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ze=Be();(e=>{Ce=e})(ge.useSyncExternalStoreWithSelector),(e=>{e})(t.useSyncExternalStore);var Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)};Object.create;function We(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var He=n(7324),Ve=n.n(He),Ge="-ms-",qe="-moz-",Xe="-webkit-",Ke="comm",Ye="rule",$e="decl",Ze="@import",Qe="@keyframes",Je="@layer",et=Math.abs,tt=String.fromCharCode,nt=Object.assign;function rt(e){return e.trim()}function ot(e,t){return(e=t.exec(e))?e[0]:e}function it(e,t,n){return e.replace(t,n)}function at(e,t,n){return e.indexOf(t,n)}function st(e,t){return 0|e.charCodeAt(t)}function ut(e,t,n){return e.slice(t,n)}function ct(e){return e.length}function lt(e){return e.length}function ft(e,t){return t.push(e),e}function dt(e,t){return e.filter((function(e){return!ot(e,t)}))}var ht=1,pt=1,mt=0,vt=0,gt=0,yt="";function bt(e,t,n,r,o,i,a,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:ht,column:pt,length:a,return:"",siblings:s}}function wt(e,t){return nt(bt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function xt(e){for(;e.root;)e=wt(e.root,{children:[e]});ft(e,e.siblings)}function kt(){return gt=vt>0?st(yt,--vt):0,pt--,10===gt&&(pt=1,ht--),gt}function St(){return gt=vt<mt?st(yt,vt++):0,pt++,10===gt&&(pt=1,ht++),gt}function _t(){return st(yt,vt)}function Et(){return vt}function Ct(e,t){return ut(yt,e,t)}function At(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ot(e){return ht=pt=1,mt=ct(yt=e),vt=0,[]}function Tt(e){return yt="",e}function Rt(e){return rt(Ct(vt-1,Nt(91===e?e+2:40===e?e+1:e)))}function It(e){for(;(gt=_t())&&gt<33;)St();return At(e)>2||At(gt)>3?"":" "}function Pt(e,t){for(;--t&&St()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return Ct(e,Et()+(t<6&&32==_t()&&32==St()))}function Nt(e){for(;St();)switch(gt){case e:return vt;case 34:case 39:34!==e&&39!==e&&Nt(gt);break;case 40:41===e&&Nt(e);break;case 92:St()}return vt}function Mt(e,t){for(;St()&&e+gt!==57&&(e+gt!==84||47!==_t()););return"/*"+Ct(t,vt-1)+"*"+tt(47===e?e:St())}function Dt(e){for(;!At(_t());)St();return Ct(e,vt)}function Ft(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Lt(e,t,n,r){switch(e.type){case Je:if(e.children.length)break;case Ze:case $e:return e.return=e.return||e.value;case Ke:return"";case Qe:return e.return=e.value+"{"+Ft(e.children,r)+"}";case Ye:if(!ct(e.value=e.props.join(",")))return""}return ct(n=Ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function jt(e,t,n){switch(function(e,t){return 45^st(e,0)?(((t<<2^st(e,0))<<2^st(e,1))<<2^st(e,2))<<2^st(e,3):0}(e,t)){case 5103:return Xe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+e+e;case 4789:return qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+e+qe+e+Ge+e+e;case 5936:switch(st(e,t+11)){case 114:return Xe+e+Ge+it(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xe+e+Ge+it(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xe+e+Ge+it(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Xe+e+Ge+e+e;case 6165:return Xe+e+Ge+"flex-"+e+e;case 5187:return Xe+e+it(e,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+Ge+"flex-$1$2")+e;case 5443:return Xe+e+Ge+"flex-item-"+it(e,/flex-|-self/g,"")+(ot(e,/flex-|baseline/)?"":Ge+"grid-row-"+it(e,/flex-|-self/g,""))+e;case 4675:return Xe+e+Ge+"flex-line-pack"+it(e,/align-content|flex-|-self/g,"")+e;case 5548:return Xe+e+Ge+it(e,"shrink","negative")+e;case 5292:return Xe+e+Ge+it(e,"basis","preferred-size")+e;case 6060:return Xe+"box-"+it(e,"-grow","")+Xe+e+Ge+it(e,"grow","positive")+e;case 4554:return Xe+it(e,/([^-])(transform)/g,"$1"+Xe+"$2")+e;case 6187:return it(it(it(e,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),e,"")+e;case 5495:case 3959:return it(e,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return it(it(e,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+e+e;case 4200:if(!ot(e,/flex-|baseline/))return Ge+"grid-column-align"+ut(e,t)+e;break;case 2592:case 3360:return Ge+it(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,ot(e.props,/grid-\w+-end/)}))?~at(e+(n=n[t].value),"span",0)?e:Ge+it(e,"-start","")+e+Ge+"grid-row-span:"+(~at(n,"span",0)?ot(n,/\d+/):+ot(n,/\d+/)-+ot(e,/\d+/))+";":Ge+it(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return ot(e.props,/grid-\w+-start/)}))?e:Ge+it(it(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return it(e,/(.+)-inline(.+)/,Xe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ct(e)-1-t>6)switch(st(e,t+1)){case 109:if(45!==st(e,t+4))break;case 102:return it(e,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+qe+(108==st(e,t+3)?"$3":"$2-$3"))+e;case 115:return~at(e,"stretch",0)?jt(it(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return it(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,i,a,s){return Ge+n+":"+r+s+(o?Ge+n+"-span:"+(i?a:+a-+r)+s:"")+e}));case 4949:if(121===st(e,t+6))return it(e,":",":"+Xe)+e;break;case 6444:switch(st(e,45===st(e,14)?18:11)){case 120:return it(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xe+(45===st(e,14)?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+Ge+"$2box$3")+e;case 100:return it(e,":",":"+Ge)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return it(e,"scroll-","scroll-snap-")+e}return e}function Bt(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case $e:return void(e.return=jt(e.value,e.length,n));case Qe:return Ft([wt(e,{value:it(e.value,"@","@"+Xe)})],r);case Ye:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(ot(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xt(wt(e,{props:[it(t,/:(read-\w+)/,":"+qe+"$1")]})),xt(wt(e,{props:[t]})),nt(e,{props:dt(n,r)});break;case"::placeholder":xt(wt(e,{props:[it(t,/:(plac\w+)/,":"+Xe+"input-$1")]})),xt(wt(e,{props:[it(t,/:(plac\w+)/,":"+qe+"$1")]})),xt(wt(e,{props:[it(t,/:(plac\w+)/,Ge+"input-$1")]})),xt(wt(e,{props:[t]})),nt(e,{props:dt(n,r)})}return""}))}}function zt(e){return Tt(Ut("",null,null,null,[""],e=Ot(e),0,[0],e))}function Ut(e,t,n,r,o,i,a,s,u){for(var c=0,l=0,f=a,d=0,h=0,p=0,m=1,v=1,g=1,y=0,b="",w=o,x=i,k=r,S=b;v;)switch(p=y,y=St()){case 40:if(108!=p&&58==st(S,f-1)){-1!=at(S+=it(Rt(y),"&","&\f"),"&\f",et(c?s[c-1]:0))&&(g=-1);break}case 34:case 39:case 91:S+=Rt(y);break;case 9:case 10:case 13:case 32:S+=It(p);break;case 92:S+=Pt(Et()-1,7);continue;case 47:switch(_t()){case 42:case 47:ft(Ht(Mt(St(),Et()),t,n,u),u);break;default:S+="/"}break;case 123*m:s[c++]=ct(S)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+l:-1==g&&(S=it(S,/\f/g,"")),h>0&&ct(S)-f&&ft(h>32?Vt(S+";",r,n,f-1,u):Vt(it(S," ","")+";",r,n,f-2,u),u);break;case 59:S+=";";default:if(ft(k=Wt(S,t,n,c,l,o,s,b,w=[],x=[],f,i),i),123===y)if(0===l)Ut(S,t,k,k,w,i,f,s,x);else switch(99===d&&110===st(S,3)?100:d){case 100:case 108:case 109:case 115:Ut(e,k,k,r&&ft(Wt(e,k,k,0,0,o,s,b,o,w=[],f,x),x),o,x,f,s,r?w:x);break;default:Ut(S,k,k,k,[""],x,0,s,x)}}c=l=h=0,m=g=1,b=S="",f=a;break;case 58:f=1+ct(S),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==kt())continue;switch(S+=tt(y),y*m){case 38:g=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(ct(S)-1)*g,g=1;break;case 64:45===_t()&&(S+=Rt(St())),d=_t(),l=f=ct(b=S+=Dt(Et())),y++;break;case 45:45===p&&2==ct(S)&&(m=0)}}return i}function Wt(e,t,n,r,o,i,a,s,u,c,l,f){for(var d=o-1,h=0===o?i:[""],p=lt(h),m=0,v=0,g=0;m<r;++m)for(var y=0,b=ut(e,d+1,d=et(v=a[m])),w=e;y<p;++y)(w=rt(v>0?h[y]+" "+b:it(b,/&\f/g,h[y])))&&(u[g++]=w);return bt(e,t,n,0===o?Ye:s,u,c,l,f)}function Ht(e,t,n,r){return bt(e,t,n,Ke,tt(gt),ut(e,2,-2),0,r)}function Vt(e,t,n,r,o){return bt(e,t,n,$e,ut(e,0,r),ut(e,r+1,-1),r,o)}const Gt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var qt="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Xt="active",Kt="data-styled-version",Yt="6.1.8",$t="/*!sc*/\n",Zt="undefined"!=typeof window&&"HTMLElement"in window,Qt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Jt=(new Set,Object.freeze([])),en=Object.freeze({});function tn(e,t,n){return void 0===n&&(n=en),e.theme!==n.theme&&e.theme||t||n.theme}var nn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),rn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,on=/(^-|-$)/g;function an(e){return e.replace(rn,"-").replace(on,"")}var sn=/(a)(d)/gi,un=52,cn=function(e){return String.fromCharCode(e+(e>25?39:97))};function ln(e){var t,n="";for(t=Math.abs(e);t>un;t=t/un|0)n=cn(t%un)+n;return(cn(t%un)+n).replace(sn,"$1-$2")}var fn,dn=5381,hn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pn=function(e){return hn(dn,e)};function mn(e){return ln(pn(e)>>>0)}function vn(e){return e.displayName||e.name||"Component"}function gn(e){return"string"==typeof e&&!0}var yn="function"==typeof Symbol&&Symbol.for,bn=yn?Symbol.for("react.memo"):60115,wn=yn?Symbol.for("react.forward_ref"):60112,xn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Sn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_n=((fn={})[wn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fn[bn]=Sn,fn);function En(e){return("type"in(t=e)&&t.type.$$typeof)===bn?Sn:"$$typeof"in e?_n[e.$$typeof]:xn;var t}var Cn=Object.defineProperty,An=Object.getOwnPropertyNames,On=Object.getOwnPropertySymbols,Tn=Object.getOwnPropertyDescriptor,Rn=Object.getPrototypeOf,In=Object.prototype;function Pn(e,t,n){if("string"!=typeof t){if(In){var r=Rn(t);r&&r!==In&&Pn(e,r,n)}var o=An(t);On&&(o=o.concat(On(t)));for(var i=En(e),a=En(t),s=0;s<o.length;++s){var u=o[s];if(!(u in kn||n&&n[u]||a&&u in a||i&&u in i)){var c=Tn(t,u);try{Cn(e,u,c)}catch(e){}}}}return e}function Nn(e){return"function"==typeof e}function Mn(e){return"object"==typeof e&&"styledComponentId"in e}function Dn(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Fn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Ln(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function jn(e,t,n){if(void 0===n&&(n=!1),!n&&!Ln(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=jn(e[r],t[r]);else if(Ln(t))for(var r in t)e[r]=jn(e[r],t[r]);return e}function Bn(e,t){Object.defineProperty(e,"toString",{value:t})}function zn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Un=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw zn(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=(i=0,t.length);i<s;i++)this.tag.insertRule(a,t[i])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+="".concat(this.tag.getRule(i)).concat($t);return t},e}(),Wn=new Map,Hn=new Map,Vn=1,Gn=function(e){if(Wn.has(e))return Wn.get(e);for(;Hn.has(Vn);)Vn++;var t=Vn++;return Wn.set(e,t),Hn.set(t,e),t},qn=function(e,t){Vn=t+1,Wn.set(e,t),Hn.set(t,e)},Xn="style[".concat(qt,"][").concat(Kt,'="').concat(Yt,'"]'),Kn=new RegExp("^".concat(qt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Yn=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},$n=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split($t),o=[],i=0,a=r.length;i<a;i++){var s=r[i].trim();if(s){var u=s.match(Kn);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(qn(l,c),Yn(e,l,u[3]),e.getTag().insertRules(c,o)),o.length=0}else o.push(s)}}};function Zn(){return n.nc}var Qn=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){var t=Array.from(e.querySelectorAll("style[".concat(qt,"]")));return t[t.length-1]}(n),i=void 0!==o?o.nextSibling:null;r.setAttribute(qt,Xt),r.setAttribute(Kt,Yt);var a=Zn();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},Jn=function(){function e(e){this.element=Qn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}throw zn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),er=function(){function e(e){this.element=Qn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),tr=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),nr=Zt,rr={isServer:!Zt,useCSSOMInjection:!Qt},or=function(){function e(e,t,n){void 0===e&&(e=en),void 0===t&&(t={});var r=this;this.options=Ue(Ue({},rr),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Zt&&nr&&(nr=!1,function(e){for(var t=document.querySelectorAll(Xn),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(qt)!==Xt&&($n(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this)),Bn(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=function(n){var o=function(e){return Hn.get(e)}(n);if(void 0===o)return"continue";var i=e.names.get(o),a=t.getGroup(n);if(void 0===i||0===a.length)return"continue";var s="".concat(qt,".g").concat(n,'[id="').concat(o,'"]'),u="";void 0!==i&&i.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(a).concat(s,'{content:"').concat(u,'"}').concat($t)},i=0;i<n;i++)o(i);return r}(r)}))}return e.registerId=function(e){return Gn(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ue(Ue({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new tr(n):t?new Jn(n):new er(n)}(this.options),new Un(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Gn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Gn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Gn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ir=/&/g,ar=/^\s*\/\/.*$/gm;function sr(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=sr(e.children,t)),e}))}function ur(e){var t,n,r,o=void 0===e?en:e,i=o.options,a=void 0===i?en:i,s=o.plugins,u=void 0===s?Jt:s,c=function(e,r,o){return o.startsWith(n)&&o.endsWith(n)&&o.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push((function(e){e.type===Ye&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(ir,n).replace(r,c))})),a.prefix&&l.push(Bt),l.push(Lt);var f=function(e,o,i,s){void 0===o&&(o=""),void 0===i&&(i=""),void 0===s&&(s="&"),t=s,n=o,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(ar,""),c=zt(i||o?"".concat(i," ").concat(o," { ").concat(u," }"):u);a.namespace&&(c=sr(c,a.namespace));var f,d=[];return Ft(c,function(e){var t=lt(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}(l.concat((f=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),d};return f.hash=u.length?u.reduce((function(e,t){return t.name||zn(15),hn(e,t.name)}),dn).toString():"",f}var cr=new or,lr=ur(),fr=t.createContext({shouldForwardProp:void 0,styleSheet:cr,stylis:lr}),dr=(fr.Consumer,t.createContext(void 0));function hr(){return(0,t.useContext)(fr)}function pr(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],o=n[1],i=hr().styleSheet,a=(0,t.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,i]),s=(0,t.useMemo)((function(){return ur({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){Ve()(r,e.stylisPlugins)||o(e.stylisPlugins)}),[e.stylisPlugins]);var u=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:s}}),[e.shouldForwardProp,a,s]);return t.createElement(fr.Provider,{value:u},t.createElement(dr.Provider,{value:s},e.children))}var mr=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=lr);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Bn(this,(function(){throw zn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=lr),this.name+e.hash},e}(),vr=function(e){return e>="A"&&e<="Z"};function gr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;vr(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var yr=function(e){return null==e||!1===e||""===e},br=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!yr(i)&&(Array.isArray(i)&&i.isCss||Nn(i)?r.push("".concat(gr(o),":"),i,";"):Ln(i)?r.push.apply(r,We(We(["".concat(o," {")],br(i),!1),["}"],!1)):r.push("".concat(gr(o),": ").concat((t=o,null==(n=i)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Gt||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function wr(e,t,n,r){return yr(e)?[]:Mn(e)?[".".concat(e.styledComponentId)]:Nn(e)?!Nn(o=e)||o.prototype&&o.prototype.isReactComponent||!t?[e]:wr(e(t),t,n,r):e instanceof mr?n?(e.inject(n,r),[e.getName(r)]):[e]:Ln(e)?br(e):Array.isArray(e)?Array.prototype.concat.apply(Jt,e.map((function(e){return wr(e,t,n,r)}))):[e.toString()];var o}function xr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Nn(n)&&!Mn(n))return!1}return!0}var kr=pn(Yt),Sr=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&xr(e),this.componentId=t,this.baseHash=hn(kr,t),this.baseStyle=n,or.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Dn(r,this.staticRulesId);else{var o=Fn(wr(this.rules,e,t,n)),i=ln(hn(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,i)){var a=n(o,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,a)}r=Dn(r,i),this.staticRulesId=i}else{for(var s=hn(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var f=Fn(wr(l,e,t,n));s=hn(s,f+c),u+=f}}if(u){var d=ln(s>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(u,".".concat(d),void 0,this.componentId)),r=Dn(r,d)}}return r},e}(),_r=t.createContext(void 0);_r.Consumer;function Er(e){var n=t.useContext(_r),r=(0,t.useMemo)((function(){return function(e,t){if(!e)throw zn(14);if(Nn(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw zn(8);return t?Ue(Ue({},t),e):e}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(_r.Provider,{value:r},e.children):null}var Cr={};new Set;function Ar(e,n,r){var o=Mn(e),i=e,a=!gn(e),s=n.attrs,u=void 0===s?Jt:s,c=n.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":an(e);Cr[n]=(Cr[n]||0)+1;var r="".concat(n,"-").concat(mn(Yt+n+Cr[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,f=n.displayName,d=void 0===f?function(e){return gn(e)?"styled.".concat(e):"Styled(".concat(vn(e),")")}(e):f,h=n.displayName&&n.componentId?"".concat(an(n.displayName),"-").concat(n.componentId):n.componentId||l,p=o&&i.attrs?i.attrs.concat(u).filter(Boolean):u,m=n.shouldForwardProp;if(o&&i.shouldForwardProp){var v=i.shouldForwardProp;if(n.shouldForwardProp){var g=n.shouldForwardProp;m=function(e,t){return v(e,t)&&g(e,t)}}else m=v}var y=new Sr(r,h,o?i.componentStyle:void 0);function b(e,n){return function(e,n,r){var o=e.attrs,i=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,u=e.styledComponentId,c=e.target,l=t.useContext(_r),f=hr(),d=e.shouldForwardProp||f.shouldForwardProp,h=tn(n,l,a)||en,p=function(e,t,n){for(var r,o=Ue(Ue({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var a=Nn(r=e[i])?r(o):r;for(var s in a)o[s]="className"===s?Dn(o[s],a[s]):"style"===s?Ue(Ue({},o[s]),a[s]):a[s]}return t.className&&(o.className=Dn(o.className,t.className)),o}(o,n,h),m=p.as||c,v={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g&&p.theme===h||("forwardedAs"===g?v.as=p.forwardedAs:d&&!d(g,m)||(v[g]=p[g]));var y=function(e,t){var n=hr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(i,p),b=Dn(s,u);return y&&(b+=" "+y),p.className&&(b+=" "+p.className),v[gn(m)&&!nn.has(m)?"class":"className"]=b,v.ref=r,(0,t.createElement)(m,v)}(w,e,n)}b.displayName=d;var w=t.forwardRef(b);return w.attrs=p,w.componentStyle=y,w.displayName=d,w.shouldForwardProp=m,w.foldedComponentIds=o?Dn(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=h,w.target=o?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)jn(e,o[r],!0);return e}({},i.defaultProps,e):e}}),Bn(w,(function(){return".".concat(w.styledComponentId)})),a&&Pn(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Or(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Tr=function(e){return Object.assign(e,{isCss:!0})};function Rr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nn(e)||Ln(e))return Tr(wr(Or(Jt,We([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?wr(r):Tr(wr(Or(r,t)))}function Ir(e,t,n){if(void 0===n&&(n=en),!t)throw zn(1,t);var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,n,Rr.apply(void 0,We([r],o,!1)))};return r.attrs=function(r){return Ir(e,t,Ue(Ue({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Ir(e,t,Ue(Ue({},n),r))},r}var Pr=function(e){return Ir(Ar,e)},Nr=Pr;nn.forEach((function(e){Nr[e]=Pr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=xr(e),or.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var o=r(Fn(wr(this.rules,t,n,r)),""),i=this.componentId+e;n.insertRules(i,i,o)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&or.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function Mr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Fn(Rr.apply(void 0,We([e],t,!1))),o=mn(r);return new mr(o,r)}var Dr;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Zn(),r=Fn([n&&'nonce="'.concat(n,'"'),"".concat(qt,'="true"'),"".concat(Kt,'="').concat(Yt,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw zn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw zn(2);var r=((n={})[qt]="",n[Kt]=Yt,n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),o=Zn();return o&&(r.nonce=o),[t.createElement("style",Ue({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new or({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw zn(2);return t.createElement(pr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw zn(3)}})(),"__sc-".concat(qt,"__");function Fr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Lr=Nr.div(Dr||(Dr=Fr(["\n    background: ",";\n    color: ",";\n    transition: all 0.5s;\n    a {\n        color: ",";\n        color: #71a3dc;\n        text-decoration: none;\n    }\n    button {\n        color: ",";\n        background: ",";\n    }\n"])),(e=>e.theme.backgroundColor),(e=>e.theme.textColor),(e=>e.theme.linkColor),(e=>e.theme.textColor),(e=>e.theme.btnBgColor));function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Gr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){if(e){if("string"===typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(e,t):void 0}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=function(){},Kr={},Yr={},$r=null,Zr={mark:Xr,measure:Xr};try{"undefined"!==typeof window&&(Kr=window),"undefined"!==typeof document&&(Yr=document),"undefined"!==typeof MutationObserver&&($r=MutationObserver),"undefined"!==typeof performance&&(Zr=performance)}catch(jK){}var Qr,Jr,eo,to,no,ro=(Kr.navigator||{}).userAgent,oo=void 0===ro?"":ro,io=Kr,ao=Yr,so=$r,uo=Zr,co=(io.document,!!ao.documentElement&&!!ao.head&&"function"===typeof ao.addEventListener&&"function"===typeof ao.createElement),lo=~oo.indexOf("MSIE")||~oo.indexOf("Trident/"),fo="___FONT_AWESOME___",ho=16,po="fa",mo="svg-inline--fa",vo="data-fa-i2svg",go="data-fa-pseudo-element",yo="data-fa-pseudo-element-pending",bo="data-prefix",wo="data-icon",xo="fontawesome-i2svg",ko="async",So=["HTML","HEAD","STYLE","SCRIPT"],_o=function(){try{return!0}catch(jK){return!1}}(),Eo="classic",Co="sharp",Ao=[Eo,Co];function Oo(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[Eo]}})}var To=Oo((Wr(Qr={},Eo,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Wr(Qr,Co,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Qr)),Ro=Oo((Wr(Jr={},Eo,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Wr(Jr,Co,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Jr)),Io=Oo((Wr(eo={},Eo,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Wr(eo,Co,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),eo)),Po=Oo((Wr(to={},Eo,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Wr(to,Co,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),to)),No=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,Mo="fa-layers-text",Do=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Fo=Oo((Wr(no={},Eo,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Wr(no,Co,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),no)),Lo=[1,2,3,4,5,6,7,8,9,10],jo=Lo.concat([11,12,13,14,15,16,17,18,19,20]),Bo=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Uo=new Set;Object.keys(Ro[Eo]).map(Uo.add.bind(Uo)),Object.keys(Ro[Co]).map(Uo.add.bind(Uo));var Wo=[].concat(Ao,Vr(Uo),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",zo.GROUP,zo.SWAP_OPACITY,zo.PRIMARY,zo.SECONDARY]).concat(Lo.map((function(e){return"".concat(e,"x")}))).concat(jo.map((function(e){return"w-".concat(e)}))),Ho=io.FontAwesomeConfig||{};if(ao&&"function"===typeof ao.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Hr(e,2),n=t[0],r=t[1],o=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=ao.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==o&&null!==o&&(Ho[r]=o)}))}var Vo={styleDefault:"solid",familyDefault:"classic",cssPrefix:po,replacementClass:mo,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ho.familyPrefix&&(Ho.cssPrefix=Ho.familyPrefix);var Go=Br(Br({},Vo),Ho);Go.autoReplaceSvg||(Go.observeMutations=!1);var qo={};Object.keys(Vo).forEach((function(e){Object.defineProperty(qo,e,{enumerable:!0,set:function(t){Go[e]=t,Xo.forEach((function(e){return e(qo)}))},get:function(){return Go[e]}})})),Object.defineProperty(qo,"familyPrefix",{enumerable:!0,set:function(e){Go.cssPrefix=e,Xo.forEach((function(e){return e(qo)}))},get:function(){return Go.cssPrefix}}),io.FontAwesomeConfig=qo;var Xo=[];var Ko=ho,Yo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var $o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Zo(){for(var e=12,t="";e-- >0;)t+=$o[62*Math.random()|0];return t}function Qo(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Jo(e){return e.classList?Qo(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function ei(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ti(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function ni(e){return e.size!==Yo.size||e.x!==Yo.x||e.y!==Yo.y||e.rotate!==Yo.rotate||e.flipX||e.flipY}var ri=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function oi(){var e=po,t=mo,n=qo.cssPrefix,r=qo.replacementClass,o=ri;if(n!==e||r!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");o=o.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return o}var ii=!1;function ai(){qo.autoAddCss&&!ii&&(!function(e){if(e&&co){var t=ao.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=ao.head.childNodes,r=null,o=n.length-1;o>-1;o--){var i=n[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}ao.head.insertBefore(t,r)}}(oi()),ii=!0)}var si={mixout:function(){return{dom:{css:oi,insertCss:ai}}},hooks:function(){return{beforeDOMElementCreation:function(){ai()},beforeI2svg:function(){ai()}}}},ui=io||{};ui[fo]||(ui[fo]={}),ui[fo].styles||(ui[fo].styles={}),ui[fo].hooks||(ui[fo].hooks={}),ui[fo].shims||(ui[fo].shims=[]);var ci=ui[fo],li=[],fi=!1;function di(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,o=e.children,i=void 0===o?[]:o;return"string"===typeof e?ei(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ei(e[n]),'" ')}),"").trim()}(r),">").concat(i.map(di).join(""),"</").concat(t,">")}function hi(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}co&&((fi=(ao.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ao.readyState))||ao.addEventListener("DOMContentLoaded",(function e(){ao.removeEventListener("DOMContentLoaded",e),fi=1,li.map((function(e){return e()}))})));var pi=function(e,t,n,r){var o,i,a,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,o,i){return e.call(t,n,r,o,i)}}(t,r):t;for(void 0===n?(o=1,a=e[s[0]]):(o=0,a=n);o<u;o++)a=c(a,e[i=s[o]],i,e);return a};function mi(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e);return 1===t.length?t[0].toString(16):null}function vi(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function gi(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,o=vi(t);"function"!==typeof ci.hooks.addPack||r?ci.styles[e]=Br(Br({},ci.styles[e]||{}),o):ci.hooks.addPack(e,vi(t)),"fas"===e&&gi("fa",t)}var yi,bi,wi,xi=ci.styles,ki=ci.shims,Si=(Wr(yi={},Eo,Object.values(Io[Eo])),Wr(yi,Co,Object.values(Io[Co])),yi),_i=null,Ei={},Ci={},Ai={},Oi={},Ti={},Ri=(Wr(bi={},Eo,Object.keys(To[Eo])),Wr(bi,Co,Object.keys(To[Co])),bi);function Ii(e,t){var n,r=t.split("-"),o=r[0],i=r.slice(1).join("-");return o!==e||""===i||(n=i,~Wo.indexOf(n))?null:i}var Pi,Ni=function(){var e=function(e){return pi(xi,(function(t,n,r){return t[r]=pi(n,e,{}),t}),{})};Ei=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),Ci=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),Ti=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in xi||qo.autoFetchSvg,n=pi(ki,(function(e,n){var r=n[0],o=n[1],i=n[2];return"far"!==o||t||(o="fas"),"string"===typeof r&&(e.names[r]={prefix:o,iconName:i}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:o,iconName:i}),e}),{names:{},unicodes:{}});Ai=n.names,Oi=n.unicodes,_i=Bi(qo.styleDefault,{family:qo.familyDefault})};function Mi(e,t){return(Ei[e]||{})[t]}function Di(e,t){return(Ti[e]||{})[t]}function Fi(e){return Ai[e]||{prefix:null,iconName:null}}function Li(){return _i}Pi=function(e){_i=Bi(e.styleDefault,{family:qo.familyDefault})},Xo.push(Pi),Ni();var ji=function(){return{prefix:null,iconName:null,rest:[]}};function Bi(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?Eo:t,r=To[n][e],o=Ro[n][e]||Ro[n][r],i=e in ci.styles?e:null;return o||i||null}var zi=(Wr(wi={},Eo,Object.keys(Io[Eo])),Wr(wi,Co,Object.keys(Io[Co])),wi);function Ui(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,o=(Wr(t={},Eo,"".concat(qo.cssPrefix,"-").concat(Eo)),Wr(t,Co,"".concat(qo.cssPrefix,"-").concat(Co)),t),i=null,a=Eo;(e.includes(o[Eo])||e.some((function(e){return zi[Eo].includes(e)})))&&(a=Eo),(e.includes(o[Co])||e.some((function(e){return zi[Co].includes(e)})))&&(a=Co);var s=e.reduce((function(e,t){var n=Ii(qo.cssPrefix,t);if(xi[t]?(t=Si[a].includes(t)?Po[a][t]:t,i=t,e.prefix=t):Ri[a].indexOf(t)>-1?(i=t,e.prefix=Bi(t,{family:a})):n?e.iconName=n:t!==qo.replacementClass&&t!==o[Eo]&&t!==o[Co]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===i?Fi(e.iconName):{},u=Di(e.prefix,e.iconName);s.prefix&&(i=null),e.iconName=s.iconName||u||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||xi.far||!xi.fas||qo.autoFetchSvg||(e.prefix="fas")}return e}),ji());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==Co||!xi.fass&&!qo.autoFetchSvg||(s.prefix="fass",s.iconName=Di(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==i||(s.prefix=Li()||"fas"),s}var Wi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=Br(Br({},e.definitions[t]||{}),o[t]),gi(t,o[t]);var n=Io[Eo][t];n&&gi(n,o[t]),Ni()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],o=r.prefix,i=r.iconName,a=r.icon,s=a[2];e[o]||(e[o]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[o][t]=a)})),e[o][i]=a})),e}}],n&&Ur(t.prototype,n),r&&Ur(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Hi=[],Vi={},Gi={},qi=Object.keys(Gi);function Xi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(Vi[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Ki(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Vi[e]||[]).forEach((function(e){e.apply(null,n)}))}function Yi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Gi[e]?Gi[e].apply(null,t):void 0}function $i(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Li();if(t)return t=Di(n,t)||t,hi(Zi.definitions,n,t)||hi(ci.styles,n,t)}var Zi=new Wi,Qi={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return co?(Ki("beforeI2svg",e),Yi("pseudoElements2svg",e),Yi("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===qo.autoReplaceSvg&&(qo.autoReplaceSvg=!0),qo.observeMutations=!0,function(e){co&&(fi?setTimeout(e,0):li.push(e))}((function(){ta({autoReplaceSvgRoot:t}),Ki("watch",e)}))}},Ji={icon:function(e){if(null===e)return null;if("object"===zr(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Di(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Bi(e[0]);return{prefix:n,iconName:Di(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(qo.cssPrefix,"-"))>-1||e.match(No))){var r=Ui(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Li(),iconName:Di(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var o=Li();return{prefix:o,iconName:Di(o,e)||e}}}},ea={noAuto:function(){qo.autoReplaceSvg=!1,qo.observeMutations=!1,Ki("noAuto")},config:qo,dom:Qi,parse:Ji,library:Zi,findIconDefinition:$i,toHtml:di},ta=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?ao:e;(Object.keys(ci.styles).length>0||qo.autoFetchSvg)&&co&&qo.autoReplaceSvg&&ea.dom.i2svg({node:t})};function na(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return di(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(co){var t=ao.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function ra(e){var t=e.icons,n=t.main,r=t.mask,o=e.prefix,i=e.iconName,a=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,d=e.watchable,h=void 0!==d&&d,p=r.found?r:n,m=p.width,v=p.height,g="fak"===o,y=[qo.replacementClass,i?"".concat(qo.cssPrefix,"-").concat(i):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Br(Br({},f.attributes),{},{"data-prefix":o,"data-icon":i,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},w=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};h&&(b.attributes[vo]=""),u&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||Zo())},children:[u]}),delete b.attributes.title);var x=Br(Br({},b),{},{prefix:o,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:Br(Br({},w),f.styles)}),k=r.found&&n.found?Yi("generateAbstractMask",x)||{children:[],attributes:{}}:Yi("generateAbstractIcon",x)||{children:[],attributes:{}},S=k.children,_=k.attributes;return x.children=S,x.attributes=_,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,o=e.attributes,i=e.symbol,a=!0===i?"".concat(t,"-").concat(qo.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Br(Br({},o),{},{id:a}),children:r}]}]}(x):function(e){var t=e.children,n=e.main,r=e.mask,o=e.attributes,i=e.styles,a=e.transform;if(ni(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};o.style=ti(Br(Br({},i),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}(x)}function oa(e){var t=e.content,n=e.width,r=e.height,o=e.transform,i=e.title,a=e.extra,s=e.watchable,u=void 0!==s&&s,c=Br(Br(Br({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});u&&(c[vo]="");var l=Br({},a.styles);ni(o)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?ho:n,o=e.height,i=void 0===o?ho:o,a=e.startCentered,s=void 0!==a&&a,u="";return u+=s&&lo?"translate(".concat(t.x/Ko-r/2,"em, ").concat(t.y/Ko-i/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Ko,"em), calc(-50% + ").concat(t.y/Ko,"em)) "):"translate(".concat(t.x/Ko,"em, ").concat(t.y/Ko,"em) "),u+="scale(".concat(t.size/Ko*(t.flipX?-1:1),", ").concat(t.size/Ko*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:o,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=ti(l);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),i&&d.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),d}var ia=ci.styles;function aa(e){var t=e[0],n=e[1],r=Hr(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(qo.cssPrefix,"-").concat(zo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qo.cssPrefix,"-").concat(zo.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(qo.cssPrefix,"-").concat(zo.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var sa={found:!1,width:512,height:512};function ua(e,t){var n=t;return"fa"===t&&null!==qo.styleDefault&&(t=Li()),new Promise((function(r,o){Yi("missingIconAbstract");if("fa"===n){var i=Fi(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&ia[t]&&ia[t][e])return r(aa(ia[t][e]));!function(e,t){_o||qo.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Br(Br({},sa),{},{icon:qo.showMissingIcons&&e&&Yi("missingIconAbstract")||{}}))}))}var ca=function(){},la=qo.measurePerformance&&uo&&uo.mark&&uo.measure?uo:{mark:ca,measure:ca},fa='FA "6.5.2"',da=function(e){la.mark("".concat(fa," ").concat(e," ends")),la.measure("".concat(fa," ").concat(e),"".concat(fa," ").concat(e," begins"),"".concat(fa," ").concat(e," ends"))},ha={begin:function(e){return la.mark("".concat(fa," ").concat(e," begins")),function(){return da(e)}},end:da},pa=function(){};function ma(e){return"string"===typeof(e.getAttribute?e.getAttribute(vo):null)}function va(e){return ao.createElementNS("http://www.w3.org/2000/svg",e)}function ga(e){return ao.createElement(e)}function ya(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?va:ga:t;if("string"===typeof e)return ao.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(ya(e,{ceFn:n}))})),r}var ba={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(ya(e),t)})),null===t.getAttribute(vo)&&qo.keepOriginalSource){var n=ao.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Jo(t).indexOf(qo.replacementClass))return ba.replace(e);var r=new RegExp("".concat(qo.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var o=n[0].attributes.class.split(" ").reduce((function(e,t){return t===qo.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}var i=n.map((function(e){return di(e)})).join("\n");t.setAttribute(vo,""),t.innerHTML=i}};function wa(e){e()}function xa(e,t){var n="function"===typeof t?t:pa;if(0===e.length)n();else{var r=wa;qo.mutateApproach===ko&&(r=io.requestAnimationFrame||wa),r((function(){var t=!0===qo.autoReplaceSvg?ba.replace:ba[qo.autoReplaceSvg]||ba.replace,r=ha.begin("mutate");e.map(t),r(),n()}))}}var ka=!1;function Sa(){ka=!0}function _a(){ka=!1}var Ea=null;function Ca(e){if(so&&qo.observeMutations){var t=e.treeCallback,n=void 0===t?pa:t,r=e.nodeCallback,o=void 0===r?pa:r,i=e.pseudoElementsCallback,a=void 0===i?pa:i,s=e.observeMutationsRoot,u=void 0===s?ao:s;Ea=new so((function(e){if(!ka){var t=Li();Qo(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!ma(e.addedNodes[0])&&(qo.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&qo.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&ma(e.target)&&~Bo.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(bo):null,n=e.getAttribute?e.getAttribute(wo):null;return t&&n}(e.target)){var r=Ui(Jo(e.target)),i=r.prefix,s=r.iconName;e.target.setAttribute(bo,i||t),s&&e.target.setAttribute(wo,s)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(qo.replacementClass)})(e.target)&&o(e.target)}))}})),co&&Ea.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Aa(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",o=Ui(Jo(e));return o.prefix||(o.prefix=Li()),t&&n&&(o.prefix=t,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function(e,t){return(Ci[e]||{})[t]}(o.prefix,e.innerText)||Mi(o.prefix,mi(e.innerText))),!o.iconName&&qo.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Aa(e),r=n.iconName,o=n.prefix,i=n.rest,a=function(e){var t=Qo(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return qo.autoA11y&&(n?t["aria-labelledby"]="".concat(qo.replacementClass,"-title-").concat(r||Zo()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Xi("parseNodeAttributes",{},e),u=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],o=n.slice(1);return r&&o.length>0&&(e[r]=o.join(":").trim()),e}),{})),n}(e):[];return Br({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:o,transform:Yo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:u,attributes:a}},s)}var Ta=ci.styles;function Ra(e){var t="nest"===qo.autoReplaceSvg?Oa(e,{styleParser:!1}):Oa(e);return~t.extra.classes.indexOf(Mo)?Yi("generateLayersText",e,t):Yi("generateSvgReplacementMutation",e,t)}var Ia=new Set;function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!co)return Promise.resolve();var n=ao.documentElement.classList,r=function(e){return n.add("".concat(xo,"-").concat(e))},o=function(e){return n.remove("".concat(xo,"-").concat(e))},i=qo.autoFetchSvg?Ia:Ao.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Ta));i.includes("fa")||i.push("fa");var a=[".".concat(Mo,":not([").concat(vo,"])")].concat(i.map((function(e){return".".concat(e,":not([").concat(vo,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=Qo(e.querySelectorAll(a))}catch(jK){}if(!(s.length>0))return Promise.resolve();r("pending"),o("complete");var u=ha.begin("onTree"),c=s.reduce((function(e,t){try{var n=Ra(t);n&&e.push(n)}catch(jK){_o||"MissingIcon"===jK.name&&console.error(jK)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){xa(n,(function(){r("active"),r("complete"),o("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ra(e).then((function(e){e&&xa([e],t)}))}function Ma(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:$i(t||{}),o=n.mask;return o&&(o=(o||{}).icon?o:$i(o||{})),e(r,Br(Br({},n),{},{mask:o}))}}Ao.map((function(e){Ia.add("fa-".concat(e))})),Object.keys(To[Eo]).map(Ia.add.bind(Ia)),Object.keys(To[Co]).map(Ia.add.bind(Ia)),Ia=Vr(Ia);var Da=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Yo:n,o=t.symbol,i=void 0!==o&&o,a=t.mask,s=void 0===a?null:a,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,d=t.titleId,h=void 0===d?null:d,p=t.classes,m=void 0===p?[]:p,v=t.attributes,g=void 0===v?{}:v,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,x=e.iconName,k=e.icon;return na(Br({type:"icon"},e),(function(){return Ki("beforeDOMElementCreation",{iconDefinition:e,params:t}),qo.autoA11y&&(f?g["aria-labelledby"]="".concat(qo.replacementClass,"-title-").concat(h||Zo()):(g["aria-hidden"]="true",g.focusable="false")),ra({icons:{main:aa(k),mask:s?aa(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:x,transform:Br(Br({},Yo),r),symbol:i,title:f,maskId:c,titleId:h,extra:{attributes:g,styles:b,classes:m}})}))}},Fa={mixout:function(){return{icon:Ma(Da)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Pa,e.nodeCallback=Na,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?ao:t,r=e.callback;return Pa(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,o=t.titleId,i=t.prefix,a=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([ua(n,i),u.iconName?ua(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=Hr(u,2),d=f[0],h=f[1];t([e,ra({icons:{main:d,mask:h},prefix:i,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:o,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,o=e.main,i=e.transform,a=ti(e.styles);return a.length>0&&(r.style=a),ni(i)&&(t=Yi("generateAbstractTransformGrouping",{main:o,transform:i,containerWidth:o.width,iconWidth:o.width})),n.push(t||o.icon),{children:n,attributes:r}}}},La={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return na({type:"layer"},(function(){Ki("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(qo.cssPrefix,"-layers")].concat(Vr(r)).join(" ")},children:n}]}))}}}},ja={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,o=t.classes,i=void 0===o?[]:o,a=t.attributes,s=void 0===a?{}:a,u=t.styles,c=void 0===u?{}:u;return na({type:"counter",content:e},(function(){return Ki("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,o=Br(Br(Br({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=ti(r.styles);i.length>0&&(o.style=i);var a=[];return a.push({tag:"span",attributes:o,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(qo.cssPrefix,"-layers-counter")].concat(Vr(i))}})}))}}}},Ba={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Yo:n,o=t.title,i=void 0===o?null:o,a=t.classes,s=void 0===a?[]:a,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return na({type:"text",content:e},(function(){return Ki("beforeDOMElementCreation",{content:e,params:t}),oa({content:e,transform:Br(Br({},Yo),r),title:i,extra:{attributes:c,styles:f,classes:["".concat(qo.cssPrefix,"-layers-text")].concat(Vr(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,o=t.extra,i=null,a=null;if(lo){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();i=u.width/s,a=u.height/s}return qo.autoA11y&&!n&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,oa({content:e.innerHTML,width:i,height:a,transform:r,title:n,extra:o,watchable:!0})])}}},za=new RegExp('"',"ug"),Ua=[1105920,1112319];function Wa(e,t){var n="".concat(yo).concat(t.replace(":","-"));return new Promise((function(r,o){if(null!==e.getAttribute(n))return r();var i=Qo(e.children).filter((function(e){return e.getAttribute(go)===t}))[0],a=io.getComputedStyle(e,t),s=a.getPropertyValue("font-family").match(Do),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(i&&!s)return e.removeChild(i),r();if(s&&"none"!==c&&""!==c){var l=a.getPropertyValue("content"),f=~["Sharp"].indexOf(s[2])?Co:Eo,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?Ro[f][s[2].toLowerCase()]:Fo[f][u],h=function(e){var t=e.replace(za,""),n=function(e,t){var n,r=e.length,o=e.charCodeAt(t);return o>=55296&&o<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(o-55296)+n-56320+65536:o}(t,0),r=n>=Ua[0]&&n<=Ua[1],o=2===t.length&&t[0]===t[1];return{value:mi(o?t[0]:t),isSecondary:r||o}}(l),p=h.value,m=h.isSecondary,v=s[0].startsWith("FontAwesome"),g=Mi(d,p),y=g;if(v){var b=function(e){var t=Oi[e],n=Mi("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(g=b.iconName,d=b.prefix)}if(!g||m||i&&i.getAttribute(bo)===d&&i.getAttribute(wo)===y)r();else{e.setAttribute(n,y),i&&e.removeChild(i);var w={iconName:null,title:null,titleId:null,prefix:null,transform:Yo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},x=w.extra;x.attributes[go]=t,ua(g,d).then((function(o){var i=ra(Br(Br({},w),{},{icons:{main:o,mask:ji()},prefix:d,iconName:y,extra:x,watchable:!0})),a=ao.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=i.map((function(e){return di(e)})).join("\n"),e.removeAttribute(n),r()})).catch(o)}}else r()}))}function Ha(e){return Promise.all([Wa(e,"::before"),Wa(e,"::after")])}function Va(e){return e.parentNode!==document.head&&!~So.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(go)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Ga(e){if(co)return new Promise((function(t,n){var r=Qo(e.querySelectorAll("*")).filter(Va).map(Ha),o=ha.begin("searchPseudoElements");Sa(),Promise.all(r).then((function(){o(),_a(),t()})).catch((function(){o(),_a(),n()}))}))}var qa={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ga,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?ao:t;qo.searchPseudoElements&&Ga(n)}}},Xa=!1,Ka=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return e.flipX=!0,e;if(r&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(r){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ya={mixout:function(){return{parse:{transform:function(e){return Ka(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Ka(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,o=e.iconWidth,i={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Br({},c.outer),children:[{tag:"g",attributes:Br({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Br(Br({},t.icon.attributes),c.path)}]}]}}}},$a={x:0,y:0,width:"100%",height:"100%"};function Za(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Qa={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Ui(n.split(" ").map((function(e){return e.trim()}))):ji();return r.prefix||(r.prefix=Li()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,o=e.main,i=e.mask,a=e.maskId,s=e.transform,u=o.width,c=o.icon,l=i.width,f=i.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),h={tag:"rect",attributes:Br(Br({},$a),{},{fill:"white"})},p=c.children?{children:c.children.map(Za)}:{},m={tag:"g",attributes:Br({},d.inner),children:[Za(Br({tag:c.tag,attributes:Br(Br({},c.attributes),d.path)},p))]},v={tag:"g",attributes:Br({},d.outer),children:[m]},g="mask-".concat(a||Zo()),y="clip-".concat(a||Zo()),b={tag:"mask",attributes:Br(Br({},$a),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,v]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:Br({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},$a)}),{children:n,attributes:r}}}},Ja={provides:function(e){var t=!1;io.matchMedia&&(t=io.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Br(Br({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Br(Br({},r),{},{attributeName:"opacity"}),i={tag:"circle",attributes:Br(Br({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:Br(Br({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Br(Br({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:Br(Br({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Br(Br({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Br(Br({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Br(Br({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},es=[si,Fa,La,ja,Ba,qa,{mixout:function(){return{dom:{unwatch:function(){Sa(),Xa=!0}}}},hooks:function(){return{bootstrap:function(){Ca(Xi("mutationObserverCallbacks",{}))},noAuto:function(){Ea&&Ea.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Xa?_a():Ca(Xi("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Ya,Qa,Ja,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}];!function(e,t){var n=t.mixoutsTo;Hi=e,Vi={},Object.keys(Gi).forEach((function(e){-1===qi.indexOf(e)&&delete Gi[e]})),Hi.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===zr(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Vi[e]||(Vi[e]=[]),Vi[e].push(r[e])}))}e.provides&&e.provides(Gi)}))}(es,{mixoutsTo:ea});var ts=ea.parse,ns=ea.icon,rs=n(5173),os=n.n(rs);function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ls(e){return function(e){if(Array.isArray(e))return fs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var hs=["style"];var ps=!1;try{ps=!0}catch(jK){}function ms(e){return e&&"object"===ss(e)&&e.prefix&&e.iconName&&e.icon?e:ts.icon?ts.icon(e):null===e?null:e&&"object"===ss(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function vs(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?us({},e,t):{}}var gs=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,o=e.symbol,i=e.className,a=e.title,s=e.titleId,u=e.maskId,c=ms(n),l=vs("classes",[].concat(ls(function(e){var t,n=e.beat,r=e.fade,o=e.beatFade,i=e.bounce,a=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,p=e.border,m=e.listItem,v=e.flip,g=e.size,y=e.rotation,b=e.pull,w=(us(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":i,"fa-shake":a,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":p,"fa-li":m,"fa-flip":!0===v,"fa-flip-horizontal":"horizontal"===v||"both"===v,"fa-flip-vertical":"vertical"===v||"both"===v},"fa-".concat(g),"undefined"!==typeof g&&null!==g),us(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),us(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),us(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),ls(i.split(" ")))),f=vs("transform","string"===typeof e.transform?ts.transform(e.transform):e.transform),d=vs("mask",ms(r)),h=ns(c,as(as(as(as({},l),f),d),{},{symbol:o,title:a,titleId:s,maskId:u}));if(!h)return function(){var e;!ps&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=h.abstract,m={ref:t};return Object.keys(e).forEach((function(t){gs.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),ys(p[0],m)}));gs.displayName="FontAwesomeIcon",gs.propTypes={beat:os().bool,border:os().bool,beatFade:os().bool,bounce:os().bool,className:os().string,fade:os().bool,flash:os().bool,mask:os().oneOfType([os().object,os().array,os().string]),maskId:os().string,fixedWidth:os().bool,inverse:os().bool,flip:os().oneOf([!0,!1,"horizontal","vertical","both"]),icon:os().oneOfType([os().object,os().array,os().string]),listItem:os().bool,pull:os().oneOf(["right","left"]),pulse:os().bool,rotation:os().oneOf([0,90,180,270]),shake:os().bool,size:os().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:os().bool,spinPulse:os().bool,spinReverse:os().bool,symbol:os().oneOfType([os().bool,os().string]),title:os().string,titleId:os().string,transform:os().oneOfType([os().string,os().object]),swapOpacity:os().bool},gs.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var ys=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=ds(t.slice(0,r)),i=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[o]=i,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[ds(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=cs(r,hs);return i.attrs.style=as(as({},i.attrs.style),s),t.apply(void 0,[n.tag,as(as({},i.attrs),u)].concat(ls(o)))}.bind(null,t.createElement),bs={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},ws={prefix:"fas",iconName:"volume-low",icon:[448,512,[128264,"volume-down"],"f027","M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM412.6 181.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5z"]},xs={prefix:"fas",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V336c0 1.5 0 3.1 .1 4.6L67.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L124.8 448c43.1 41.1 100.4 64 160 64H304c97.2 0 176-78.8 176-176V128c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V240c0 8.8-7.2 16-16 16s-16-7.2-16-16V32z"]},ks={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75H192 160 64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352l8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7V240 371.3C357.2 317.8 280.5 288 200.7 288H192V192h8.7c79.8 0 156.5-29.8 215.3-83.3z"]},Ss={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"]},_s={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H352c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V80c0-17.7-14.3-32-32-32s-32 14.3-32 32v35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V432c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Es={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},Cs={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},As={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Os={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},Ts={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Rs={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Is={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},Ps={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]};n(1844);Object.create(null);const Ns={};function Ms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&Ns[t[0]]||("string"===typeof t[0]&&(Ns[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),console.warn(...t)}}(...t))}const Ds=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function Fs(e,t,n){e.loadNamespaces(t,Ds(e,n))}function Ls(e,t,n,r){"string"===typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,Ds(e,r))}const js=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Bs={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},zs=e=>Bs[e];let Us,Ws={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(js,zs)};const Hs={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ws={...Ws,...e}}(e.options.react),function(e){Us=e}(e)}},Vs=(0,t.createContext)();class Gs{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const qs=(e,n)=>{const r=(0,t.useRef)();return(0,t.useEffect)((()=>{r.current=n?r.current:e}),[e,n]),r.current};function Xs(e,t,n,r){return e.getFixedT(t,n,r)}function Ks(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=n,{i18n:o,defaultNS:i}=(0,t.useContext)(Vs)||{},a=r||o||Us;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Gs),!a){Ms("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"===typeof t?t:t&&"object"===typeof t&&"string"===typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react&&void 0!==a.options.react.wait&&Ms("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Ws,...a.options.react,...n},{useSuspense:u,keyPrefix:c}=s;let l=e||i||a.options&&a.options.defaultNS;l="string"===typeof l?[l]:l||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(l);const f=(a.isInitialized||a.initializedStoreOnce)&&l.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.languages[0],o=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,n)=>{const r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}(e,t,n):(Ms("i18n.languages were undefined or empty",t.languages),!0)}(e,a,s))),d=function(e,n,r,o){return(0,t.useCallback)(Xs(e,n,r,o),[e,n,r,o])}(a,n.lng||null,"fallback"===s.nsMode?l:l[0],c),h=()=>d,p=()=>Xs(a,n.lng||null,"fallback"===s.nsMode?l:l[0],c),[m,v]=(0,t.useState)(h);let g=l.join();n.lng&&(g="".concat(n.lng).concat(g));const y=qs(g),b=(0,t.useRef)(!0);(0,t.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=s;function r(){b.current&&v(p)}return b.current=!0,f||u||(n.lng?Ls(a,n.lng,l,(()=>{b.current&&v(p)})):Fs(a,l,(()=>{b.current&&v(p)}))),f&&y&&y!==g&&b.current&&v(p),e&&a&&a.on(e,r),t&&a&&a.store.on(t,r),()=>{b.current=!1,e&&a&&e.split(" ").forEach((e=>a.off(e,r))),t&&a&&t.split(" ").forEach((e=>a.store.off(e,r)))}}),[a,g]),(0,t.useEffect)((()=>{b.current&&f&&v(h)}),[a,c,f]);const w=[m,a,f];if(w.t=m,w.i18n=a,w.ready=f,f)return w;if(!f&&!u)return w;throw new Promise((e=>{n.lng?Ls(a,n.lng,l,(()=>e())):Fs(a,l,(()=>e()))}))}function Ys(e){let{i18n:n,defaultNS:r,children:o}=e;const i=(0,t.useMemo)((()=>({i18n:n,defaultNS:r})),[n,r]);return(0,t.createElement)(Vs.Provider,{value:i},o)}const $s=(e,t,n)=>{const r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);const o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},Zs=e=>{const t=e+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r].trim();if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""};var Qs,Js,eu,tu=n(579);const nu=()=>{const[e,n]=(0,t.useState)(!1),{i18n:r}=Ks(),o=e=>{r.changeLanguage(e),n((e=>!e))};return(0,t.useEffect)((()=>{const e=Zs("language");r.changeLanguage(e)}),[]),(0,tu.jsx)("div",{style:{position:"relative"},children:"zh"===r.language?(0,tu.jsx)(ru,{className:"textHover",onClick:()=>{o("en"),$s("language","en",180)},children:"Zh"}):(0,tu.jsx)(ru,{className:"textHover",onClick:()=>{o("zh"),$s("language","zh",180)},children:"English"})})},ru=Nr.div(Qs||(Qs=Fr(["\n    text-align: center;\n    position: relative;\n    background-color: transparent;\n    /* border: 1px solid black; */\n    border: 0;\n    /* width: 6rem; */\n    margin-left:1rem;\n    border-radius: 5px;\n    padding-inline: 5px;\n    padding-block: 10px;\n    cursor: pointer;\n\n    &:hover {\n        /* font-weight: bolder; */\n    }\n"])));Nr.div(Js||(Js=Fr(["\n    position: absolute;\n    display: grid;\n    /* background-color: aquamarine; */\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 99;\n"]))),Nr.span(eu||(eu=Fr(["\n    /* color: black; */\n    text-align: center;\n    padding-block: 0.5rem;\n    width: 6rem;\n    height: 1.5rem;\n    line-height: 1.5rem;\n    /* background-color: #e6e6e6; */\n    cursor: pointer;\n    \n    &:hover {\n        font-weight: bold;\n    }\n    \n"])));function ou(e){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(e)}function iu(e){var t=function(e,t){if("object"!=ou(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ou(t)?t:t+""}function au(e,t,n){return(t=iu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var su=Symbol.for("immer-nothing"),uu=Symbol.for("immer-draftable"),cu=Symbol.for("immer-state");function lu(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var fu=Object.getPrototypeOf;function du(e){return!!e&&!!e[cu]}function hu(e){var t;return!!e&&(mu(e)||Array.isArray(e)||!!e[uu]||!(null===(t=e.constructor)||void 0===t||!t[uu])||wu(e)||xu(e))}var pu=Object.prototype.constructor.toString();function mu(e){if(!e||"object"!==typeof e)return!1;const t=fu(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===pu}function vu(e,t){0===gu(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function gu(e){const t=e[cu];return t?t.type_:Array.isArray(e)?1:wu(e)?2:xu(e)?3:0}function yu(e,t){return 2===gu(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bu(e,t,n){const r=gu(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function wu(e){return e instanceof Map}function xu(e){return e instanceof Set}function ku(e){return e.copy_||e.base_}function Su(e,t){if(wu(e))return new Map(e);if(xu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&mu(e)){if(!fu(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[cu];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const t=r[o],i=n[t];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[t]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[t]})}return Object.create(fu(e),n)}function _u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Cu(e)||du(e)||!hu(e)||(gu(e)>1&&(e.set=e.add=e.clear=e.delete=Eu),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return _u(n,!0)}))),e}function Eu(){lu(2)}function Cu(e){return Object.isFrozen(e)}var Au,Ou={};function Tu(e){const t=Ou[e];return t||lu(0),t}function Ru(){return Au}function Iu(e,t){t&&(Tu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pu(e){Nu(e),e.drafts_.forEach(Du),e.drafts_=null}function Nu(e){e===Au&&(Au=e.parent_)}function Mu(e){return Au={drafts_:[],parent_:Au,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Du(e){const t=e[cu];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Fu(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[cu].modified_&&(Pu(t),lu(4)),hu(e)&&(e=Lu(t,e),t.parent_||Bu(t,e)),t.patches_&&Tu("Patches").generateReplacementPatches_(n[cu].base_,e,t.patches_,t.inversePatches_)):e=Lu(t,n,[]),Pu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==su?e:void 0}function Lu(e,t,n){if(Cu(t))return t;const r=t[cu];if(!r)return vu(t,((o,i)=>ju(e,r,t,o,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Bu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),vu(o,((o,a)=>ju(e,r,t,o,a,n,i))),Bu(e,t,!1),n&&e.patches_&&Tu("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ju(e,t,n,r,o,i,a){if(du(o)){const a=Lu(e,o,i&&t&&3!==t.type_&&!yu(t.assigned_,r)?i.concat(r):void 0);if(bu(n,r,a),!du(a))return;e.canAutoFreeze_=!1}else a&&n.add(o);if(hu(o)&&!Cu(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lu(e,o),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Bu(e,o)}}function Bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_u(t,n)}var zu={get(e,t){if(t===cu)return e;const n=ku(e);if(!yu(n,t))return function(e,t,n){var r;const o=Hu(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!hu(r)?r:r===Wu(e.base_,t)?(Gu(e),e.copy_[t]=qu(r,e)):r},has:(e,t)=>t in ku(e),ownKeys:e=>Reflect.ownKeys(ku(e)),set(e,t,n){const r=Hu(ku(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Wu(ku(e),t),o=null===r||void 0===r?void 0:r[cu];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||yu(e.base_,t)))return!0;Gu(e),Vu(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Wu(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Gu(e),Vu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ku(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){lu(11)},getPrototypeOf:e=>fu(e.base_),setPrototypeOf(){lu(12)}},Uu={};function Wu(e,t){const n=e[cu];return(n?ku(n):e)[t]}function Hu(e,t){if(!(t in e))return;let n=fu(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=fu(n)}}function Vu(e){e.modified_||(e.modified_=!0,e.parent_&&Vu(e.parent_))}function Gu(e){e.copy_||(e.copy_=Su(e.base_,e.scope_.immer_.useStrictShallowCopy_))}vu(zu,((e,t)=>{Uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Uu.deleteProperty=function(e,t){return Uu.set.call(this,e,t,void 0)},Uu.set=function(e,t,n){return zu.set.call(this,e[0],t,n,e[0])};function qu(e,t){const n=wu(e)?Tu("MapSet").proxyMap_(e,t):xu(e)?Tu("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ru(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=zu;n&&(o=[r],i=Uu);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Ru()).drafts_.push(n),n}function Xu(e){return du(e)||lu(10),Ku(e)}function Ku(e){if(!hu(e)||Cu(e))return e;const t=e[cu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Su(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Su(e,!0);return vu(n,((e,t)=>{bu(n,e,Ku(t))})),t&&(t.finalized_=!1),n}var Yu=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!==typeof t&&lu(6),void 0!==n&&"function"!==typeof n&&lu(7),hu(e)){const o=Mu(this),i=qu(e,void 0);let a=!0;try{r=t(i),a=!1}finally{a?Pu(o):Nu(o)}return Iu(o,n),Fu(r,o)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===su&&(r=void 0),this.autoFreeze_&&_u(r,!0),n){const t=[],o=[];Tu("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}lu(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(t=>e(t,...o)))};let r,o;const i=this.produce(e,n,((e,t)=>{r=e,o=t}));return[i,r,o]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){hu(e)||lu(8),du(e)&&(e=Xu(e));const t=Mu(this),n=qu(e,void 0);return n[cu].isManual_=!0,Nu(t),n}finishDraft(e,t){const n=e&&e[cu];n&&n.isManual_||lu(9);const{scope_:r}=n;return Iu(r,t),Fu(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Tu("Patches").applyPatches_;return du(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},$u=Yu.produce;Yu.produceWithPatches.bind(Yu),Yu.setAutoFreeze.bind(Yu),Yu.setUseStrictShallowCopy.bind(Yu),Yu.applyPatches.bind(Yu),Yu.createDraft.bind(Yu),Yu.finishDraft.bind(Yu);function Zu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Qu=e=>Array.isArray(e)?e:[e];function Ju(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var ec="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},tc=0,nc=1;function rc(){return{s:tc,v:void 0,o:null,p:null}}function oc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rc();const{resultEqualityCheck:r}=t;let o,i=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=rc(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=rc(),e.set(n,t)):t=r}}const s=t;let u;if(t.s===nc?u=t.v:(u=e.apply(null,arguments),i++),s.s=nc,r){var c,l,f;const e=null!==(c=null===(l=o)||void 0===l||null===(f=l.deref)||void 0===f?void 0:f.call(l))&&void 0!==c?c:o;null!=e&&r(e,u)&&(u=e,0!==i&&i--);o="object"===typeof u&&null!==u||"function"===typeof u?new ec(u):u}return s.v=u,u}return a.clearCache=()=>{n=rc(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,a=0,s={},u=t.pop();"object"===typeof u&&(s=u,u=t.pop()),Zu(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));const c={...o,...s},{memoize:l,memoizeOptions:f=[],argsMemoize:d=oc,argsMemoizeOptions:h=[],devModeChecks:p={}}=c,m=Qu(f),v=Qu(h),g=Ju(t),y=l((function(){return i++,u.apply(null,arguments)}),...m);const b=d((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}(g,arguments);return r=y.apply(null,e),r}),...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:g,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:d})};return Object.assign(i,{withTypes:()=>i}),i}var ac=ic(oc),sc=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>sc});function uc(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var cc=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),lc=()=>Math.random().toString(36).substring(7).split("").join("."),fc={INIT:"@@redux/INIT".concat(lc()),REPLACE:"@@redux/REPLACE".concat(lc()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(lc())};function dc(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function hc(e,t,n){if("function"!==typeof e)throw new Error(uc(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(uc(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(uc(1));return n(hc)(e,t)}let r=e,o=t,i=new Map,a=i,s=0,u=!1;function c(){a===i&&(a=new Map,i.forEach(((e,t)=>{a.set(t,e)})))}function l(){if(u)throw new Error(uc(3));return o}function f(e){if("function"!==typeof e)throw new Error(uc(4));if(u)throw new Error(uc(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(u)throw new Error(uc(6));t=!1,c(),a.delete(n),i=null}}}function d(e){if(!dc(e))throw new Error(uc(7));if("undefined"===typeof e.type)throw new Error(uc(8));if("string"!==typeof e.type)throw new Error(uc(17));if(u)throw new Error(uc(9));try{u=!0,o=r(o,e)}finally{u=!1}return(i=a).forEach((e=>{e()})),e}d({type:fc.INIT});return{dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(uc(10));r=e,d({type:fc.REPLACE})},[cc]:function(){const e=f;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(uc(11));function n(){const e=t;e.next&&e.next(l())}n();return{unsubscribe:e(n)}},[cc](){return this}}}}}function pc(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:fc.INIT}))throw new Error(uc(12));if("undefined"===typeof n(void 0,{type:fc.PROBE_UNKNOWN_ACTION()}))throw new Error(uc(13))}))}(n)}catch(jK){o=jK}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(o)throw o;let i=!1;const a={};for(let o=0;o<r.length;o++){const s=r[o],u=n[s],c=e[s],l=u(c,t);if("undefined"===typeof l){t&&t.type;throw new Error(uc(14))}a[s]=l,i=i||l!==c}return i=i||r.length!==Object.keys(e).length,i?a:e}}function mc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function vc(e){return t=>{let{dispatch:n,getState:r}=t;return t=>o=>"function"===typeof o?o(n,r,e):t(o)}}var gc=vc(),yc=vc,bc=(function(){const e=ic(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t(du(e)?Xu(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t})}(oc),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?mc:mc.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function wc(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(qc(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return dc(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var xc=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function kc(e){return hu(e)?$u(e,(()=>{})):e}function Sc(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(qc(10));const r=n.insert(t,e);return e.set(t,r),r}var _c="RTK_autoBatch",Ec=e=>t=>{setTimeout(t,e)},Cc="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ec(10),Ac=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new xc(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,o=!1,i=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?Cc:"callback"===e.type?e.queueNotification:Ec(e.timeout),u=()=>{i=!1,o&&(o=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[_c]),o=!r,o&&(i||(i=!0,s(u))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Oc(e){const t={},n=[];let r;const o={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(qc(28));if(r in t)throw new Error(qc(29));return t[r]=n,o},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(r=e,o)};return e(o),[t,n,r]}var Tc=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Rc=Symbol.for("rtk-slice-createasyncthunk");function Ic(e,t){return"".concat(e,"/").concat(t)}function Pc(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Rc];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(qc(11));const o=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(qc(12));if(n in a.sliceCaseReducersByType)throw new Error(qc(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?Oc(e.extraReducers):[e.extraReducers],o={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,o,i]=Oc(t);if(function(e){return"function"===typeof e}(e))n=()=>kc(e());else{const t=kc(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...o.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===a.filter((e=>!!e)).length&&(a=[i]),a.reduce(((e,n)=>{if(n){if(du(e)){const r=n(e,t);return void 0===r?e:r}if(hu(e))return $u(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(qc(9))}return r}}return e}),e)}return a.getInitialState=n,a}(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}i.forEach((r=>{const i=o[r],a={reducerName:r,type:Ic(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,o,{type:i,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(qc(17));r=t.reducer,o=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(a,r).exposeAction(a,o?wc(i,o):wc(i))}(a,i,s):function(e,t,n,r){let{type:o,reducerName:i}=e;if(!r)throw new Error(qc(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:l,options:f}=t,d=r(o,a,f);n.exposeAction(i,d),s&&n.addCase(d.fulfilled,s);u&&n.addCase(d.pending,u);c&&n.addCase(d.rejected,c);l&&n.addMatcher(d.settled,l);n.exposeCaseReducer(i,{fulfilled:s||Dc,pending:u||Dc,rejected:c||Dc,settled:l||Dc})}(a,i,s,n)}));const c=e=>e,l=new Map;let f;function d(e,t){return f||(f=u()),f(e,t)}function h(){return f||(f=u()),f.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=h()),r}function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Sc(l,n,{insert:()=>new WeakMap});return Sc(r,t,{insert:()=>{const r={};for(const[i,a]of Object.entries(null!==(o=e.selectors)&&void 0!==o?o:{})){var o;r[i]=Nc(a,t,h,n)}return r}})}return{reducerPath:t,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}const m={name:t,reducer:d,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:h,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=null!==t&&void 0!==t?t:r;return e.inject({reducerPath:o,reducer:d},n),{...m,...p(o,!0)}}};return m}}function Nc(e,t,n,r){function o(o){let i=t(o);"undefined"===typeof i&&r&&(i=n());for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return e(i,...s)}return o.unwrapped=e,o}var Mc=Pc();function Dc(){}var Fc="listener",Lc="completed",jc="cancelled",Bc=("task-".concat(jc),"task-".concat(Lc),"".concat(Fc,"-").concat(jc),"".concat(Fc,"-").concat(Lc),(e,t)=>{if("function"!==typeof e)throw new Error(qc(32))});var{assign:zc}=Object,Uc="listenerMiddleware",Wc=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:i}=e;if(t)o=wc(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(qc(21));return Bc(i),{predicate:o,type:t,effect:i}},Hc=Object.assign((e=>{const{type:t,predicate:n,effect:r}=Wc(e);return{id:Tc(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qc(22))}}}),{withTypes:()=>Hc}),Vc=Object.assign(wc("".concat(Uc,"/add")),{withTypes:()=>Vc}),Gc=(wc("".concat(Uc,"/removeAll")),Object.assign(wc("".concat(Uc,"/remove")),{withTypes:()=>Gc}));Symbol.for("rtk-state-proxy-original");function qc(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const Xc={textColor:"#3b3b3b",textColorHover:"#3b3b3b9c",backgroundColor:"white",linkColor:"#71a3dc",btnBgColor:"",boxShadow:"#00967b",boxShadowHover:"#00967bc9",btnCaptureText:"#00967b",blurBg:"#d6d6d6c7",blurBord:"",border:"#3b3b3b",modalColor:"#f0f0f0d9"},Kc={textColor:"#dadada",textColorHover:"#dadada9c",backgroundColor:"black",linkColor:"#71a3dc",btnBgColor:"",boxShadow:"#00967b",boxShadowHover:"#00967bc9",btnCaptureText:"#00967b",blurBg:"#2e2e2ec7",blurBord:"",border:"#dadada",modalColor:"#000000d9"},Yc=Mc({name:"themeSwitch",initialState:{theme:Xc},reducers:{themeSwitchFn:(e,t)=>{switch(t.payload){case"default":return{theme:Xc};case"dark":return{theme:Kc};default:return e}}}}),{themeSwitchFn:$c}=Yc.actions,Zc=e=>e.themeSwitch,Qc=Yc.reducer;var Jc,el;const tl=()=>{const e=ze(),[n,r]=(0,t.useState)("default");return(0,t.useEffect)((()=>{const t=Zs("theme");e($c(t)),r(t)}),[]),(0,tu.jsxs)(nl,{children:["dark"===n&&(0,tu.jsx)(rl,{children:(0,tu.jsx)(gs,{icon:Os,style:{fontSize:"x-large"},onClick:()=>{e($c("default")),r("default"),$s("theme","default",180)}})}),("default"===n||""===n)&&(0,tu.jsx)(rl,{children:(0,tu.jsx)(gs,{icon:Is,style:{fontSize:"x-large"},onClick:()=>{e($c("dark")),r("dark"),$s("theme","dark",180)}})})]})},nl=Nr.div(Jc||(Jc=Fr(["\n    margin-left: auto;\n"]))),rl=Nr.div(el||(el=Fr(["\n    cursor: pointer;\n    &:hover {\n        opacity: 0.9;\n    }\n"]))),ol=Mc({name:"sidebarSwitch",initialState:{state:!1},reducers:{sidebarSwitchFn:(e,t)=>"switch"===t.payload?{state:!e.state}:e}}),{sidebarSwitchFn:il}=ol.actions,al=e=>e.sidebarSwitch,sl=ol.reducer;var ul,cl;function ll(){const e=ze(),t=Te(al),{t:n}=Ks();return(0,tu.jsx)(tu.Fragment,{children:(0,tu.jsxs)(dl,{$sidebarstate:t.state,children:[(0,tu.jsx)(hl,{onClick:()=>e(il("switch")),children:(0,tu.jsx)(gs,{style:{fontSize:"1.5rem"},icon:bs})}),(0,tu.jsx)("div",{children:n("navbar.title")}),(0,tu.jsx)(tl,{}),(0,tu.jsx)(nu,{})]})})}const fl=(0,t.memo)(ll),dl=Nr.nav.attrs({className:"NavbarContainer"})(ul||(ul=Fr(["\n    padding-inline: 1rem;\n    padding-block: 0.5rem;\n    display: flex;\n    /* justify-content: space-between; */\n    align-items: center;\n    height: 3rem;\n    /* max-height: 3rem; */\n    /* border: 1px solid black; */\n    @media (max-width: 992px) {\n        background-color: ",";\n        top: ",";\n        position: absolute;\n        width: calc(100% - 2rem);\n        transition:0.5s;\n        z-index: 13;\n        backdrop-filter:blur(5px);\n        -webkit-backdrop-filter:blur(5px);\n    }\n"])),(e=>e.theme.blurBg),(e=>e.$sidebarstate?"0":"-4rem")),hl=Nr.nav.attrs({className:"Hamburger"})(cl||(cl=Fr(["\n    display: none;\n    margin-right: 1rem;\n    @media (max-width: 992px) {\n        display: block;\n    }\n"])));var pl=n(7950),ml=n.t(pl,2);function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}function gl(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const yl=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(jK){}new Map;const bl=r.startTransition;ml.flushSync,r.useId;function wl(e){let{basename:n,children:r,future:o,window:i}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),h((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=d(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),l("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let c=a.current,[p,m]=t.useState({action:c.action,location:c.location}),{v7_startTransition:v}=o||{},g=t.useCallback((e=>{v&&bl?bl((()=>m(e))):m(e)}),[m,v]);return t.useLayoutEffect((()=>c.listen(g)),[c,g]),t.createElement(pe,{basename:n,children:r,location:p.location,navigationType:p.action,navigator:c,future:o})}const xl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,kl=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=t.forwardRef((function(e,n){let r,{onClick:o,relative:i,reloadDocument:a,replace:u,state:c,target:l,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,m=gl(e,yl),{basename:v}=t.useContext(V),g=!1;if("string"===typeof d&&kl.test(d)&&(r=d,xl))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,v);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(jK){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;K()||s(!1);let{basename:o,navigator:i}=t.useContext(V),{hash:a,pathname:u,search:c}=J(e,{relative:r}),l=u;return"/"!==o&&(l="/"===u?o:M([o,u])),i.createHref({pathname:l,search:c,hash:a})}(d,{relative:i}),b=function(e,n){let{target:r,replace:o,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:u}=void 0===n?{}:n,c=Z(),l=Y(),d=J(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==o?o:f(l)===f(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:u})}}),[l,c,d,o,i,r,e,a,s,u])}(d,{replace:u,state:c,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:p});return t.createElement("a",vl({},m,{href:r||y,onClick:g||a?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var _l,El;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_l||(_l={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(El||(El={}));var Cl,Al,Ol,Tl,Rl,Il,Pl=n(8738);const Nl=Rr(Cl||(Cl=Fr(["\n    &:focus {\n        outline: none;\n        user-select: none;\n        -webkit-tap-highlight-color: transparent;\n    }\n"]))),Ml=Rr(Al||(Al=Fr(["\n    font-size: clamp(0.5rem, 4vw, 0.9rem);\n"]))),Dl=Nr(gs)(Ol||(Ol=Fr(["\n    position: absolute;\n    font-size: 24px;\n    cursor: pointer;\n    &:hover {\n        opacity: 0.8;\n    }\n"]))),Fl=Nr.div(Tl||(Tl=Fr(["\nfont-size: 2rem;\ncolor: #ffffffd4;\nz-index: 2;\ncursor: pointer;\nfilter: drop-shadow(0px 0px 2px black);\n&:hover {\n    ","\n}\n&:active {\n    ","\n}\n"])),!Pl.Fr&&Rr(Rl||(Rl=Fr(["\n        color: ",";\n    "])),(e=>"".concat(e.theme.textColorHover))),Pl.Fr&&Rr(Il||(Il=Fr(["\n        color: ",";\n    "])),(e=>"".concat(e.theme.textColorHover))));var Ll,jl,Bl;const zl=e=>{let{dataSet:t,data:n}=e;const{t:r}=Ks(),o=Te(al),{setAnnounce:i}=t;return(0,tu.jsxs)(Wl,{$sidebarstate:o.state,children:[(0,tu.jsx)(Hl,{children:(0,tu.jsx)(Sl,{to:"/",style:{textDecoration:"none"},children:(0,tu.jsx)(Vl,{className:"textHover",children:r("sidebar.videoScreenShot")})})}),(0,tu.jsx)(Dl,{icon:ks,style:{color:"#00967b",marginTop:"auto",position:"unset",marginBottom:"5rem",fontSize:"2rem"},onClick:()=>setTimeout((()=>{i(!n)}),0)})]})},Ul=(0,t.memo)(zl),Wl=Nr.div.withConfig({shouldForwardProp:e=>!["sidebarState"].includes(e)})(Ll||(Ll=Fr(["\n    height: calc(100vh - 4rem);\n    width: 10rem;\n    transition:0.5s;\n    overflow-x:hidden;\n    display: flex;\n    flex-direction:column;\n    align-items:center;\n    @media (max-width: 992px) {\n        top:4rem;\n        /* transform:","; */\n        width:",";\n        position: absolute;\n        background-color: ",";\n        backdrop-filter:blur(5px);\n        -webkit-backdrop-filter:blur(5px);\n        z-index:13;\n    }\n"])),(e=>e.sidebarState?"":"translateX(-100%)"),(e=>e.$sidebarstate?"10rem":"0"),(e=>e.theme.blurBg)),Hl=Nr.ul(jl||(jl=Fr(["\n    margin-top: 1rem;\n    text-align: center;\n    padding-inline: 0;\n"]))),Vl=Nr.div(Bl||(Bl=Fr(["\n    word-break: keep-all;\n    padding-block:0.5rem;\n    &:hover {\n        font-weight: bold;\n    }\n"])));var Gl=n(8139),ql=n.n(Gl);function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kl(e,t){if(e){if("string"===typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xl(e,t):void 0}}function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Kl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function Zl(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Ql=Zl()?t.useLayoutEffect:t.useEffect,Jl=function(e,n){var r=t.useRef(!0);Ql((function(){return e(r.current)}),n),Ql((function(){return r.current=!1,function(){r.current=!0}}),[])},ef=function(e,t){Jl((function(t){if(!t)return e()}),t)};const tf=Jl;function nf(e){var n=t.useRef(!1),r=Yl(t.useState(e),2),o=r[0],i=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[o,function(e,t){t&&n.current||i(e)}]}function rf(e){return void 0!==e}function of(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,s=Yl(nf((function(){return rf(o)?o:rf(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),u=s[0],c=s[1],l=void 0!==o?o:u,f=a?a(l):l,d=$l(i),h=Yl(nf([l]),2),p=h[0],m=h[1];return ef((function(){var e=p[0];u!==e&&d(u,e)}),[p]),ef((function(){rf(o)||c(o)}),[o]),[f,$l((function(e,t){c(e,t),m([l],t)}))]}var af={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=af.F1&&t<=af.F12)return!1;switch(t){case af.ALT:case af.CAPS_LOCK:case af.CONTEXT_MENU:case af.CTRL:case af.DOWN:case af.END:case af.ESC:case af.HOME:case af.INSERT:case af.LEFT:case af.MAC_FF_META:case af.META:case af.NUMLOCK:case af.NUM_CENTER:case af.PAGE_DOWN:case af.PAGE_UP:case af.PAUSE:case af.PRINT_SCREEN:case af.RIGHT:case af.SHIFT:case af.UP:case af.WIN_KEY:case af.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=af.ZERO&&e<=af.NINE)return!0;if(e>=af.NUM_ZERO&&e<=af.NUM_MULTIPLY)return!0;if(e>=af.A&&e<=af.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case af.SPACE:case af.QUESTION_MARK:case af.NUM_PLUS:case af.NUM_MINUS:case af.NUM_PERIOD:case af.NUM_DIVISION:case af.SEMICOLON:case af.DASH:case af.EQUALS:case af.COMMA:case af.PERIOD:case af.SLASH:case af.APOSTROPHE:case af.SINGLE_QUOTE:case af.OPEN_SQUARE_BRACKET:case af.BACKSLASH:case af.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const sf=af,uf=e=>e?"function"===typeof e?e():e:null,cf=(e,t,n)=>void 0!==n?n:"".concat(e,"-").concat(t);function lf(e,n){return((e,n,r)=>t.isValidElement(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n)(e,e,n)}const ff=t.createContext({getPrefixCls:(e,t)=>t||(e?"ant-".concat(e):"ant"),iconPrefixCls:"anticon"}),{Consumer:df}=ff;function hf(e){var n=e.children,r=e.prefixCls,o=e.id,i=e.overlayInnerStyle,a=e.className,s=e.style;return t.createElement("div",{className:ql()("".concat(r,"-content"),a),style:s},t.createElement("div",{className:"".concat(r,"-inner"),id:o,role:"tooltip",style:i},"function"===typeof n?n():n))}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(this,arguments)}function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var yf={},bf=[];function wf(e,t){}function xf(e,t){}function kf(e,t,n){t||yf[n]||(e(!1,n),yf[n]=!0)}function Sf(e,t){kf(wf,e,t)}Sf.preMessage=function(e){bf.push(e)},Sf.resetWarned=function(){yf={}},Sf.noteOnce=function(e,t){kf(xf,e,t)};const _f=Sf;var Ef=n(6816);function Cf(e,t){"function"===typeof e?e(t):"object"===ou(e)&&e&&"current"in e&&(e.current=t)}function Af(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Cf(t,e)}))}}function Of(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,n,r){var o=t.useRef({});return"value"in o.current&&!r(o.current.condition,n)||(o.current.value=e(),o.current.condition=n),o.current.value}((function(){return Af.apply(void 0,n)}),n,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}function Tf(e){var t,n,r=(0,Ef.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===Ef.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Ef.ForwardRef)}const Rf=t.createContext(null);function If(e){return function(e){if(Array.isArray(e))return Xl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pf=[];var Nf="data-rc-order",Mf="data-rc-priority",Df="rc-util-key",Ff=new Map;function Lf(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):Df}function jf(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Bf(e){return Array.from((Ff.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function zf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Zl())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===a,u=document.createElement("style");u.setAttribute(Nf,a),s&&i&&u.setAttribute(Mf,"".concat(i)),null!==n&&void 0!==n&&n.nonce&&(u.nonce=null===n||void 0===n?void 0:n.nonce),u.innerHTML=e;var c=jf(t),l=c.firstChild;if(r){if(s){var f=(t.styles||Bf(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Nf)))return!1;var t=Number(e.getAttribute(Mf)||0);return i>=t}));if(f.length)return c.insertBefore(u,f[f.length-1].nextSibling),u}c.insertBefore(u,l)}else c.appendChild(u);return u}function Uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=jf(t);return(t.styles||Bf(n)).find((function(n){return n.getAttribute(Lf(t))===e}))}function Wf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Uf(e,t);n&&jf(t).removeChild(n)}function Hf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=jf(n),o=Bf(r),i=vf(vf({},n),{},{styles:o});!function(e,t){var n=Ff.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=zf("",t),o=r.parentNode;Ff.set(e,o),e.removeChild(r)}}(r,i);var a=Uf(t,i);if(a){var s,u,c;if(null!==(s=i.csp)&&void 0!==s&&s.nonce&&a.nonce!==(null===(u=i.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(c=i.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var l=zf(e,i);return l.setAttribute(Lf(i),t),l}function Vf(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),u=parseInt(s.width,10),c=parseInt(s.height,10);try{var l=u?"width: ".concat(s.width,";"):"",f=c?"height: ".concat(s.height,";"):"";Hf("\n#".concat(t,"::-webkit-scrollbar {\n").concat(l,"\n").concat(f,"\n}"),t)}catch(jK){console.error(jK),r=u,o=c}}document.body.appendChild(n);var d=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Wf(t),{width:d,height:h}}var Gf="rc-util-locker-".concat(Date.now()),qf=0;function Xf(e){var n=!!e,r=Yl(t.useState((function(){return qf+=1,"".concat(Gf,"_").concat(qf)})),1)[0];tf((function(){if(n){var e=(o=document.body,"undefined"!==typeof document&&o&&o instanceof Element?Vf(o):{width:0,height:0}).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Hf("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else Wf(r);var o;return function(){Wf(r)}}),[n,r])}var Kf=!1;var Yf=function(e){return!1!==e&&(Zl()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},$f=t.forwardRef((function(e,n){var r=e.open,o=e.autoLock,i=e.getContainer,a=(e.debug,e.autoDestroy),s=void 0===a||a,u=e.children,c=Yl(t.useState(r),2),l=c[0],f=c[1],d=l||r;t.useEffect((function(){(s||r)&&f(r)}),[r,s]);var h=Yl(t.useState((function(){return Yf(i)})),2),p=h[0],m=h[1];t.useEffect((function(){var e=Yf(i);m(null!==e&&void 0!==e?e:null)}));var v=function(e,n){var r=Yl(t.useState((function(){return Zl()?document.createElement("div"):null})),1)[0],o=t.useRef(!1),i=t.useContext(Rf),a=Yl(t.useState(Pf),2),s=a[0],u=a[1],c=i||(o.current?void 0:function(e){u((function(t){return[e].concat(If(t))}))});function l(){r.parentElement||document.body.appendChild(r),o.current=!0}function f(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),o.current=!1}return tf((function(){return e?i?i(l):l():f(),f}),[e]),tf((function(){s.length&&(s.forEach((function(e){return e()})),u(Pf))}),[s]),[r,c]}(d&&!p),g=Yl(v,2),y=g[0],b=g[1],w=null!==p&&void 0!==p?p:y;Xf(o&&r&&Zl()&&(w===y||w===document.body));var x=null;u&&Tf(u)&&n&&(x=u.ref);var k=Of(x,n);if(!d||!Zl()||void 0===p)return null;var S,_=!1===w||("boolean"===typeof S&&(Kf=S),Kf),E=u;return n&&(E=t.cloneElement(u,{ref:k})),t.createElement(Rf.Provider,{value:b},_?E:(0,pl.createPortal)(E,w))}));const Zf=$f;function Qf(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Qf(e)):(0,Ef.isFragment)(e)&&e.props?r=r.concat(Qf(e.props.children,n)):r.push(e))})),r}function Jf(e){return e instanceof HTMLElement||e instanceof SVGElement}function ed(e){return Jf(e)?e:e instanceof t.Component?pl.findDOMNode(e):null}var td=t.createContext(null);var nd=n(5820),rd=new Map;var od=new nd.default((function(e){e.forEach((function(e){var t,n=e.target;null===(t=rd.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iu(r.key),r)}}function sd(e,t,n){return t&&ad(e.prototype,t),n&&ad(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ud(e,t)}function cd(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(e)}function fd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fd=function(){return!!e})()}function dd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e,t){if(t&&("object"===ou(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dd(e)}function pd(e){var t=fd();return function(){var n,r=ld(e);if(t){var o=ld(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hd(this,n)}}var md=function(e){cd(n,e);var t=pd(n);function n(){return id(this,n),t.apply(this,arguments)}return sd(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function vd(e,n){var r=e.children,o=e.disabled,i=t.useRef(null),a=t.useRef(null),s=t.useContext(td),u="function"===typeof r,c=u?r(i):r,l=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!u&&t.isValidElement(c)&&Tf(c),d=Of(f?c.ref:null,i),h=function(){var e;return ed(i.current)||(i.current&&"object"===ou(i.current)?ed(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||ed(a.current)};t.useImperativeHandle(n,(function(){return h()}));var p=t.useRef(e);p.current=e;var m=t.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,u=e.offsetWidth,c=e.offsetHeight,f=Math.floor(i),d=Math.floor(a);if(l.current.width!==f||l.current.height!==d||l.current.offsetWidth!==u||l.current.offsetHeight!==c){var h={width:f,height:d,offsetWidth:u,offsetHeight:c};l.current=h;var m=u===Math.round(i)?i:u,v=c===Math.round(a)?a:c,g=vf(vf({},h),{},{offsetWidth:m,offsetHeight:v});null===s||void 0===s||s(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return t.useEffect((function(){var e,t,n=h();return n&&!o&&(e=n,t=m,rd.has(e)||(rd.set(e,new Set),od.observe(e)),rd.get(e).add(t)),function(){return function(e,t){rd.has(e)&&(rd.get(e).delete(t),rd.get(e).size||(od.unobserve(e),rd.delete(e)))}(n,m)}}),[i.current,o]),t.createElement(md,{ref:a},f?t.cloneElement(c,{ref:d}):c)}const gd=t.forwardRef(vd);function yd(e,n){var r=e.children;return("function"===typeof r?[r]:Qf(r)).map((function(r,o){var i=(null===r||void 0===r?void 0:r.key)||"".concat("rc-observer-key","-").concat(o);return t.createElement(gd,pf({},e,{key:i,ref:0===o?n:void 0}),r)}))}var bd=t.forwardRef(yd);bd.Collection=function(e){var n=e.children,r=e.onBatchResize,o=t.useRef(0),i=t.useRef([]),a=t.useContext(td),s=t.useCallback((function(e,t,n){o.current+=1;var s=o.current;i.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===o.current&&(null===r||void 0===r||r(i.current),i.current=[])})),null===a||void 0===a||a(e,t,n)}),[r,a]);return t.createElement(td.Provider,{value:s},n)};const wd=bd;function xd(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function kd(e){return function(e){return xd(e)instanceof ShadowRoot}(e)?xd(e):null}var Sd=0;var _d=vf({},r).useId;const Ed=_d?function(e){var t=_d();return e||t}:function(e){var n=Yl(t.useState("ssr-id"),2),r=n[0],o=n[1];return t.useEffect((function(){var e=Sd;Sd+=1,o("rc_unique_".concat(e))}),[]),e||r};var Cd=t.createContext({});var Ad=function(e){cd(n,e);var t=pd(n);function n(){return id(this,n),t.apply(this,arguments)}return sd(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component);const Od=Ad;var Td="none",Rd="appear",Id="enter",Pd="leave",Nd="none",Md="prepare",Dd="start",Fd="active",Ld="end",jd="prepared";function Bd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var zd=function(e,t){var n={animationend:Bd("Animation","AnimationEnd"),transitionend:Bd("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Zl(),"undefined"!==typeof window?window:{}),Ud={};if(Zl()){var Wd=document.createElement("div");Ud=Wd.style}var Hd={};function Vd(e){if(Hd[e])return Hd[e];var t=zd[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Ud)return Hd[e]=t[i],Hd[e]}return""}var Gd=Vd("animationend"),qd=Vd("transitionend"),Xd=!(!Gd||!qd),Kd=Gd||"animationend",Yd=qd||"transitionend";function $d(e,t){if(!e)return null;if("object"===ou(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const Zd=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var o=t.useCallback((function(e){r.current(e)}),[]);function i(e){e&&(e.removeEventListener(Yd,o),e.removeEventListener(Kd,o))}return t.useEffect((function(){return function(){i(n.current)}}),[]),[function(e){n.current&&n.current!==e&&i(n.current),e&&e!==n.current&&(e.addEventListener(Yd,o),e.addEventListener(Kd,o),n.current=e)},i]};const Qd=Zl()?t.useLayoutEffect:t.useEffect;var Jd=function(e){return+setTimeout(e,16)},eh=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Jd=function(e){return window.requestAnimationFrame(e)},eh=function(e){return window.cancelAnimationFrame(e)});var th=0,nh=new Map;function rh(e){nh.delete(e)}var oh=function(e){var t=th+=1;return function n(r){if(0===r)rh(t),e();else{var o=Jd((function(){n(r-1)}));nh.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};oh.cancel=function(e){var t=nh.get(e);return rh(e),eh(t)};const ih=oh;var ah=[Md,Dd,Fd,Ld],sh=[Md,jd],uh=!1,ch=!0;function lh(e){return e===Fd||e===Ld}const fh=function(e,n,r){var o=Yl(nf(Nd),2),i=o[0],a=o[1],s=function(){var e=t.useRef(null);function n(){ih.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var i=ih((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):t(r,o-1)}));e.current=i},n]}(),u=Yl(s,2),c=u[0],l=u[1];var f=n?sh:ah;return Qd((function(){if(i!==Nd&&i!==Ld){var e=f.indexOf(i),t=f[e+1],n=r(i);n===uh?a(t,!0):t&&c((function(e){function r(){e.isCanceled()||a(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[e,i]),t.useEffect((function(){return function(){l()}}),[]),[function(){a(Md,!0)},i]};const dh=function(e){var n=e;"object"===ou(e)&&(n=e.transitionSupport);var r=t.forwardRef((function(e,r){var o=e.visible,i=void 0===o||o,a=e.removeOnLeave,s=void 0===a||a,u=e.forceRender,c=e.children,l=e.motionName,f=e.leavedClassName,d=e.eventProps,h=function(e,t){return!(!e.motionName||!n||!1===t)}(e,t.useContext(Cd).motion),p=(0,t.useRef)(),m=(0,t.useRef)();var v=function(e,n,r,o){var i=o.motionEnter,a=void 0===i||i,s=o.motionAppear,u=void 0===s||s,c=o.motionLeave,l=void 0===c||c,f=o.motionDeadline,d=o.motionLeaveImmediately,h=o.onAppearPrepare,p=o.onEnterPrepare,m=o.onLeavePrepare,v=o.onAppearStart,g=o.onEnterStart,y=o.onLeaveStart,b=o.onAppearActive,w=o.onEnterActive,x=o.onLeaveActive,k=o.onAppearEnd,S=o.onEnterEnd,_=o.onLeaveEnd,E=o.onVisibleChanged,C=Yl(nf(),2),A=C[0],O=C[1],T=Yl(nf(Td),2),R=T[0],I=T[1],P=Yl(nf(null),2),N=P[0],M=P[1],D=(0,t.useRef)(!1),F=(0,t.useRef)(null);function L(){return r()}var j=(0,t.useRef)(!1);function B(){I(Td,!0),M(null,!0)}function z(e){var t=L();if(!e||e.deadline||e.target===t){var n,r=j.current;R===Rd&&r?n=null===k||void 0===k?void 0:k(t,e):R===Id&&r?n=null===S||void 0===S?void 0:S(t,e):R===Pd&&r&&(n=null===_||void 0===_?void 0:_(t,e)),R!==Td&&r&&!1!==n&&B()}}var U=Yl(Zd(z),1)[0],W=function(e){var t,n,r;switch(e){case Rd:return au(t={},Md,h),au(t,Dd,v),au(t,Fd,b),t;case Id:return au(n={},Md,p),au(n,Dd,g),au(n,Fd,w),n;case Pd:return au(r={},Md,m),au(r,Dd,y),au(r,Fd,x),r;default:return{}}},H=t.useMemo((function(){return W(R)}),[R]),V=Yl(fh(R,!e,(function(e){if(e===Md){var t=H[Md];return t?t(L()):uh}var n;return q in H&&M((null===(n=H[q])||void 0===n?void 0:n.call(H,L(),null))||null),q===Fd&&(U(L()),f>0&&(clearTimeout(F.current),F.current=setTimeout((function(){z({deadline:!0})}),f))),q===jd&&B(),ch})),2),G=V[0],q=V[1],X=lh(q);j.current=X,Qd((function(){O(n);var t,r=D.current;D.current=!0,!r&&n&&u&&(t=Rd),r&&n&&a&&(t=Id),(r&&!n&&l||!r&&d&&!n&&l)&&(t=Pd);var o=W(t);t&&(e||o[Md])?(I(t),G()):I(Td)}),[n]),(0,t.useEffect)((function(){(R===Rd&&!u||R===Id&&!a||R===Pd&&!l)&&I(Td)}),[u,a,l]),(0,t.useEffect)((function(){return function(){D.current=!1,clearTimeout(F.current)}}),[]);var K=t.useRef(!1);(0,t.useEffect)((function(){A&&(K.current=!0),void 0!==A&&R===Td&&((K.current||A)&&(null===E||void 0===E||E(A)),K.current=!0)}),[A,R]);var Y=N;return H[Md]&&q===Dd&&(Y=vf({transition:"none"},Y)),[R,q,Y,null!==A&&void 0!==A?A:n]}(h,i,(function(){try{return p.current instanceof HTMLElement?p.current:ed(m.current)}catch(jK){return null}}),e),g=Yl(v,4),y=g[0],b=g[1],w=g[2],x=g[3],k=t.useRef(x);x&&(k.current=!0);var S,_=t.useCallback((function(e){p.current=e,Cf(r,e)}),[r]),E=vf(vf({},d),{},{visible:i});if(c)if(y===Td)S=x?c(vf({},E),_):!s&&k.current&&f?c(vf(vf({},E),{},{className:f}),_):u||!s&&!f?c(vf(vf({},E),{},{style:{display:"none"}}),_):null;else{var C,A;b===Md?A="prepare":lh(b)?A="active":b===Dd&&(A="start");var O=$d(l,"".concat(y,"-").concat(A));S=c(vf(vf({},E),{},{className:ql()($d(l,y),(C={},au(C,O,O&&A),au(C,l,"string"===typeof l),C)),style:w}),_)}else S=null;t.isValidElement(S)&&Tf(S)&&(S.ref||(S=t.cloneElement(S,{ref:_})));return t.createElement(Od,{ref:m},S)}));return r.displayName="CSSMotion",r}(Xd);var hh="add",ph="keep",mh="remove",vh="removed";function gh(e){var t;return vf(vf({},t=e&&"object"===ou(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function yh(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(gh)}var bh=["component","children","onVisibleChanged","onAllRemoved"],wh=["status"],xh=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh,r=function(e){cd(o,e);var r=pd(o);function o(){var e;id(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return au(dd(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),au(dd(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:vf(vf({},e),{},{status:vh})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==vh})).length})),e}return sd(o,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,o=this.props,i=o.component,a=o.children,s=o.onVisibleChanged,u=o.onAllRemoved,c=gf(o,bh),l=i||t.Fragment,f={};return xh.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r,o){var i=r.status,c=gf(r,wh),l=i===hh||i===ph;return t.createElement(n,pf({},f,{key:c.key,visible:l,eventProps:c,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:c.key}),t)||0===e.removeKey(c.key)&&u&&u()}}),(function(e,t){return a(vf(vf({},e),{},{index:o}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=yh(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=yh(e),a=yh(t);i.forEach((function(e){for(var t=!1,i=r;i<o;i+=1){var s=a[i];if(s.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map((function(e){return vf(vf({},e),{},{status:hh})}))),r=i),n.push(vf(vf({},s),{},{status:ph})),r+=1,t=!0;break}}t||n.push(vf(vf({},e),{},{status:mh}))})),r<o&&(n=n.concat(a.slice(r).map((function(e){return vf(vf({},e),{},{status:hh})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==mh}))).forEach((function(t){t.key===e&&(t.status=ph)}))})),n}(r,o);return{keyEntities:i.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==vh||e.status!==mh}))}}}]),o}(t.Component);au(r,"defaultProps",{component:"div"})}(Xd);const kh=dh;function Sh(e){var n=e.prefixCls,r=e.align,o=e.arrow,i=e.arrowPos,a=o||{},s=a.className,u=a.content,c=i.x,l=void 0===c?0:c,f=i.y,d=void 0===f?0:f,h=t.useRef();if(!r||!r.points)return null;var p={position:"absolute"};if(!1!==r.autoArrow){var m=r.points[0],v=r.points[1],g=m[0],y=m[1],b=v[0],w=v[1];g!==b&&["t","b"].includes(g)?"t"===g?p.top=0:p.bottom=0:p.top=d,y!==w&&["l","r"].includes(y)?"l"===y?p.left=0:p.right=0:p.left=l}return t.createElement("div",{ref:h,className:ql()("".concat(n,"-arrow"),s),style:p},u)}function _h(e){var n=e.prefixCls,r=e.open,o=e.zIndex,i=e.mask,a=e.motion;return i?t.createElement(kh,pf({},a,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:o},className:ql()("".concat(n,"-mask"),r)})})):null}var Eh=t.memo((function(e){return e.children}),(function(e,t){return t.cache}));const Ch=Eh;var Ah=t.forwardRef((function(e,n){var r=e.popup,o=e.className,i=e.prefixCls,a=e.style,s=e.target,u=e.onVisibleChanged,c=e.open,l=e.keepDom,f=e.fresh,d=e.onClick,h=e.mask,p=e.arrow,m=e.arrowPos,v=e.align,g=e.motion,y=e.maskMotion,b=e.forceRender,w=e.getPopupContainer,x=e.autoDestroy,k=e.portal,S=e.zIndex,_=e.onMouseEnter,E=e.onMouseLeave,C=e.onPointerEnter,A=e.ready,O=e.offsetX,T=e.offsetY,R=e.offsetR,I=e.offsetB,P=e.onAlign,N=e.onPrepare,M=e.stretch,D=e.targetWidth,F=e.targetHeight,L="function"===typeof r?r():r,j=c||l,B=(null===w||void 0===w?void 0:w.length)>0,z=Yl(t.useState(!w||!B),2),U=z[0],W=z[1];if(tf((function(){!U&&B&&s&&W(!0)}),[U,B,s]),!U)return null;var H="auto",V={left:"-1000vw",top:"-1000vh",right:H,bottom:H};if(A||!c){var G,q=v.points,X=v.dynamicInset||(null===(G=v._experimental)||void 0===G?void 0:G.dynamicInset),K=X&&"r"===q[0][1],Y=X&&"b"===q[0][0];K?(V.right=R,V.left=H):(V.left=O,V.right=H),Y?(V.bottom=I,V.top=H):(V.top=T,V.bottom=H)}var $={};return M&&(M.includes("height")&&F?$.height=F:M.includes("minHeight")&&F&&($.minHeight=F),M.includes("width")&&D?$.width=D:M.includes("minWidth")&&D&&($.minWidth=D)),c||($.pointerEvents="none"),t.createElement(k,{open:b||j,getContainer:w&&function(){return w(s)},autoDestroy:x},t.createElement(_h,{prefixCls:i,open:c,zIndex:S,mask:h,motion:y}),t.createElement(wd,{onResize:P,disabled:!c},(function(e){return t.createElement(kh,pf({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(i,"-hidden")},g,{onAppearPrepare:N,onEnterPrepare:N,visible:c,onVisibleChanged:function(e){var t;null===g||void 0===g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),u(e)}}),(function(r,s){var u=r.className,l=r.style,h=ql()(i,u,o);return t.createElement("div",{ref:Af(e,n,s),className:h,style:vf(vf(vf(vf({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},V),$),l),{},{boxSizing:"border-box",zIndex:S},a),onMouseEnter:_,onMouseLeave:E,onPointerEnter:C,onClick:d},p&&t.createElement(Sh,{prefixCls:i,arrow:p,arrowPos:m,align:v}),t.createElement(Ch,{cache:!c&&!f},L))}))})))}));const Oh=Ah;var Th=t.forwardRef((function(e,n){var r=e.children,o=e.getTriggerDOMNode,i=Tf(r),a=t.useCallback((function(e){Cf(n,o?o(e):e)}),[o]),s=Of(a,r.ref);return i?t.cloneElement(r,{ref:s}):r}));const Rh=Th;const Ih=t.createContext(null);function Ph(e){return e?Array.isArray(e)?e:[e]:[]}const Nh=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1};function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Dh(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Fh(e){return e.ownerDocument.defaultView}function Lh(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Fh(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function jh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Bh(e){return jh(parseFloat(e),0)}function zh(e,t){var n=vf({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Fh(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,u=t.borderRightWidth,c=e.getBoundingClientRect(),l=e.offsetHeight,f=e.clientHeight,d=e.offsetWidth,h=e.clientWidth,p=Bh(i),m=Bh(a),v=Bh(s),g=Bh(u),y=jh(Math.round(c.width/d*1e3)/1e3),b=jh(Math.round(c.height/l*1e3)/1e3),w=(d-h-v-g)*y,x=(l-f-p-m)*b,k=p*b,S=m*b,_=v*y,E=g*y,C=0,A=0;if("clip"===r){var O=Bh(o);C=O*y,A=O*b}var T=c.x+_-C,R=c.y+k-A,I=T+c.width+2*C-_-E-w,P=R+c.height+2*A-k-S-x;n.left=Math.max(n.left,T),n.top=Math.max(n.top,R),n.right=Math.min(n.right,I),n.bottom=Math.min(n.bottom,P)}})),n}function Uh(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Wh(e,t){var n=Yl(t||[],2),r=n[0],o=n[1];return[Uh(e.width,r),Uh(e.height,o)]}function Hh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Vh(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function Gh(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var qh=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Xh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zf,n=t.forwardRef((function(n,r){var o=n.prefixCls,i=void 0===o?"rc-trigger-popup":o,a=n.children,s=n.action,u=void 0===s?"hover":s,c=n.showAction,l=n.hideAction,f=n.popupVisible,d=n.defaultPopupVisible,h=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,m=n.mouseEnterDelay,v=n.mouseLeaveDelay,g=void 0===v?.1:v,y=n.focusDelay,b=n.blurDelay,w=n.mask,x=n.maskClosable,k=void 0===x||x,S=n.getPopupContainer,_=n.forceRender,E=n.autoDestroy,C=n.destroyPopupOnHide,A=n.popup,O=n.popupClassName,T=n.popupStyle,R=n.popupPlacement,I=n.builtinPlacements,P=void 0===I?{}:I,N=n.popupAlign,M=n.zIndex,D=n.stretch,F=n.getPopupClassNameFromAlign,L=n.fresh,j=n.alignPoint,B=n.onPopupClick,z=n.onPopupAlign,U=n.arrow,W=n.popupMotion,H=n.maskMotion,V=n.popupTransitionName,G=n.popupAnimation,q=n.maskTransitionName,X=n.maskAnimation,K=n.className,Y=n.getTriggerDOMNode,$=gf(n,qh),Z=E||C||!1,Q=Yl(t.useState(!1),2),J=Q[0],ee=Q[1];tf((function(){ee(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[]);var te=t.useRef({}),ne=t.useContext(Ih),re=t.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),oe=Ed(),ie=Yl(t.useState(null),2),ae=ie[0],se=ie[1],ue=t.useRef(null),ce=$l((function(e){ue.current=e,Jf(e)&&ae!==e&&se(e),null===ne||void 0===ne||ne.registerSubPopup(oe,e)})),le=Yl(t.useState(null),2),fe=le[0],de=le[1],he=t.useRef(null),pe=$l((function(e){Jf(e)&&fe!==e&&(de(e),he.current=e)})),me=t.Children.only(a),ve=(null===me||void 0===me?void 0:me.props)||{},ge={},ye=$l((function(e){var t,n,r=fe;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=kd(r))||void 0===t?void 0:t.host)===e||e===r||(null===ae||void 0===ae?void 0:ae.contains(e))||(null===(n=kd(ae))||void 0===n?void 0:n.host)===e||e===ae||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),be=Dh(i,W,G,V),we=Dh(i,H,X,q),xe=Yl(t.useState(d||!1),2),ke=xe[0],Se=xe[1],_e=null!==f&&void 0!==f?f:ke,Ee=$l((function(e){void 0===f&&Se(e)}));tf((function(){Se(f||!1)}),[f]);var Ce=t.useRef(_e);Ce.current=_e;var Ae=t.useRef([]);Ae.current=[];var Oe=$l((function(e){var t;Ee(e),(null!==(t=Ae.current[Ae.current.length-1])&&void 0!==t?t:_e)!==e&&(Ae.current.push(e),null===h||void 0===h||h(e))})),Te=t.useRef(),Re=function(){clearTimeout(Te.current)},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Re(),0===t?Oe(e):Te.current=setTimeout((function(){Oe(e)}),1e3*t)};t.useEffect((function(){return Re}),[]);var Pe=Yl(t.useState(!1),2),Ne=Pe[0],Me=Pe[1];tf((function(e){e&&!_e||Me(!0)}),[_e]);var De=Yl(t.useState(null),2),Fe=De[0],Le=De[1],je=Yl(t.useState([0,0]),2),Be=je[0],ze=je[1],Ue=function(e){ze([e.clientX,e.clientY])},We=function(e,n,r,o,i,a,s){var u=Yl(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[o]||{}}),2),c=u[0],l=u[1],f=t.useRef(0),d=t.useMemo((function(){return n?Lh(n):[]}),[n]),h=t.useRef({});e||(h.current={});var p=$l((function(){if(n&&r&&e){var t,u,c,f=n,p=f.ownerDocument,m=Fh(f).getComputedStyle(f),v=m.width,g=m.height,y=m.position,b=f.style.left,w=f.style.top,x=f.style.right,k=f.style.bottom,S=f.style.overflow,_=vf(vf({},i[o]),a),E=p.createElement("div");if(null===(t=f.parentElement)||void 0===t||t.appendChild(E),E.style.left="".concat(f.offsetLeft,"px"),E.style.top="".concat(f.offsetTop,"px"),E.style.position=y,E.style.height="".concat(f.offsetHeight,"px"),E.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden",Array.isArray(r))c={x:r[0],y:r[1],width:0,height:0};else{var C=r.getBoundingClientRect();c={x:C.x,y:C.y,width:C.width,height:C.height}}var A=f.getBoundingClientRect(),O=p.documentElement,T=O.clientWidth,R=O.clientHeight,I=O.scrollWidth,P=O.scrollHeight,N=O.scrollTop,M=O.scrollLeft,D=A.height,F=A.width,L=c.height,j=c.width,B={left:0,top:0,right:T,bottom:R},z={left:-M,top:-N,right:I-M,bottom:P-N},U=_.htmlRegion,W="visible",H="visibleFirst";"scroll"!==U&&U!==H&&(U=W);var V=U===H,G=zh(z,d),q=zh(B,d),X=U===W?q:G,K=V?q:X;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var Y=f.getBoundingClientRect();f.style.left=b,f.style.top=w,f.style.right=x,f.style.bottom=k,f.style.overflow=S,null===(u=f.parentElement)||void 0===u||u.removeChild(E);var $=jh(Math.round(F/parseFloat(v)*1e3)/1e3),Z=jh(Math.round(D/parseFloat(g)*1e3)/1e3);if(0===$||0===Z||Jf(r)&&!Nh(r))return;var Q=_.offset,J=_.targetOffset,ee=Yl(Wh(A,Q),2),te=ee[0],ne=ee[1],re=Yl(Wh(c,J),2),oe=re[0],ie=re[1];c.x-=oe,c.y-=ie;var ae=Yl(_.points||[],2),se=ae[0],ue=Hh(ae[1]),ce=Hh(se),le=Vh(c,ue),fe=Vh(A,ce),de=vf({},_),he=le.x-fe.x+te,pe=le.y-fe.y+ne;function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=A.x+e,o=A.y+t,i=r+F,a=o+D,s=Math.max(r,n.left),u=Math.max(o,n.top),c=Math.min(i,n.right),l=Math.min(a,n.bottom);return Math.max(0,(c-s)*(l-u))}var me,ve,ge,ye,be=st(he,pe),we=st(he,pe,q),xe=Vh(c,["t","l"]),ke=Vh(A,["t","l"]),Se=Vh(c,["b","r"]),_e=Vh(A,["b","r"]),Ee=_.overflow||{},Ce=Ee.adjustX,Ae=Ee.adjustY,Oe=Ee.shiftX,Te=Ee.shiftY,Re=function(e){return"boolean"===typeof e?e:e>=0};function ut(){me=A.y+pe,ve=me+D,ge=A.x+he,ye=ge+F}ut();var Ie=Re(Ae),Pe=ce[0]===ue[0];if(Ie&&"t"===ce[0]&&(ve>K.bottom||h.current.bt)){var Ne=pe;Pe?Ne-=D-L:Ne=xe.y-_e.y-ne;var Me=st(he,Ne),De=st(he,Ne,q);Me>be||Me===be&&(!V||De>=we)?(h.current.bt=!0,pe=Ne,ne=-ne,de.points=[Gh(ce,0),Gh(ue,0)]):h.current.bt=!1}if(Ie&&"b"===ce[0]&&(me<K.top||h.current.tb)){var Fe=pe;Pe?Fe+=D-L:Fe=Se.y-ke.y-ne;var Le=st(he,Fe),je=st(he,Fe,q);Le>be||Le===be&&(!V||je>=we)?(h.current.tb=!0,pe=Fe,ne=-ne,de.points=[Gh(ce,0),Gh(ue,0)]):h.current.tb=!1}var Be=Re(Ce),ze=ce[1]===ue[1];if(Be&&"l"===ce[1]&&(ye>K.right||h.current.rl)){var Ue=he;ze?Ue-=F-j:Ue=xe.x-_e.x-te;var We=st(Ue,pe),He=st(Ue,pe,q);We>be||We===be&&(!V||He>=we)?(h.current.rl=!0,he=Ue,te=-te,de.points=[Gh(ce,1),Gh(ue,1)]):h.current.rl=!1}if(Be&&"r"===ce[1]&&(ge<K.left||h.current.lr)){var Ve=he;ze?Ve+=F-j:Ve=Se.x-ke.x-te;var Ge=st(Ve,pe),qe=st(Ve,pe,q);Ge>be||Ge===be&&(!V||qe>=we)?(h.current.lr=!0,he=Ve,te=-te,de.points=[Gh(ce,1),Gh(ue,1)]):h.current.lr=!1}ut();var Xe=!0===Oe?0:Oe;"number"===typeof Xe&&(ge<q.left&&(he-=ge-q.left-te,c.x+j<q.left+Xe&&(he+=c.x-q.left+j-Xe)),ye>q.right&&(he-=ye-q.right-te,c.x>q.right-Xe&&(he+=c.x-q.right+Xe)));var Ke=!0===Te?0:Te;"number"===typeof Ke&&(me<q.top&&(pe-=me-q.top-ne,c.y+L<q.top+Ke&&(pe+=c.y-q.top+L-Ke)),ve>q.bottom&&(pe-=ve-q.bottom-ne,c.y>q.bottom-Ke&&(pe+=c.y-q.bottom+Ke)));var Ye=A.x+he,$e=Ye+F,Ze=A.y+pe,Qe=Ze+D,Je=c.x,et=Je+j,tt=c.y,nt=tt+L,rt=(Math.max(Ye,Je)+Math.min($e,et))/2-Ye,ot=(Math.max(Ze,tt)+Math.min(Qe,nt))/2-Ze;null===s||void 0===s||s(n,de);var it=Y.right-A.x-(he+A.width),at=Y.bottom-A.y-(pe+A.height);l({ready:!0,offsetX:he/$,offsetY:pe/Z,offsetR:it/$,offsetB:at/Z,arrowX:rt/$,arrowY:ot/Z,scaleX:$,scaleY:Z,align:de})}})),m=function(){l((function(e){return vf(vf({},e),{},{ready:!1})}))};return tf(m,[o]),tf((function(){e||m()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){f.current+=1;var e=f.current;Promise.resolve().then((function(){f.current===e&&p()}))}]}(_e,ae,j?Be:fe,R,P,N,z),He=Yl(We,11),Ve=He[0],Ge=He[1],qe=He[2],Xe=He[3],Ke=He[4],Ye=He[5],$e=He[6],Ze=He[7],Qe=He[8],Je=He[9],et=He[10],tt=function(e,n,r,o){return t.useMemo((function(){var t=Ph(null!==r&&void 0!==r?r:n),i=Ph(null!==o&&void 0!==o?o:n),a=new Set(t),s=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[e,n,r,o])}(J,u,c,l),nt=Yl(tt,2),rt=nt[0],ot=nt[1],it=rt.has("click"),at=ot.has("click")||ot.has("contextMenu"),st=$l((function(){Ne||et()}));!function(e,t,n,r,o){tf((function(){if(e&&t&&n){var i=n,a=Lh(t),s=Lh(i),u=Fh(i),c=new Set([u].concat(If(a),If(s)));function l(){r(),o()}return c.forEach((function(e){e.addEventListener("scroll",l,{passive:!0})})),u.addEventListener("resize",l,{passive:!0}),r(),function(){c.forEach((function(e){e.removeEventListener("scroll",l),u.removeEventListener("resize",l)}))}}}),[e,t,n])}(_e,fe,ae,st,(function(){Ce.current&&j&&at&&Ie(!1)})),tf((function(){st()}),[Be,R]),tf((function(){!_e||null!==P&&void 0!==P&&P[R]||st()}),[JSON.stringify(N)]);var ut=t.useMemo((function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var s,u=i[a];if(Mh(null===(s=e[u])||void 0===s?void 0:s.points,o,r))return"".concat(t,"-placement-").concat(u)}return""}(P,i,Je,j);return ql()(e,null===F||void 0===F?void 0:F(Je))}),[Je,F,P,i,j]);t.useImperativeHandle(r,(function(){return{nativeElement:he.current,popupElement:ue.current,forceAlign:st}}));var ct=Yl(t.useState(0),2),lt=ct[0],ft=ct[1],dt=Yl(t.useState(0),2),ht=dt[0],pt=dt[1],mt=function(){if(D&&fe){var e=fe.getBoundingClientRect();ft(e.width),pt(e.height)}};function vt(e,t,n,r){ge[e]=function(o){var i;null===r||void 0===r||r(o),Ie(t,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];null===(i=ve[e])||void 0===i||i.call.apply(i,[ve,o].concat(s))}}tf((function(){Fe&&(et(),Fe(),Le(null))}),[Fe]),(it||at)&&(ge.onClick=function(e){var t;Ce.current&&at?Ie(!1):!Ce.current&&it&&(Ue(e),Ie(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=ve.onClick)||void 0===t||t.call.apply(t,[ve,e].concat(r))}),function(e,n,r,o,i,a,s,u){var c=t.useRef(e);c.current=e,t.useEffect((function(){if(n&&o&&(!i||a)){var e=function(e){var t=e.target;c.current&&!s(t)&&u(!1)},t=Fh(o);t.addEventListener("mousedown",e,!0),t.addEventListener("contextmenu",e,!0);var l=kd(r);return l&&(l.addEventListener("mousedown",e,!0),l.addEventListener("contextmenu",e,!0)),function(){t.removeEventListener("mousedown",e,!0),t.removeEventListener("contextmenu",e,!0),l&&(l.removeEventListener("mousedown",e,!0),l.removeEventListener("contextmenu",e,!0))}}}),[n,r,o,i,a])}(_e,at,fe,ae,w,k,ye,Ie);var gt,yt,bt=rt.has("hover"),wt=ot.has("hover");bt&&(vt("onMouseEnter",!0,m,(function(e){Ue(e)})),vt("onPointerEnter",!0,m,(function(e){Ue(e)})),gt=function(e){(_e||Ne)&&null!==ae&&void 0!==ae&&ae.contains(e.target)&&Ie(!0,m)},j&&(ge.onMouseMove=function(e){var t;null===(t=ve.onMouseMove)||void 0===t||t.call(ve,e)})),wt&&(vt("onMouseLeave",!1,g),vt("onPointerLeave",!1,g),yt=function(){Ie(!1,g)}),rt.has("focus")&&vt("onFocus",!0,y),ot.has("focus")&&vt("onBlur",!1,b),rt.has("contextMenu")&&(ge.onContextMenu=function(e){var t;Ce.current&&ot.has("contextMenu")?Ie(!1):(Ue(e),Ie(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=ve.onContextMenu)||void 0===t||t.call.apply(t,[ve,e].concat(r))}),K&&(ge.className=ql()(ve.className,K));var xt=vf(vf({},ve),ge),kt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){$[e]&&(kt[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=xt[e])||void 0===t||t.call.apply(t,[xt].concat(r)),$[e].apply($,r)})}));var St=t.cloneElement(me,vf(vf({},xt),kt)),_t={x:Ye,y:$e},Et=U?vf({},!0!==U?U:{}):null;return t.createElement(t.Fragment,null,t.createElement(wd,{disabled:!_e,ref:pe,onResize:function(){mt(),st()}},t.createElement(Rh,{getTriggerDOMNode:Y},St)),t.createElement(Ih.Provider,{value:re},t.createElement(Oh,{portal:e,ref:ce,prefixCls:i,popup:A,className:ql()(O,ut),style:T,target:fe,onMouseEnter:gt,onMouseLeave:yt,onPointerEnter:gt,zIndex:M,open:_e,keepDom:Ne,fresh:L,onClick:B,mask:w,motion:be,maskMotion:we,onVisibleChanged:function(e){Me(!1),et(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise((function(e){mt(),Le((function(){return e}))}))},forceRender:_,autoDestroy:Z,getPopupContainer:S,align:Je,arrow:Et,arrowPos:_t,ready:Ve,offsetX:Ge,offsetY:qe,offsetR:Xe,offsetB:Ke,onAlign:st,stretch:D,targetWidth:lt/Ze,targetHeight:ht/Qe})))}));return n}(Zf);var Kh={shiftX:64,adjustY:1},Yh={adjustX:1,shiftY:!0},$h=[0,0],Zh={left:{points:["cr","cl"],overflow:Yh,offset:[-4,0],targetOffset:$h},right:{points:["cl","cr"],overflow:Yh,offset:[4,0],targetOffset:$h},top:{points:["bc","tc"],overflow:Kh,offset:[0,-4],targetOffset:$h},bottom:{points:["tc","bc"],overflow:Kh,offset:[0,4],targetOffset:$h},topLeft:{points:["bl","tl"],overflow:Kh,offset:[0,-4],targetOffset:$h},leftTop:{points:["tr","tl"],overflow:Yh,offset:[-4,0],targetOffset:$h},topRight:{points:["br","tr"],overflow:Kh,offset:[0,-4],targetOffset:$h},rightTop:{points:["tl","tr"],overflow:Yh,offset:[4,0],targetOffset:$h},bottomRight:{points:["tr","br"],overflow:Kh,offset:[0,4],targetOffset:$h},rightBottom:{points:["bl","br"],overflow:Yh,offset:[4,0],targetOffset:$h},bottomLeft:{points:["tl","bl"],overflow:Kh,offset:[0,4],targetOffset:$h},leftBottom:{points:["br","bl"],overflow:Yh,offset:[-4,0],targetOffset:$h}};var Qh=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Jh=function(e,n){var r=e.overlayClassName,o=e.trigger,i=void 0===o?["hover"]:o,a=e.mouseEnterDelay,s=void 0===a?0:a,u=e.mouseLeaveDelay,c=void 0===u?.1:u,l=e.overlayStyle,f=e.prefixCls,d=void 0===f?"rc-tooltip":f,h=e.children,p=e.onVisibleChange,m=e.afterVisibleChange,v=e.transitionName,g=e.animation,y=e.motion,b=e.placement,w=void 0===b?"right":b,x=e.align,k=void 0===x?{}:x,S=e.destroyTooltipOnHide,_=void 0!==S&&S,E=e.defaultVisible,C=e.getTooltipContainer,A=e.overlayInnerStyle,O=(e.arrowContent,e.overlay),T=e.id,R=e.showArrow,I=void 0===R||R,P=gf(e,Qh),N=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return N.current}));var M=vf({},P);"visible"in e&&(M.popupVisible=e.visible);return t.createElement(Xh,pf({popupClassName:r,prefixCls:d,popup:function(){return t.createElement(hf,{key:"content",prefixCls:d,id:T,overlayInnerStyle:A},O)},action:i,builtinPlacements:Zh,popupPlacement:w,ref:N,popupAlign:k,getPopupContainer:C,onPopupVisibleChange:p,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:g,popupMotion:y,defaultPopupVisible:E,autoDestroy:_,mouseLeaveDelay:c,popupStyle:l,mouseEnterDelay:s,arrow:I},M),h)};const ep=(0,t.forwardRef)(Jh);const tp=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};var np="%";function rp(e){return e.join(np)}var op=function(){function e(t){id(this,e),au(this,"instanceId",void 0),au(this,"cache",new Map),this.instanceId=t}return sd(e,[{key:"get",value:function(e){return this.opGet(rp(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(rp(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const ip=op;var ap="data-token-hash",sp="data-css-hash",up="__cssinjs_instance__";function cp(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(sp,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[up]=t[up]||e,t[up]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(sp,"]"))).forEach((function(t){var n,o=t.getAttribute(sp);r[o]?t[up]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[o]=!0}))}return new ip(e)}var lp=t.createContext({hashPriority:"low",cache:cp(),defaultCache:!0});const fp=lp;var dp=function(){function e(){id(this,e),au(this,"cache",void 0),au(this,"keys",void 0),au(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return sd(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach((function(e){var t;o?o=null===(t=o)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):o=void 0})),null!==(t=o)&&void 0!==t&&t.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(n=o)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce((function(e,t){var n=Yl(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),i=Yl(o,1)[0];this.delete(i)}this.keys.push(t)}var a=this.cache;t.forEach((function(e,o){if(o===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var i=a.get(e);i?i.map||(i.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var o=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();au(dp,"MAX_CACHE_SIZE",20),au(dp,"MAX_CACHE_OFFSET",5);var hp=0,pp=function(){function e(t){id(this,e),au(this,"derivatives",void 0),au(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=hp,0===t.length&&t.length,hp+=1}return sd(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),mp=new dp;var vp=new WeakMap,gp={};var yp=new WeakMap;function bp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=yp.get(e)||"";return n||(Object.keys(e).forEach((function(r){var o=e[r];n+=r,o instanceof pp?n+=o.id:o&&"object"===ou(o)?n+=bp(o,t):n+=o})),t&&(n=tp(n)),yp.set(e,n)),n}function wp(e,t){return tp("".concat(t,"_").concat(bp(e,!0)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var xp=Zl();function kp(e){return"number"===typeof e?"".concat(e,"px"):e}function Sp(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var o=vf(vf({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(au(r={},ap,t),au(r,sp,n),r)),i=Object.keys(o).map((function(e){var t=o[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(i,">").concat(e,"</style>")}var _p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Ep=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=Yl(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},Cp=function(e,t,n){var r={},o={};return Object.entries(e).forEach((function(e){var t,i,a=Yl(e,2),s=a[0],u=a[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[s])o[s]=u;else if(("string"===typeof u||"number"===typeof u)&&(null===n||void 0===n||null===(i=n.ignore)||void 0===i||!i[s])){var c,l=_p(s,null===n||void 0===n?void 0:n.prefix);r[l]="number"!==typeof u||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(u):"".concat(u,"px"),o[s]="var(".concat(l,")")}})),[o,Ep(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},Ap=vf({},r).useInsertionEffect;const Op=Ap?function(e,t,n){return Ap((function(){return e(),t()}),n)}:function(e,n,r){t.useMemo(e,r),tf((function(){return n(!0)}),r)};var Tp="undefined"!==typeof vf({},r).useInsertionEffect?function(e){var n=[],r=!1;return t.useEffect((function(){return r=!1,function(){r=!0,n.length&&n.forEach((function(e){return e()}))}}),e),function(e){r||n.push(e)}}:function(){return function(e){e()}};const Rp=Tp;const Ip=function(){return!1};function Pp(e,n,r,o,i){var a=t.useContext(fp).cache,s=rp([e].concat(If(n))),u=Rp([s]),c=(Ip(),function(e){a.opUpdate(s,(function(t){var n=Yl(t||[void 0,void 0],2),o=n[0];var i=[void 0===o?0:o,n[1]||r()];return e?e(i):i}))});t.useMemo((function(){c()}),[s]);var l=a.opGet(s)[1];return Op((function(){null===i||void 0===i||i(l)}),(function(e){return c((function(t){var n=Yl(t,2),r=n[0],o=n[1];return e&&0===r&&(null===i||void 0===i||i(l)),[r+1,o]})),function(){a.opUpdate(s,(function(t){var n=Yl(t||[],2),r=n[0],i=void 0===r?0:r,c=n[1];return 0===i-1?(u((function(){!e&&a.opGet(s)||null===o||void 0===o||o(c,!1)})),null):[i-1,c]}))}}),[s]),l}var Np={},Mp="css",Dp=new Map;var Fp=0;function Lp(e,t){Dp.set(e,(Dp.get(e)||0)-1);var n=Array.from(Dp.keys()),r=n.filter((function(e){return(Dp.get(e)||0)<=0}));n.length-r.length>Fp&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(ap,'="').concat(e,'"]')).forEach((function(e){var n;e[up]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),Dp.delete(e)}))}var jp=function(e,t,n,r){var o=vf(vf({},n.getDerivativeToken(e)),t);return r&&(o=r(o)),o},Bp="token";function zp(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,t.useContext)(fp),i=o.cache.instanceId,a=o.container,s=r.salt,u=void 0===s?"":s,c=r.override,l=void 0===c?Np:c,f=r.formatToken,d=r.getComputedToken,h=r.cssVar,p=function(e,t){for(var n=vp,r=0;r<t.length;r+=1){var o=t[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(gp)||n.set(gp,e()),n.get(gp)}((function(){return Object.assign.apply(Object,[{}].concat(If(n)))}),n),m=bp(p),v=bp(l),g=h?bp(h):"",y=Pp(Bp,[u,e.id,m,v,g],(function(){var t,n=d?d(p,l,e):jp(p,l,e,f),r=vf({},n),o="";if(h){var i=Yl(Cp(n,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),2);n=i[0],o=i[1]}var a=wp(n,u);n._tokenKey=a,r._tokenKey=wp(r,u);var s=null!==(t=null===h||void 0===h?void 0:h.key)&&void 0!==t?t:a;n._themeKey=s,function(e){Dp.set(e,(Dp.get(e)||0)+1)}(s);var c="".concat(Mp,"-").concat(tp(a));return n._hashId=c,[n,c,r,o,(null===h||void 0===h?void 0:h.key)||""]}),(function(e){Lp(e[0]._themeKey,i)}),(function(e){var t=Yl(e,4),n=t[0],r=t[3];if(h&&r){var o=Hf(r,tp("css-variables-".concat(n._themeKey)),{mark:sp,prepend:"queue",attachTo:a,priority:-999});o[up]=i,o.setAttribute(ap,n._themeKey)}}));return y}const Up={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Wp,Hp="data-ant-cssinjs-cache-path",Vp="_FILE_STYLE__";var Gp=!0;function qp(e){return function(){if(!Wp&&(Wp={},Zl())){var e=document.createElement("div");e.className=Hp,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=Yl(e.split(":"),2),n=t[0],r=t[1];Wp[n]=r}));var n,r=document.querySelector("style[".concat(Hp,"]"));r&&(Gp=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!Wp[e]}var Xp="_multi_value_";function Kp(e){return Ft(zt(e),Lt).replace(/\{%%%\:[^;];}/g,";")}var Yp=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,i=r.injectHash,a=r.parentSelectors,s=n.hashId,u=n.layer,c=(n.path,n.hashPriority),l=n.transformers,f=void 0===l?[]:l,d=(n.linters,""),h={};function p(t){var r=t.getName(s);if(!h[r]){var o=Yl(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];h[r]="@keyframes ".concat(t.getName(s)).concat(o)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var r="string"!==typeof t||o?t:{};if("string"===typeof r)d+="".concat(r,"\n");else if(r._keyframe)p(r);else{var u=f.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(u).forEach((function(t){var r=u[t];if("object"!==ou(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===ou(e)&&e&&("_skip_check_"in e||Xp in e)}(r)){var l;function x(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;Up[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(s)),d+="".concat(n,":").concat(r,";")}var f=null!==(l=null===r||void 0===r?void 0:r.value)&&void 0!==l?l:r;"object"===ou(r)&&null!==r&&void 0!==r&&r[Xp]&&Array.isArray(f)?f.forEach((function(e){x(t,e)})):x(t,f)}else{var m=!1,v=t.trim(),g=!1;(o||i)&&s?v.startsWith("@")?m=!0:v=function(e,t,n){if(!t)return e;var r=".".concat(t),o="low"===n?":where(".concat(r,")"):r,i=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",i=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(i).concat(o).concat(r.slice(i.length))].concat(If(n.slice(1))).join(" ")}));return i.join(",")}(t,s,c):!o||s||"&"!==v&&""!==v||(v="",g=!0);var y=Yl(e(r,n,{root:g,injectHash:m,parentSelectors:[].concat(If(a),[v])}),2),b=y[0],w=y[1];h=vf(vf({},h),w),d+="".concat(v).concat(b)}}))}})),o?u&&(d="@layer ".concat(u.name," {").concat(d,"}"),u.dependencies&&(h["@layer ".concat(u.name)]=u.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(u.name,";")})).join("\n"))):d="{".concat(d,"}"),[d,h]};function $p(e,t){return tp("".concat(e.join("%")).concat(t))}function Zp(){return null}var Qp="style";function Jp(e,n){var r=e.token,o=e.path,i=e.hashId,a=e.layer,s=e.nonce,u=e.clientOnly,c=e.order,l=void 0===c?0:c,f=t.useContext(fp),d=f.autoClear,h=(f.mock,f.defaultCache),p=f.hashPriority,m=f.container,v=f.ssrInline,g=f.transformers,y=f.linters,b=f.cache,w=f.layer,x=r._tokenKey,k=[x];w&&k.push("layer"),k.push.apply(k,If(o));var S=xp;var _=Pp(Qp,k,(function(){var e=k.join("|");if(qp(e)){var t=function(e){var t=Wp[e],n=null;if(t&&Zl())if(Gp)n=Vp;else{var r=document.querySelector("style[".concat(sp,'="').concat(Wp[e],'"]'));r?n=r.innerHTML:delete Wp[e]}return[n,t]}(e),r=Yl(t,2),s=r[0],c=r[1];if(s)return[s,x,c,{},u,l]}var f=n(),d=Yl(Yp(f,{hashId:i,hashPriority:p,layer:w?a:void 0,path:o.join("-"),transformers:g,linters:y}),2),h=d[0],m=d[1],v=Kp(h),b=$p(k,v);return[v,x,b,m,u,l]}),(function(e,t){var n=Yl(e,3)[2];(t||d)&&xp&&Wf(n,{mark:sp})}),(function(e){var t=Yl(e,4),n=t[0],r=(t[1],t[2]),o=t[3];if(S&&n!==Vp){var i={mark:sp,prepend:!w&&"queue",attachTo:m,priority:l},a="function"===typeof s?s():s;a&&(i.csp={nonce:a});var u=[],c=[];Object.keys(o).forEach((function(e){e.startsWith("@layer")?u.push(e):c.push(e)})),u.forEach((function(e){Hf(Kp(o[e]),"_layer-".concat(e),vf(vf({},i),{},{prepend:!0}))}));var f=Hf(n,r,i);f[up]=b.instanceId,f.setAttribute(ap,x),c.forEach((function(e){Hf(Kp(o[e]),"_effect-".concat(e),i)}))}})),E=Yl(_,3),C=E[0],A=E[1],O=E[2];return function(e){var n,r;v&&!S&&h?n=t.createElement("style",pf({},(au(r={},ap,A),au(r,sp,O),r),{dangerouslySetInnerHTML:{__html:C}})):n=t.createElement(Zp,null);return t.createElement(t.Fragment,null,n,e)}}var em="cssVar";const tm=function(e,n){var r=e.key,o=e.prefix,i=e.unitless,a=e.ignore,s=e.token,u=e.scope,c=void 0===u?"":u,l=(0,t.useContext)(fp),f=l.cache.instanceId,d=l.container,h=s._tokenKey,p=[].concat(If(e.path),[r,c,h]),m=Pp(em,p,(function(){var e=n(),t=Yl(Cp(e,r,{prefix:o,unitless:i,ignore:a,scope:c}),2),s=t[0],u=t[1];return[s,u,$p(p,u),r]}),(function(e){var t=Yl(e,3)[2];xp&&Wf(t,{mark:sp})}),(function(e){var t=Yl(e,3),n=t[1],o=t[2];if(n){var i=Hf(n,o,{mark:sp,prepend:"queue",attachTo:d,priority:-999});i[up]=f,i.setAttribute(ap,r)}}));return m};var nm;au(nm={},Qp,(function(e,t,n){var r=Yl(e,6),o=r[0],i=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=(n||{}).plain;if(u)return null;var f=o,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return f=Sp(o,i,a,d,l),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=Sp(Kp(s[e]),i,"_effect-".concat(e),d,l);e.startsWith("@layer")?f=n+f:f+=n}})),[c,a,f]})),au(nm,Bp,(function(e,t,n){var r=Yl(e,5),o=r[2],i=r[3],a=r[4],s=(n||{}).plain;if(!i)return null;var u=o._tokenKey;return[-999,u,Sp(i,a,u,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),au(nm,em,(function(e,t,n){var r=Yl(e,4),o=r[1],i=r[2],a=r[3],s=(n||{}).plain;if(!o)return null;return[-999,i,Sp(o,a,i,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var rm=function(){function e(t,n){id(this,e),au(this,"name",void 0),au(this,"style",void 0),au(this,"_keyframe",!0),this.name=t,this.style=n}return sd(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const om=rm;function im(e){return e.notSplit=!0,e}im(["borderTop","borderBottom"]),im(["borderTop"]),im(["borderBottom"]),im(["borderLeft","borderRight"]),im(["borderLeft"]),im(["borderRight"]);const am="5.17.0";function sm(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function um(e){return Math.min(1,Math.max(0,e))}function cm(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function lm(e){return e<=1?"".concat(100*Number(e),"%"):e}function fm(e){return 1===e.length?"0"+e:String(e)}function dm(e,t,n){e=sm(e,255),t=sm(t,255),n=sm(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=0,s=(r+o)/2;if(r===o)a=0,i=0;else{var u=r-o;switch(a=s>.5?u/(2-r-o):u/(r+o),r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:a,l:s}}function hm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pm(e,t,n){e=sm(e,255),t=sm(t,255),n=sm(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=r,s=r-o,u=0===r?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:u,v:a}}function mm(e,t,n,r){var o=[fm(Math.round(e).toString(16)),fm(Math.round(t).toString(16)),fm(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function vm(e){return Math.round(255*parseFloat(e)).toString(16)}function gm(e){return ym(e)/255}function ym(e){return parseInt(e,16)}var bm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wm(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(bm[e])e=bm[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=_m.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=_m.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=_m.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=_m.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=_m.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=_m.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=_m.hex8.exec(e),n)return{r:ym(n[1]),g:ym(n[2]),b:ym(n[3]),a:gm(n[4]),format:t?"name":"hex8"};if(n=_m.hex6.exec(e),n)return{r:ym(n[1]),g:ym(n[2]),b:ym(n[3]),format:t?"name":"hex"};if(n=_m.hex4.exec(e),n)return{r:ym(n[1]+n[1]),g:ym(n[2]+n[2]),b:ym(n[3]+n[3]),a:gm(n[4]+n[4]),format:t?"name":"hex8"};if(n=_m.hex3.exec(e),n)return{r:ym(n[1]+n[1]),g:ym(n[2]+n[2]),b:ym(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Em(e.r)&&Em(e.g)&&Em(e.b)?(t=function(e,t,n){return{r:255*sm(e,255),g:255*sm(t,255),b:255*sm(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Em(e.h)&&Em(e.s)&&Em(e.v)?(r=lm(e.s),o=lm(e.v),t=function(e,t,n){e=6*sm(e,360),t=sm(t,100),n=sm(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),u=r%6;return{r:255*[n,a,i,i,s,n][u],g:255*[s,n,n,a,i,i][u],b:255*[i,i,s,n,n,a][u]}}(e.h,r,o),a=!0,s="hsv"):Em(e.h)&&Em(e.s)&&Em(e.l)&&(r=lm(e.s),i=lm(e.l),t=function(e,t,n){var r,o,i;if(e=sm(e,360),t=sm(t,100),n=sm(n,100),0===t)o=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=hm(s,a,e+1/3),o=hm(s,a,e),i=hm(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=cm(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var xm="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),km="[\\s|\\(]+(".concat(xm,")[,|\\s]+(").concat(xm,")[,|\\s]+(").concat(xm,")\\s*\\)?"),Sm="[\\s|\\(]+(".concat(xm,")[,|\\s]+(").concat(xm,")[,|\\s]+(").concat(xm,")[,|\\s]+(").concat(xm,")\\s*\\)?"),_m={CSS_UNIT:new RegExp(xm),rgb:new RegExp("rgb"+km),rgba:new RegExp("rgba"+Sm),hsl:new RegExp("hsl"+km),hsla:new RegExp("hsla"+Sm),hsv:new RegExp("hsv"+km),hsva:new RegExp("hsva"+Sm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Em(e){return Boolean(_m.CSS_UNIT.exec(String(e)))}var Cm=2,Am=.16,Om=.05,Tm=.05,Rm=.15,Im=5,Pm=4,Nm=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Mm(e){var t=pm(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Dm(e){var t=e.r,n=e.g,r=e.b;return"#".concat(mm(t,n,r,!1))}function Fm(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Cm*t:Math.round(e.h)+Cm*t:n?Math.round(e.h)+Cm*t:Math.round(e.h)-Cm*t)<0?r+=360:r>=360&&(r-=360),r}function Lm(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-Am*t:t===Pm?e.s+Am:e.s+Om*t)>1&&(r=1),n&&t===Im&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function jm(e,t,n){var r;return(r=n?e.v+Tm*t:e.v-Rm*t)>1&&(r=1),Number(r.toFixed(2))}function Bm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=wm(e),o=Im;o>0;o-=1){var i=Mm(r),a=Dm(wm({h:Fm(i,o,!0),s:Lm(i,o,!0),v:jm(i,o,!0)}));n.push(a)}n.push(Dm(r));for(var s=1;s<=Pm;s+=1){var u=Mm(r),c=Dm(wm({h:Fm(u,s),s:Lm(u,s),v:jm(u,s)}));n.push(c)}return"dark"===t.theme?Nm.map((function(e){var r=e.index,o=e.opacity,i=Dm(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(wm(t.backgroundColor||"#141414"),wm(n[r]),100*o));return i})):n}var zm={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Um={},Wm={};Object.keys(zm).forEach((function(e){Um[e]=Bm(zm[e]),Um[e].primary=Um[e][5],Wm[e]=Bm(zm[e],{theme:"dark",backgroundColor:"#141414"}),Wm[e].primary=Wm[e][5]}));Um.red,Um.volcano,Um.gold,Um.orange,Um.yellow,Um.lime,Um.green,Um.cyan;var Hm=Um.blue;Um.geekblue,Um.purple,Um.magenta,Um.grey,Um.grey;const Vm={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Gm=Object.assign(Object.assign({},Vm),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var qm=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var o=wm(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=cm(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=pm(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=pm(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=dm(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=dm(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),mm(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,o){var i=[fm(Math.round(e).toString(16)),fm(Math.round(t).toString(16)),fm(Math.round(n).toString(16)),fm(vm(r))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*sm(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*sm(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+mm(this.r,this.g,this.b,!1),t=0,n=Object.entries(bm);t<n.length;t++){var r=n[t],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=um(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=um(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=um(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=um(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),o=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/o,g:(n.g*n.a+r.g*r.a*(1-n.a))/o,b:(n.b*n.a+r.b*r.a*(1-n.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const Xm=e=>{let t=e,n=e,r=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:o}};const Km=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function Ym(e){return(e+8)/e}const $m=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,o=e*Math.pow(2.71828,r/5),i=n>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(i/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:Ym(e)})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),o=n[1],i=n[0],a=n[2],s=r[1],u=r[0],c=r[2];return{fontSizeSM:i,fontSize:o,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:u,fontHeight:Math.round(s*o),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(u*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const Zm=(e,t)=>new qm(e).setAlpha(t).toRgbString(),Qm=(e,t)=>new qm(e).darken(t).toHexString(),Jm=e=>{const t=Bm(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},ev=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Zm(r,.88),colorTextSecondary:Zm(r,.65),colorTextTertiary:Zm(r,.45),colorTextQuaternary:Zm(r,.25),colorFill:Zm(r,.15),colorFillSecondary:Zm(r,.06),colorFillTertiary:Zm(r,.04),colorFillQuaternary:Zm(r,.02),colorBgLayout:Qm(n,4),colorBgContainer:Qm(n,0),colorBgElevated:Qm(n,0),colorBgSpotlight:Zm(r,.85),colorBgBlur:"transparent",colorBorder:Qm(n,15),colorBorderSecondary:Qm(n,6)}};const tv=function(e){var t=Array.isArray(e)?e:[e];return mp.has(t)||mp.set(t,new pp(t)),mp.get(t)}((function(e){const t=Object.keys(Vm).map((t=>{const n=Bm(e[t]);return new Array(10).fill(1).reduce(((e,r,o)=>(e["".concat(t,"-").concat(o+1)]=n[o],e["".concat(t).concat(o+1)]=n[o],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:o,colorWarning:i,colorError:a,colorInfo:s,colorPrimary:u,colorBgBase:c,colorTextBase:l}=e,f=n(u),d=n(o),h=n(i),p=n(a),m=n(s),v=r(c,l),g=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},v),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:g[4],colorLink:g[6],colorLinkActive:g[7],colorBgMask:new qm("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Jm,generateNeutralColorPalettes:ev})),$m(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Km(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:o}=e;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:o+1},Xm(r))}(e))})),nv={token:Gm,override:{override:Gm},hashed:!0},rv=t.createContext(nv);function ov(e){return e>=0&&e<=255}const iv=function(e,t){const{r:n,g:r,b:o,a:i}=new qm(e).toRgb();if(i<1)return e;const{r:a,g:s,b:u}=new qm(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-a*(1-c))/c),t=Math.round((r-s*(1-c))/c),i=Math.round((o-u*(1-c))/c);if(ov(e)&&ov(t)&&ov(i))return new qm({r:e,g:t,b:i,a:Math.round(100*c)/100}).toRgbString()}return new qm({r:n,g:r,b:o,a:1}).toRgbString()};var av=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function sv(e){const{override:t}=e,n=av(e,["override"]),r=Object.assign({},t);Object.keys(Gm).forEach((e=>{delete r[e]}));const o=Object.assign(Object.assign({},n),r),i=1200,a=1600;if(!1===o.motion){const e="0s";o.motionDurationFast=e,o.motionDurationMid=e,o.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:iv(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:iv(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:iv(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:4*o.lineWidth,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:iv(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:i,screenXLMin:i,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new qm("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new qm("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new qm("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var uv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const cv={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},lv={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},fv={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},dv=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:o}=t,i=uv(t,["override"]);let a=Object.assign(Object.assign({},r),{override:o});return a=sv(a),i&&Object.entries(i).forEach((e=>{let[t,n]=e;const{theme:r}=n,o=uv(n,["theme"]);let i=o;r&&(i=dv(Object.assign(Object.assign({},a),o),{override:o},r)),a[t]=i})),a};function hv(){const{token:e,hashed:n,theme:r,override:o,cssVar:i}=t.useContext(rv),a="".concat(am,"-").concat(n||""),s=r||tv,[u,c,l]=zp(s,[Gm,e],{salt:a,override:o,getComputedToken:dv,formatToken:sv,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:cv,ignore:lv,preserve:fv}});return[s,l,n?c:"",u,i]}const pv=t.createContext(void 0),mv=100,vv={Modal:mv,Drawer:mv,Popover:mv,Popconfirm:mv,Tooltip:mv,Tour:mv},gv={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function yv(e,n){const[,r]=hv(),o=t.useContext(pv),i=e in vv;if(void 0!==n)return[n,n];let a=null!==o&&void 0!==o?o:0;return i?(a+=(o?0:r.zIndexPopupBase)+vv[e],a=Math.min(a,r.zIndexPopupBase+1e3)):a+=gv[e],[void 0===o?n:a,a]}function bv(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,o=t/2,i=o,a=1*r/Math.sqrt(2),s=o-r*(1-1/Math.sqrt(2)),u=o-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),l=2*o-u,f=c,d=2*o-a,h=s,p=2*o-0,m=i,v=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),g=r*(Math.sqrt(2)-1),y="polygon(".concat(g,"px 100%, 50% ").concat(g,"px, ").concat(2*o-g,"px 100%, ").concat(g,"px 100%)");return{arrowShadowWidth:v,arrowPath:"path('M ".concat(0," ").concat(i," A ").concat(r," ").concat(r," 0 0 0 ").concat(a," ").concat(s," L ").concat(u," ").concat(c," A ").concat(n," ").concat(n," 0 0 1 ").concat(l," ").concat(f," L ").concat(d," ").concat(h," A ").concat(r," ").concat(r," 0 0 0 ").concat(p," ").concat(m," Z')"),arrowPolygon:y}}const wv=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:o,arrowPath:i,arrowShadowWidth:a,borderRadiusXS:s,calc:u}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:u(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(kp(s)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},xv=8;function kv(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?xv:r}}function Sv(e,t){return e?t:{}}function _v(e,t,n){const{componentCls:r,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:a}=e,{arrowDistance:s=0,arrowPlacement:u={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(r,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},wv(e,t,o)),{"&:before":{background:t}})]},Sv(!!u.top,{[["&-placement-top > ".concat(r,"-arrow"),"&-placement-topLeft > ".concat(r,"-arrow"),"&-placement-topRight > ".concat(r,"-arrow")].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},["&-placement-topLeft > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:a}},["&-placement-topRight > ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:a}}})),Sv(!!u.bottom,{[["&-placement-bottom > ".concat(r,"-arrow"),"&-placement-bottomLeft > ".concat(r,"-arrow"),"&-placement-bottomRight > ".concat(r,"-arrow")].join(",")]:{top:s,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},["&-placement-bottomLeft > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:a}},["&-placement-bottomRight > ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:a}}})),Sv(!!u.left,{[["&-placement-left > ".concat(r,"-arrow"),"&-placement-leftTop > ".concat(r,"-arrow"),"&-placement-leftBottom > ".concat(r,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(r,"-arrow")]:{top:i},["&-placement-leftBottom > ".concat(r,"-arrow")]:{bottom:i}})),Sv(!!u.right,{[["&-placement-right > ".concat(r,"-arrow"),"&-placement-rightTop > ".concat(r,"-arrow"),"&-placement-rightBottom > ".concat(r,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(r,"-arrow")]:{top:i},["&-placement-rightBottom > ".concat(r,"-arrow")]:{bottom:i}}))}}const Ev={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Cv={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Av=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ov(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:o,borderRadius:i,visibleFirst:a}=e,s=t/2,u={};return Object.keys(Ev).forEach((e=>{const c=r&&Cv[e]||Ev[e],l=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(u[e]=l,Av.has(e)&&(l.autoArrow=!1),e){case"top":case"topLeft":case"topRight":l.offset[1]=-s-o;break;case"bottom":case"bottomLeft":case"bottomRight":l.offset[1]=s+o;break;case"left":case"leftTop":case"leftBottom":l.offset[0]=-s-o;break;case"right":case"rightTop":case"rightBottom":l.offset[0]=s+o}const f=kv({contentRadius:i,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":l.offset[0]=-f.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":l.offset[0]=f.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":l.offset[1]=-f.arrowOffsetHorizontal-s;break;case"leftBottom":case"rightBottom":l.offset[1]=f.arrowOffsetHorizontal+s}l.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const o=r&&"object"===typeof r?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=2*t.arrowOffsetHorizontal+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=2*t.arrowOffsetVertical+n,i.shiftX=!0,i.adjustX=!0}const a=Object.assign(Object.assign({},i),o);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(e,f,t,n),a&&(l.htmlRegion="visibleFirst")})),u}function Tv(){}const Rv=()=>{const e=()=>{};return e.deprecated=Tv,e};const Iv=t.createContext(null),Pv=e=>{let{children:n}=e;return t.createElement(Iv.Provider,{value:null},n)},Nv=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},Mv=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Dv=(e,t,n,r)=>{const o='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]'),i=n?".".concat(n):o,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},s),a),{[o]:a})}},Fv=e=>({outline:"".concat(kp(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Lv=e=>({"&:focus-visible":Object.assign({},Fv(e))}),jv=e=>({animationDuration:e,animationFillMode:"both"}),Bv=e=>({animationDuration:e,animationFillMode:"both"}),zv=function(e,t,n,r){const o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(o).concat(e,"-enter,\n      ").concat(o).concat(e,"-appear\n    ")]:Object.assign(Object.assign({},jv(r)),{animationPlayState:"paused"}),["".concat(o).concat(e,"-leave")]:Object.assign(Object.assign({},Bv(r)),{animationPlayState:"paused"}),["\n      ".concat(o).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(o).concat(e,"-appear").concat(e,"-appear-active\n    ")]:{animationName:t,animationPlayState:"running"},["".concat(o).concat(e,"-leave").concat(e,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Uv=new om("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Wv=new om("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Hv=new om("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Vv=new om("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Gv=new om("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),qv=new om("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Xv={zoom:{inKeyframes:Uv,outKeyframes:Wv},"zoom-big":{inKeyframes:Hv,outKeyframes:Vv},"zoom-big-fast":{inKeyframes:Hv,outKeyframes:Vv},"zoom-left":{inKeyframes:new om("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new om("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new om("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new om("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:Gv,outKeyframes:qv},"zoom-down":{inKeyframes:new om("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new om("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},Kv=(e,t)=>{const{antCls:n}=e,r="".concat(n,"-").concat(t),{inKeyframes:o,outKeyframes:i}=Xv[t];return[zv(r,o,i,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(r,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Yv=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function $v(e,t){return Yv.reduce(((n,r)=>{const o=e["".concat(r,"1")],i=e["".concat(r,"3")],a=e["".concat(r,"6")],s=e["".concat(r,"7")];return Object.assign(Object.assign({},n),t(r,{lightColor:o,lightBorderColor:i,darkColor:a,textColor:s}))}),{})}const Zv="undefined"!==typeof CSSINJS_STATISTIC;let Qv=!0;function Jv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Zv)return Object.assign.apply(Object,[{}].concat(t));Qv=!1;const r={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),Qv=!0,r}const eg={};function tg(){}const ng=e=>{let t,n=e,r=tg;return Zv&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:(e,n)=>(Qv&&t.add(n),e[n])}),r=(e,n)=>{var r;eg[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(r=eg[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};"undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function rg(e,t,n){return t=ld(t),hd(e,fd()?Reflect.construct(t,n||[],ld(e).constructor):t.apply(e,n))}const og=sd((function e(){id(this,e)})),ig="CALC_UNIT",ag=new RegExp(ig,"g");function sg(e){return"number"===typeof e?"".concat(e).concat(ig):e}let ug=function(e){function t(e){var n;return id(this,t),(n=rg(this,t)).result="",e instanceof t?n.result="(".concat(e.result,")"):"number"===typeof e?n.result=sg(e):"string"===typeof e&&(n.result=e),n}return cd(t,e),sd(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(sg(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(sg(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{};return this.result=this.result.replace(ag,t?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}])}(og),cg=function(e){function t(e){var n;return id(this,t),(n=rg(this,t)).result=0,e instanceof t?n.result=e.result:"number"===typeof e&&(n.result=e),n}return cd(t,e),sd(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}])}(og);const lg=e=>{const t="css"===e?ug:cg;return e=>new t(e)};const fg=(e,t)=>{const[n,r]=hv();return Jp({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},(()=>[{[".".concat(e)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(e," .").concat(e,"-icon")]:{display:"block"}})}]))},dg=(e,t,n)=>{var r;return"function"===typeof n?n(Jv(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}},hg=(e,t,n,r)=>{const o=Object.assign({},t[e]);if(null===r||void 0===r?void 0:r.deprecatedTokens){const{deprecatedTokens:e}=r;e.forEach((e=>{let[t,n]=e;var r;((null===o||void 0===o?void 0:o[t])||(null===o||void 0===o?void 0:o[n]))&&(null!==(r=o[n])&&void 0!==r||(o[n]=null===o||void 0===o?void 0:o[t]))}))}const i=Object.assign(Object.assign({},n),o);return Object.keys(i).forEach((e=>{i[e]===t[e]&&delete i[e]})),i};function pg(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=Array.isArray(e)?e:[e,e],[a]=i,s=i.join("-");return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[u,c,l,f,d]=hv(),{getPrefixCls:h,iconPrefixCls:p,csp:m}=(0,t.useContext)(ff),v=h(),g=d?"css":"js",y=lg(g),{max:b,min:w}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((e=>kp(e))).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((e=>kp(e))).join(","),")")}}}(g),x={theme:u,token:f,hashId:l,nonce:()=>null===m||void 0===m?void 0:m.nonce,clientOnly:o.clientOnly,layer:{name:"antd"},order:o.order||-999};Jp(Object.assign(Object.assign({},x),{clientOnly:!1,path:["Shared",v]}),(()=>[{"&":Mv(f)}])),fg(p,m);const k=Jp(Object.assign(Object.assign({},x),{path:[s,e,p]}),(()=>{if(!1===o.injectStyle)return[];const{token:t,flush:s}=ng(f),u=dg(a,c,r),h=".".concat(e),m=hg(a,c,u,{deprecatedTokens:o.deprecatedTokens});d&&Object.keys(u).forEach((e=>{u[e]="var(".concat(_p(e,((e,t)=>"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")))(a,d.prefix)),")")}));const g=Jv(t,{componentCls:h,prefixCls:e,iconCls:".".concat(p),antCls:".".concat(v),calc:y,max:b,min:w},d?u:m),x=n(g,{hashId:l,prefixCls:e,rootPrefixCls:v,iconPrefixCls:p});return s(a,m),[!1===o.resetStyle?null:Dv(g,e,i,o.resetFont),x]}));return[k,l]}}const mg=(e,n,r,o)=>{const i=pg(e,n,r,o),a=((e,n,r)=>{function o(t){return"".concat(e).concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}const{unitless:i={},injectStyle:a=!0}=null!==r&&void 0!==r?r:{},s={[o("zIndexPopup")]:!0};Object.keys(i).forEach((e=>{s[o(e)]=i[e]}));const u=t=>{let{rootCls:i,cssVar:a}=t;const[,u]=hv();return tm({path:[e],prefix:a.prefix,key:null===a||void 0===a?void 0:a.key,unitless:Object.assign(Object.assign({},cv),s),ignore:lv,token:u,scope:i},(()=>{const t=dg(e,u,n),i=hg(e,u,t,{deprecatedTokens:null===r||void 0===r?void 0:r.deprecatedTokens});return Object.keys(t).forEach((e=>{i[o(e)]=i[e],delete i[e]})),i})),null};return n=>{const[,,,,r]=hv();return[o=>a&&r?t.createElement(t.Fragment,null,t.createElement(u,{rootCls:n,cssVar:r,component:e}),o):o,null===r||void 0===r?void 0:r.key]}})(Array.isArray(e)?e[0]:e,r,o);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=i(e,t),[r,o]=a(t);return[r,n,o]}},vg=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:o,tooltipBorderRadius:i,zIndexPopup:a,controlHeight:s,boxShadowSecondary:u,paddingSM:c,paddingXS:l}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Nv(e)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o,["".concat(t,"-inner")]:{minWidth:s,minHeight:s,padding:"".concat(kp(e.calc(c).div(2).equal())," ").concat(kp(l)),color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:i,boxShadow:u,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(t,"-inner")]:{borderRadius:e.min(i,xv)}},["".concat(t,"-content")]:{position:"relative"}}),$v(e,((e,n)=>{let{darkColor:r}=n;return{["&".concat(t,"-").concat(e)]:{["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},_v(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},gg=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},kv({contentRadius:e.borderRadius,limitVerticalRadius:!0})),bv(Jv(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),yg=function(e){const t=mg("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,o=Jv(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[vg(o),Kv(e,"zoom-big-fast")]}),gg,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},bg=Yv.map((e=>"".concat(e,"-inverse")));function wg(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?Yv.includes(e):[].concat(If(bg),If(Yv)).includes(e)}(t),r=ql()({["".concat(e,"-").concat(t)]:t&&n}),o={},i={};return t&&!n&&(o.background=t,i["--antd-arrow-background-color"]=t),{className:r,overlayStyle:o,arrowStyle:i}}const xg=e=>{const{prefixCls:n,className:r,placement:o="top",title:i,color:a,overlayInnerStyle:s}=e,{getPrefixCls:u}=t.useContext(ff),c=u("tooltip",n),[l,f,d]=yg(c),h=wg(c,a),p=h.arrowStyle,m=Object.assign(Object.assign({},s),h.overlayStyle),v=ql()(f,d,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(o),r,h.className);return l(t.createElement("div",{className:v,style:p},t.createElement("div",{className:"".concat(c,"-arrow")}),t.createElement(hf,Object.assign({},e,{className:f,prefixCls:c,overlayInnerStyle:m}),i)))};var kg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Sg=t.forwardRef(((e,n)=>{var r,o;const{prefixCls:i,openClassName:a,getTooltipContainer:s,overlayClassName:u,color:c,overlayInnerStyle:l,children:f,afterOpenChange:d,afterVisibleChange:h,destroyTooltipOnHide:p,arrow:m=!0,title:v,overlay:g,builtinPlacements:y,arrowPointAtCenter:b=!1,autoAdjustOverflow:w=!0}=e,x=!!m,[,k]=hv(),{getPopupContainer:S,getPrefixCls:_,direction:E}=t.useContext(ff),C=Rv("Tooltip"),A=t.useRef(null),O=()=>{var e;null===(e=A.current)||void 0===e||e.forceAlign()};t.useImperativeHandle(n,(()=>({forceAlign:O,forcePopupAlign:()=>{C.deprecated(!1,"forcePopupAlign","forceAlign"),O()}})));const[T,R]=of(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),I=!v&&!g&&0!==v,P=t.useMemo((()=>{var e,t;let n=b;return"object"===typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:b),y||Ov({arrowPointAtCenter:n,autoAdjustOverflow:w,arrowWidth:x?k.sizePopupArrow:0,borderRadius:k.borderRadius,offset:k.marginXXS,visibleFirst:!0})}),[b,m,y,k]),N=t.useMemo((()=>0===v?v:g||v||""),[g,v]),M=t.createElement(Pv,null,"function"===typeof N?N():N),{getPopupContainer:D,placement:F="top",mouseEnterDelay:L=.1,mouseLeaveDelay:j=.1,overlayStyle:B,rootClassName:z}=e,U=kg(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),W=_("tooltip",i),H=_(),V=e["data-popover-inject"];let G=T;"open"in e||"visible"in e||!I||(G=!1);const q=t.isValidElement(f)&&!function(e){return e&&t.isValidElement(e)&&e.type===t.Fragment}(f)?f:t.createElement("span",null,f),X=q.props,K=X.className&&"string"!==typeof X.className?X.className:ql()(X.className,a||"".concat(W,"-open")),[Y,$,Z]=yg(W,!V),Q=wg(W,c),J=Q.arrowStyle,ee=Object.assign(Object.assign({},l),Q.overlayStyle),te=ql()(u,{["".concat(W,"-rtl")]:"rtl"===E},Q.className,z,$,Z),[ne,re]=yv("Tooltip",U.zIndex),oe=t.createElement(ep,Object.assign({},U,{zIndex:ne,showArrow:x,placement:F,mouseEnterDelay:L,mouseLeaveDelay:j,prefixCls:W,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},J),B),getTooltipContainer:D||s||S,ref:A,builtinPlacements:P,overlay:M,visible:G,onVisibleChange:t=>{var n,r;R(!I&&t),I||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==d&&void 0!==d?d:h,overlayInnerStyle:ee,arrowContent:t.createElement("span",{className:"".concat(W,"-arrow-content")}),motion:{motionName:cf(H,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),G?lf(q,{className:K}):q);return Y(t.createElement(pv.Provider,{value:re},oe))})),_g=Sg;_g._InternalPanelDoNotUseOrYouWillBeFired=xg;const Eg=_g,Cg=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:o,innerPadding:i,boxShadowSecondary:a,colorTextHeading:s,borderRadiusLG:u,zIndexPopup:c,titleMarginBottom:l,colorBgElevated:f,popoverBg:d,titleBorderBottom:h,innerContentPadding:p,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},Nv(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:u,boxShadow:a,padding:i},["".concat(t,"-title")]:{minWidth:r,marginBottom:l,color:s,fontWeight:o,borderBottom:h,padding:m},["".concat(t,"-inner-content")]:{color:n,padding:p}})},_v(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},Ag=e=>{const{componentCls:t}=e;return{[t]:Yv.map((n=>{const r=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},Og=mg("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=Jv(e,{popoverBg:t,popoverColor:n});return[Cg(r),Ag(r),Kv(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:o,wireframe:i,zIndexPopupBase:a,borderRadiusLG:s,marginXS:u,lineType:c,colorSplit:l,paddingSM:f}=e,d=n-r,h=d/2,p=d/2-t,m=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},bv(e)),kv({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:u,titlePadding:i?"".concat(h,"px ").concat(m,"px ").concat(p,"px"):0,titleBorderBottom:i?"".concat(t,"px ").concat(c," ").concat(l):"none",innerContentPadding:i?"".concat(f,"px ").concat(m,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Tg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Rg=e=>{const{hashId:n,prefixCls:r,className:o,style:i,placement:a="top",title:s,content:u,children:c}=e;return t.createElement("div",{className:ql()(n,r,"".concat(r,"-pure"),"".concat(r,"-placement-").concat(a),o),style:i},t.createElement("div",{className:"".concat(r,"-arrow")}),t.createElement(hf,Object.assign({},e,{className:n,prefixCls:r}),c||((e,n,r)=>n||r?t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(e,"-title")},uf(n)),t.createElement("div",{className:"".concat(e,"-inner-content")},uf(r))):null)(r,s,u)))},Ig=e=>{const{prefixCls:n,className:r}=e,o=Tg(e,["prefixCls","className"]),{getPrefixCls:i}=t.useContext(ff),a=i("popover",n),[s,u,c]=Og(a);return s(t.createElement(Rg,Object.assign({},o,{prefixCls:a,hashId:u,className:ql()(r,c)})))};var Pg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ng=e=>{let{title:n,content:r,prefixCls:o}=e;return t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(o,"-title")},uf(n)),t.createElement("div",{className:"".concat(o,"-inner-content")},uf(r)))},Mg=t.forwardRef(((e,n)=>{var r,o;const{prefixCls:i,title:a,content:s,overlayClassName:u,placement:c="top",trigger:l="hover",children:f,mouseEnterDelay:d=.1,mouseLeaveDelay:h=.1,onOpenChange:p,overlayStyle:m={}}=e,v=Pg(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:g}=t.useContext(ff),y=g("popover",i),[b,w,x]=Og(y),k=g(),S=ql()(u,w,x),[_,E]=of(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),C=(e,t)=>{E(e,!0),null===p||void 0===p||p(e,t)};return b(t.createElement(Eg,Object.assign({placement:c,trigger:l,mouseEnterDelay:d,mouseLeaveDelay:h,overlayStyle:m},v,{prefixCls:y,overlayClassName:S,ref:n,open:_,onOpenChange:e=>{C(e)},overlay:a||s?t.createElement(Ng,{prefixCls:y,title:a,content:s}):null,transitionName:cf(k,"zoom-big",v.transitionName),"data-popover-inject":!0}),lf(f,{onKeyDown:e=>{var n,r;t.isValidElement(f)&&(null===(r=null===f||void 0===f?void 0:(n=f.props).onKeyDown)||void 0===r||r.call(n,e)),(e=>{e.keyCode===sf.ESC&&C(!1,e)})(e)}})))})),Dg=Mg;Dg._InternalPanelDoNotUseOrYouWillBeFired=Ig;const Fg=Dg;var Lg,jg,Bg,zg,Ug;const Wg=Nr.div.attrs({className:"Declarationmodal"})(Lg||(Lg=Fr(["\n    position:absolute;\n    top:0;\n    left:0; \n    width:100%; \n    height:100%; \n    background-color:",";\n    backdrop-filter: blur(5px); \n    -webkit-backdrop-filter: blur(5px);\n    z-index:14;\n"])),(e=>e.theme.modalColor)),Hg=Nr.div.attrs({className:"Declaration"})(jg||(jg=Fr(["\n    user-select:text;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    padding: 10px;\n    background-color: ",";\n    display: flex;\n    /* text-align: center; */\n    flex-direction: column;\n    font-size: larger;\n    border: ",";\n    border-radius: 10px;\n    width: 50vw;\n    height: 70vh;\n    z-index: 2222;\n    @media (max-width: 992px) {\n        width: 90vw;\n        height: 80vh;\n    }\n"])),(e=>e.theme.blurBg),(e=>"1px solid ".concat(e.theme.btnCaptureText))),Vg=Nr.div(Bg||(Bg=Fr(["\n    font-size: clamp(1rem, 2vw, 1.1rem);\n"]))),Gg=Nr.p(zg||(zg=Fr(["\n    font-size: clamp(1rem, 2vw, 1.1rem);\n    margin-bottom: 0.5rem;\n"]))),qg=Nr.th(Ug||(Ug=Fr(["\n    align-content: start;\n    text-align: start;\n    padding-right: 1rem;\n    width: 6rem;\n"]))),Xg=e=>{let{dataSet:n,data:r}=e;const[o,i]=(0,t.useState)("chunchen0118@gmail.com"),{setAnnounce:a}=n,{t:s}=Ks(),u=(0,t.useRef)(null);return(0,tu.jsx)(Wg,{children:(0,tu.jsxs)(Hg,{ref:u,children:[(0,tu.jsx)(Dl,{icon:Ts,style:{right:"1rem",top:"1rem"},onClick:()=>a(!1)}),(0,tu.jsx)("h3",{style:{textAlign:"center",marginBottom:"1rem"},children:s("declaration.announcement")}),(0,tu.jsx)(Gg,{style:{textAlign:"center"}}),(0,tu.jsx)("div",{style:{overflow:"hidden scroll"},children:(0,tu.jsx)("table",{style:{width:"auto"},children:(0,tu.jsxs)("tbody",{children:[(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/7/10"}),(0,tu.jsxs)("td",{children:[s("declaration.content_6"),(0,tu.jsx)("br",{}),(0,tu.jsx)("small",{children:s("declaration.content_6-1")})]})]}),(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/7/4"}),(0,tu.jsx)("td",{children:s("declaration.content_5")})]}),(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/6/24"}),(0,tu.jsx)("td",{children:s("declaration.content_4")})]}),(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/6/6"}),(0,tu.jsx)("td",{children:s("declaration.content_3")})]}),(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/5/20"}),(0,tu.jsx)("td",{children:s("declaration.content_2")})]}),(0,tu.jsxs)("tr",{children:[(0,tu.jsx)(qg,{children:"2024/5/3"}),(0,tu.jsx)("td",{children:s("declaration.content_1")})]})]})})}),(0,tu.jsxs)("div",{style:{width:"100%",marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,tu.jsx)("p",{}),(0,tu.jsx)("span",{style:{marginInline:"0.3rem",fontSize:"medium",textAlign:"center",color:"#00bb99"},children:(e=>e.split("\br").map(((e,t)=>(0,tu.jsx)("p",{style:{marginBottom:"0.5rem"},children:e},t))))(s("declaration.notice"))}),(0,tu.jsx)(Fg,{content:(0,tu.jsx)(Vg,{children:o}),title:"",trigger:"hover",overlayClassName:"custom-popover",children:(0,tu.jsx)(gs,{style:{fontSize:"x-large"},icon:Cs})})]})]})})};var Kg,Yg,$g;const Zg=function(){const[e,n]=(0,t.useState)(!1),r=ze(),o={announce:e,setAnnounce:n};return(0,tu.jsxs)(tu.Fragment,{children:[e&&(0,tu.jsx)(Xg,{dataSet:o,data:e}),(0,tu.jsx)(Qg,{onClick:()=>r(il("switch")),children:(0,tu.jsx)(gs,{style:{fontSize:"1.5rem"},icon:bs})}),(0,tu.jsx)(fl,{}),(0,tu.jsxs)(Jg,{children:[(0,tu.jsx)(Ul,{dataSet:o,data:e}),(0,tu.jsx)(ey,{children:(0,tu.jsx)(de,{})})]})]})},Qg=Nr.nav.attrs({className:"MobileHamburger"})(Kg||(Kg=Fr(["\n    position:absolute;\n    top: 2rem;\n    left: 1rem;\n    display: none;\n    margin-right: 1rem;\n    @media (max-width: 992px) {\n        display: block;\n        z-index: 13;\n    }\n"]))),Jg=Nr.div(Yg||(Yg=Fr(["\n    display: flex;\n    position: relative;\n    height: calc(100vh - 4.5rem);\n    @media (max-width: 992px) {\n            height: 100%;\n    }\n"]))),ey=Nr.div($g||($g=Fr(["\n    overflow: hidden;\n    /* height: calc(100vh - 4rem); */\n    height: 100%;\n    width: 100%;\n    /* height: 100%; */\n"])));var ty=n(2382);const ny=(0,t.createContext)(),ry=e=>{let{children:n}=e;const[r,o]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[s,u]=(0,t.useState)(!1),[c,l]=(0,t.useState)(!1);return(0,tu.jsx)(ny.Provider,{value:{photoSound:r,setPhotoSound:o,smileDetect:i,setSmileDetect:a,postureDetect:s,setPostureDetect:u,voiceDetect:c,setVoiceDetect:l},children:n})},oy=(0,t.createContext)(),iy=e=>{let{children:n}=e;const{photoSound:r}=(0,t.useContext)(ny),{t:o,i18n:i}=Ks(),[a,s]=(0,t.useState)(null),[u,c]=(0,t.useState)("Default Value"),[l,f]=(0,t.useState)(null),[d,h]=(0,t.useState)({ratio:1.77,width:1920,height:1080}),[p,m]=(0,t.useState)({exist:!1,LensState:!0}),[v,g]=(0,t.useState)("general"),[y,b]=(0,t.useState)([]),[w,x]=(0,t.useState)(!1),[k,S]=(0,t.useState)("general"),[_,E]=(0,t.useState)(!0),[C,A]=(0,t.useState)(null),[O,T]=(0,t.useState)(!1),R=(0,t.useRef)(null),I=(0,t.useRef)(null),P=(0,t.useRef)(null),N=(0,t.useRef)(null),M=(0,t.useRef)(null),D=async(e,t)=>{if(!e)try{let e;return e=Pl.Fr?t?await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}):await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1920},height:{ideal:1080}}}):await navigator.mediaDevices.getUserMedia({video:{width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}}),void(e&&(R.current&&(R.current.srcObject=e),s((()=>e))))}catch(n){console.error("Error accessing camera:",n)}},F=(e,t,n,r,o)=>{const a=document.querySelector(e),s=document.createElement("p");s.textContent="zh"===i.language?t:n,s.style.cssText="\n            position: absolute;\n            text-wrap:nowrap;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n            background-color: rgb(130 131 131);\n            padding:0.5rem 1rem;\n            border-radius:5px;\n            z-index:1111;\n        ";const u=a.querySelector("p"),c=setTimeout((()=>{a.removeChild(a.querySelector("p"))}),1e3*r);if(u&&!o&&(a.removeChild(u),clearTimeout(c)),a)return a.appendChild(s),c},L=e=>{new Audio("."+e).play()},[j,B]=(0,t.useState)(null),z=(e,t)=>new Promise(((n,r)=>{const o=e.transaction(["images"],"readwrite").objectStore("images").add({image:t});o.onsuccess=()=>{U(e).then((e=>{})).catch((e=>{console.error("Error fetching images:",e)})),n()},o.onerror=e=>{r(e.target.error)}})),U=e=>new Promise(((t,n)=>{const r=e.transaction(["images"],"readonly").objectStore("images").getAll();r.onsuccess=e=>{t(e.target.result)},r.onerror=e=>{n(e.target.error)}}));return(0,t.useEffect)((()=>{new Promise(((e,t)=>{const n=indexedDB.open("imageDatabase",1);n.onupgradeneeded=e=>{e.target.result.createObjectStore("images",{keyPath:"id",autoIncrement:!0})},n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{t(e.target.error)}})).then((e=>{B(e),U(e).then((e=>{const t=e.reverse();b(t.map((e=>e.image)))}))}))}),[]),(0,tu.jsx)(oy.Provider,{value:{cameraState:a,setCameraState:s,sharedValue:u,setSharedValue:c,mobile:l,setMobile:f,cameraSizeRatio:d,setCameraSizeRatio:h,mobileLens:p,setMobileLens:m,mode:v,setMode:g,capturedImg:y,setCapturedImg:b,reCapture:w,setReCapture:x,imgQuality:k,setImgQuality:S,imgTaking:_,setImgTaking:E,chooseImg:C,setChooseImg:A,fnBtnShow:O,setFnBtnShow:T,videoRef:R,canvasRef:I,getVideoStream:D,turnOffVideoStream:()=>{try{if(!a)return;a.getTracks().forEach((e=>{e.stop()})),R.current&&(R.current.srcObject=null,s(null))}catch(e){console.error("Error turning off camera:",e)}},messageShow:F,handleCaptureImg:(e,t)=>{if(!_)return;if(!a)return void F(".mediaArea","\u8acb\u5148\u958b\u555f\u93e1\u982d","Please turn on the camera lens",2,!1);let n;E(!1),n="general"!==t?e+.6:e;try{if(e>=0)for(let o=e;o>=0;o--){const e=setTimeout((()=>{if(0!==o&&F(".mediaArea",o.toString(),o.toString(),1,!0),0===o&&R.current&&I.current){const n=I.current,o=n.getContext("2d"),i=a.getVideoTracks()[0].getSettings().width,s=a.getVideoTracks()[0].getSettings().height,u={lower:.5,general:1,higher:2}[k];if(n.width=i*u,n.height=s*u,o.save(),Pl.Fr&&p.LensState?(o.scale(1,1),o.translate(0,0)):(o.scale(-1,1),o.translate(-n.width,0)),"general"===t){o.drawImage(R.current,0,0,n.width,n.height),o.restore();const t=n.toDataURL("image/png");x(!0),b([t,...y]),z(j,t),setTimeout((()=>{clearInterval(e),E(!0)}),500),clearInterval(e),A(0),r&&L("/soundEffects/shutterSound.wav")}else if("straight"===t){if(!P.current.style)return;const t=i=>{if(i>=n.height){o.restore();const t=n.toDataURL("image/png");return x(!0),b([t,...y]),z(j,t),setTimeout((()=>{clearInterval(e),E(!0)}),500),clearInterval(e),A(0),r&&L("/soundEffects/shutterSound.wav"),void(P.current&&(P.current.style.height="0",P.current.style.width="0",P.current.style.top="0"))}P.current&&(P.current.style.height="1px",P.current.style.width="100%",P.current.style.top="".concat(i/n.height*100,"%")),Pl.Fr?(o.drawImage(R.current,0,i,n.width,3,0,i,n.width,3),requestAnimationFrame((()=>t(i+3)))):(o.drawImage(R.current,0,i,n.width,1,0,i,n.width,1),requestAnimationFrame((()=>t(i+1))))};t(0)}else if("horizon"===t){if(!P.current.style)return;if(Pl.Fr&&p.LensState){const t=i=>{if(i>=n.width){o.restore();const t=n.toDataURL("image/png");return x(!0),b([t,...y]),z(j,t),setTimeout((()=>{clearInterval(e),E(!0)}),500),clearInterval(e),A(0),r&&L("/soundEffects/shutterSound.wav"),void(P.current&&(P.current.style.height=0,P.current.style.width=0,P.current.style.top=0))}P.current&&(P.current.style.height="100%",P.current.style.width="2px",P.current.style.left="".concat(i/n.width*100,"%")),Pl.Fr&&(o.drawImage(R.current,i,0,3,n.height,i,0,3,n.height),requestAnimationFrame((()=>t(i+3))))};t(0)}else{const t=i=>{if(i<=0){o.restore();const t=n.toDataURL("image/png");return x(!0),b([t,...y]),z(j,t),setTimeout((()=>{clearInterval(e),E(!0)}),500),clearInterval(e),A(0),r&&L("/soundEffects/shutterSound.wav"),void(P.current&&(P.current.style.height=0,P.current.style.width=0,P.current.style.top=0))}P.current&&(P.current.style.height="100%",P.current.style.width="2px",P.current.style.right="".concat(i/n.width*100,"%")),Pl.Fr?(o.drawImage(R.current,i,0,3,n.height,i,0,3,n.height),requestAnimationFrame((()=>t(i-3)))):(o.drawImage(R.current,i,0,1,n.height,i,0,1,n.height),requestAnimationFrame((()=>t(i-1))))};t(n.width)}}}}),1e3*(n-o))}}catch(o){console.log(o)}},recaptureImg:async()=>{x(!1),E(!0),a?(D(a,D.LensState),A(null)):F(".mediaArea","\u8acb\u5148\u958b\u555f\u93e1\u982d","Please turn on the camera lens",2,!1)},progressLineRef:P,getVideoRef:N,turnOffVideoRef:M,db:j,setDb:B,getImages:U,saveImage:z,deleteImage:(e,t)=>new Promise(((n,r)=>{const o=e.transaction(["images"],"readwrite").objectStore("images").delete(t);o.onsuccess=()=>{U(e).then((e=>{const t=e.reverse();b(t.map((e=>e.image)))})),n()},o.onerror=e=>{r(e.target.error)}})),deleteAllImages:e=>new Promise(((t,n)=>{const r=e.transaction(["images"],"readwrite").objectStore("images").clear();r.onsuccess=()=>{U(e).then((e=>{const t=e.reverse();b(t.map((e=>e.image)))})),t()},r.onerror=e=>{n(e.target.error)}}))},children:n})};var ay,sy,uy;const cy=()=>{const{capturedImg:e,chooseImg:n,setChooseImg:r}=(0,t.useContext)(oy),o=(0,t.useRef)(null),i={dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:n,afterChange:e=>r(e)};return(0,t.useEffect)((()=>{var e;e=n,o.current&&o.current.slickGoTo(e)}),[n]),(0,tu.jsx)(fy,{children:(0,tu.jsx)(ty.A,{ref:o,...i,children:e.map(((e,t)=>(0,tu.jsx)(dy,{children:(0,tu.jsx)(hy,{src:e,alt:""})},"CaroulImg"+t)))})})},ly=(0,t.memo)(cy),fy=Nr.div.attrs({className:"CarouseAreaDiv"})(ay||(ay=Fr(["\n    width: 100%;\n    height: 100%;\n    position: relative;\n"]))),dy=Nr.div.attrs({className:"Wrap"})(sy||(sy=Fr(["\n    display: flex !important;\n    align-items: center;\n    height: 100%;\n    /* width: 300px; */\n    outline: none;\n"]))),hy=Nr.img.attrs({className:"CarouseImg"})(uy||(uy=Fr(["\n    /* margin: auto; */\n    transition-duration: 300ms;\n    max-width: 100%;\n\n    &:hover {\n        /* border: 4px solid rgba(249, 249, 249, 0.8); */\n    }\n"])));var py="undefined"!=typeof self?self:{};function my(e){e:{for(var t=["CLOSURE_FLAGS"],n=py,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return null!=(e=t&&t[e])&&e}function vy(){throw Error("Invalid UTF8")}function gy(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}let yy,by;const wy="undefined"!=typeof TextDecoder;let xy;const ky="undefined"!=typeof TextEncoder;function Sy(e){if(ky)e=(xy||(xy=new TextEncoder)).encode(e);else{let n=0;const r=new Uint8Array(3*e.length);for(let o=0;o<e.length;o++){var t=e.charCodeAt(o);if(128>t)r[n++]=t;else{if(2048>t)r[n++]=t>>6|192;else{if(55296<=t&&57343>=t){if(56319>=t&&o<e.length){const i=e.charCodeAt(++o);if(56320<=i&&57343>=i){t=1024*(t-55296)+i-56320+65536,r[n++]=t>>18|240,r[n++]=t>>12&63|128,r[n++]=t>>6&63|128,r[n++]=63&t|128;continue}o--}t=65533}r[n++]=t>>12|224,r[n++]=t>>6&63|128}r[n++]=63&t|128}}e=n===r.length?r:r.subarray(0,n)}return e}var _y,Ey=my(610401301),Cy=my(188588736);const Ay=py.navigator;function Oy(e){return!!Ey&&!!_y&&_y.brands.some((t=>{let{brand:n}=t;return n&&-1!=n.indexOf(e)}))}function Ty(e){var t;return(t=py.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}function Ry(){return!!Ey&&!!_y&&0<_y.brands.length}function Iy(){return Ry()?Oy("Chromium"):(Ty("Chrome")||Ty("CriOS"))&&!(!Ry()&&Ty("Edge"))||Ty("Silk")}function Py(e){return Py[" "](e),e}_y=Ay&&Ay.userAgentData||null,Py[" "]=function(){};var Ny=!Ry()&&(Ty("Trident")||Ty("MSIE"));!Ty("Android")||Iy(),Iy(),Ty("Safari")&&(Iy()||!Ry()&&Ty("Coast")||!Ry()&&Ty("Opera")||!Ry()&&Ty("Edge")||(Ry()?Oy("Microsoft Edge"):Ty("Edg/"))||Ry()&&Oy("Opera"));var My={},Dy=null;function Fy(){if(!Dy){Dy={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));My[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===Dy[i]&&(Dy[i]=o)}}}}var Ly="undefined"!=typeof Uint8Array,jy=!Ny&&"function"==typeof btoa;function By(e){if(!jy){var t;void 0===t&&(t=0),Fy(),t=My[t];var n=Array(Math.floor(e.length/3)),r=t[64]||"";let u=0,c=0;for(;u<e.length-2;u+=3){var o=e[u],i=e[u+1],a=e[u+2],s=t[o>>2];o=t[(3&o)<<4|i>>4],i=t[(15&i)<<2|a>>6],a=t[63&a],n[c++]=s+o+i+a}switch(s=0,a=r,e.length-u){case 2:a=t[(15&(s=e[u+1]))<<2]||r;case 1:e=e[u],n[c]=t[e>>2]+t[(3&e)<<4|s>>4]+a+r}return n.join("")}for(t="",n=0,r=e.length-10240;n<r;)t+=String.fromCharCode.apply(null,e.subarray(n,n+=10240));return t+=String.fromCharCode.apply(null,n?e.subarray(n):e),btoa(t)}const zy=/[-_.]/g,Uy={"-":"+",_:"/",".":"="};function Wy(e){return Uy[e]||""}function Hy(e){if(!jy)return function(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=Dy[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Fy();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[o++]=e})),o!==n?r.subarray(0,o):r}(e);zy.test(e)&&(e=e.replace(zy,Wy)),e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function Vy(e){return Ly&&null!=e&&e instanceof Uint8Array}let Gy;function qy(){return Gy||(Gy=new Uint8Array(0))}var Xy={};let Ky;function Yy(e){if(e!==Xy)throw Error("illegal external caller")}function $y(){return Ky||(Ky=new Qy(null,Xy))}function Zy(e){Yy(Xy);var t=e.g;return null==(t=null==t||Vy(t)?t:"string"==typeof t?Hy(t):null)?t:e.g=t}var Qy=class{constructor(e,t){if(Yy(t),this.g=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}h(){const e=Zy(this);return e?new Uint8Array(e):qy()}};function Jy(e,t){return Error("Invalid wire type: ".concat(e," (at position ").concat(t,")"))}function eb(){return Error("Failed to read varint, encoding is invalid.")}function tb(e,t){return Error("Tried to read past the end of the data ".concat(t," > ").concat(e))}function nb(e){if("string"==typeof e)return{buffer:Hy(e),P:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),P:!1};if(e.constructor===Uint8Array)return{buffer:e,P:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),P:!1};if(e.constructor===Qy)return{buffer:Zy(e)||qy(),P:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),P:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function rb(){return"function"==typeof BigInt}const ob="function"==typeof Uint8Array.prototype.slice;let ib,ab=0,sb=0;function ub(e){const t=0>e;let n=(e=Math.abs(e))>>>0;if(e=Math.floor((e-n)/4294967296),t){const[t,r]=vb(n,e);e=r,n=t}ab=n>>>0,sb=e>>>0}function cb(e){const t=ib||(ib=new DataView(new ArrayBuffer(8)));t.setFloat32(0,+e,!0),sb=0,ab=t.getUint32(0,!0)}function lb(e,t){return 4294967296*t+(e>>>0)}function fb(e,t){const n=2147483648&t;return n&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=lb(e,t),n?-e:e}function db(e,t){if(e>>>=0,2097151>=(t>>>=0))var n=""+(4294967296*t+e);else rb()?n=""+(BigInt(t)<<BigInt(32)|BigInt(e)):(e=(16777215&e)+6777216*(n=16777215&(e>>>24|t<<8))+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),n=t+hb(n)+hb(e));return n}function hb(e){return e=String(e),"0000000".slice(e.length)+e}function pb(){var e=ab,t=sb;if(2147483648&t)if(rb())e=""+(BigInt(0|t)<<BigInt(32)|BigInt(e>>>0));else{const[n,r]=vb(e,t);e="-"+db(n,r)}else e=db(e,t);return e}function mb(e){if(16>e.length)ub(Number(e));else if(rb())e=BigInt(e),ab=Number(e&BigInt(4294967295))>>>0,sb=Number(e>>BigInt(32)&BigInt(4294967295));else{const t=+("-"===e[0]);sb=ab=0;const n=e.length;for(let r=t,o=(n-t)%6+t;o<=n;r=o,o+=6){const t=Number(e.slice(r,o));sb*=1e6,ab=1e6*ab+t,4294967296<=ab&&(sb+=Math.trunc(ab/4294967296),sb>>>=0,ab>>>=0)}if(t){const[e,t]=vb(ab,sb);ab=e,sb=t}}}function vb(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function gb(e,t){let n,r=0,o=0,i=0;const a=e.h;let s=e.g;do{n=a[s++],r|=(127&n)<<i,i+=7}while(32>i&&128&n);for(32<i&&(o|=(127&n)>>4),i=3;32>i&&128&n;i+=7)n=a[s++],o|=(127&n)<<i;if(Eb(e,s),128>n)return t(r>>>0,o>>>0);throw eb()}function yb(e){let t=0,n=e.g;const r=n+10,o=e.h;for(;n<r;){const r=o[n++];if(t|=r,0==(128&r))return Eb(e,n),!!(127&t)}throw eb()}function bb(e){const t=e.h;let n=e.g,r=t[n++],o=127&r;if(128&r&&(r=t[n++],o|=(127&r)<<7,128&r&&(r=t[n++],o|=(127&r)<<14,128&r&&(r=t[n++],o|=(127&r)<<21,128&r&&(r=t[n++],o|=r<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw eb();return Eb(e,n),o}function wb(e){return bb(e)>>>0}function xb(e){var t=e.h;const n=e.g,r=t[n],o=t[n+1],i=t[n+2];return t=t[n+3],Eb(e,e.g+4),(r|o<<8|i<<16|t<<24)>>>0}function kb(e){var t=xb(e);e=2*(t>>31)+1;const n=t>>>23&255;return t&=8388607,255==n?t?NaN:1/0*e:0==n?e*Math.pow(2,-149)*t:e*Math.pow(2,n-150)*(t+Math.pow(2,23))}function Sb(e){return bb(e)}function _b(e,t){let{ca:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.ca=n,t&&(t=nb(t),e.h=t.buffer,e.m=t.P,e.j=0,e.l=e.h.length,e.g=e.j)}function Eb(e,t){if(e.g=t,t>e.l)throw tb(e.l,t)}function Cb(e,t){if(0>t)throw Error("Tried to read a negative byte length: ".concat(t));const n=e.g,r=n+t;if(r>e.l)throw tb(t,e.l-n);return e.g=r,n}function Ab(e,t){if(0==t)return $y();var n=Cb(e,t);return e.ca&&e.m?n=e.h.subarray(n,n+t):(e=e.h,n=n===(t=n+t)?qy():ob?e.slice(n,t):new Uint8Array(e.subarray(n,t))),0==n.length?$y():new Qy(n,Xy)}var Ob=[];function Tb(e){var t=e.g;if(t.g==t.l)return!1;e.l=e.g.g;var n=wb(e.g);if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw Jy(n,e.l);if(1>t)throw Error("Invalid field number: ".concat(t," (at position ").concat(e.l,")"));return e.m=t,e.h=n,!0}function Rb(e){switch(e.h){case 0:0!=e.h?Rb(e):yb(e.g);break;case 1:Eb(e=e.g,e.g+8);break;case 2:if(2!=e.h)Rb(e);else{var t=wb(e.g);Eb(e=e.g,e.g+t)}break;case 5:Eb(e=e.g,e.g+4);break;case 3:for(t=e.m;;){if(!Tb(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.m!=t)throw Error("Unmatched end-group tag");break}Rb(e)}break;default:throw Jy(e.h,e.l)}}function Ib(e,t,n){const r=e.g.l,o=wb(e.g),i=e.g.g+o;let a=i-r;if(0>=a&&(e.g.l=i,n(t,e,void 0,void 0,void 0),a=i-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read ".concat(o," bytes, instead read ").concat(o-a," bytes, either the data ended unexpectedly or the message misreported its own length"));return e.g.g=i,e.g.l=r,t}function Pb(e){var t=wb(e.g),n=Cb(e=e.g,t);if(e=e.h,wy){var r,o=e;(r=by)||(r=by=new TextDecoder("utf-8",{fatal:!0})),t=n+t,o=0===n&&t===o.length?o:o.subarray(n,t);try{var i=r.decode(o)}catch(e){if(void 0===yy){try{r.decode(new Uint8Array([128]))}catch(e){}try{r.decode(new Uint8Array([97])),yy=!0}catch(e){yy=!1}}throw!yy&&(by=void 0),e}}else{t=(i=n)+t,n=[];let s,u=null;for(;i<t;){var a=e[i++];128>a?n.push(a):224>a?i>=t?vy():(s=e[i++],194>a||128!=(192&s)?(i--,vy()):n.push((31&a)<<6|63&s)):240>a?i>=t-1?vy():(s=e[i++],128!=(192&s)||224===a&&160>s||237===a&&160<=s||128!=(192&(r=e[i++]))?(i--,vy()):n.push((15&a)<<12|(63&s)<<6|63&r)):244>=a?i>=t-2?vy():(s=e[i++],128!=(192&s)||0!=s-144+(a<<28)>>30||128!=(192&(r=e[i++]))||128!=(192&(o=e[i++]))?(i--,vy()):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&o,a-=65536,n.push(55296+(a>>10&1023),56320+(1023&a)))):vy(),8192<=n.length&&(u=gy(u,n),n.length=0)}i=gy(u,n)}return i}function Nb(e){const t=wb(e.g);return Ab(e.g,t)}function Mb(e,t,n){var r=wb(e.g);for(r=e.g.g+r;e.g.g<r;)n.push(t(e.g))}var Db=[];function Fb(e){return e?/^\d+$/.test(e)?(mb(e),new Lb(ab,sb)):null:jb||(jb=new Lb(0,0))}var Lb=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let jb;function Bb(e){return e?/^-?\d+$/.test(e)?(mb(e),new zb(ab,sb)):null:Ub||(Ub=new zb(0,0))}var zb=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let Ub;function Wb(e,t,n){for(;0<n||127<t;)e.g.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.g.push(t)}function Hb(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Vb(e,t){if(0<=t)Hb(e,t);else{for(let n=0;9>n;n++)e.g.push(127&t|128),t>>=7;e.g.push(1)}}function Gb(e,t){e.g.push(t>>>0&255),e.g.push(t>>>8&255),e.g.push(t>>>16&255),e.g.push(t>>>24&255)}function qb(e,t){0!==t.length&&(e.l.push(t),e.h+=t.length)}function Xb(e,t,n){Hb(e.g,8*t+n)}function Kb(e,t){return Xb(e,t,2),t=e.g.end(),qb(e,t),t.push(e.h),t}function Yb(e,t){var n=t.pop();for(n=e.h+e.g.length()-n;127<n;)t.push(127&n|128),n>>>=7,e.h++;t.push(n),e.h++}function $b(e,t,n){Xb(e,t,2),Hb(e.g,n.length),qb(e,e.g.end()),qb(e,n)}function Zb(e,t,n,r){null!=n&&(t=Kb(e,t),r(n,e),Yb(e,t))}class Qb{constructor(e,t,n,r){this.g=e,this.h=t,this.l=n,this.pa=r}}function Jb(e){return Array.prototype.slice.call(e)}function ew(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():e}var tw=ew(),nw=ew("0di"),rw=ew("2ex"),ow=ew("0dg"),iw=tw?(e,t)=>{e[tw]|=t}:(e,t)=>{void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}})},aw=tw?(e,t)=>{e[tw]&=~t}:(e,t)=>{void 0!==e.g&&(e.g&=~t)};function sw(e,t,n){return n?e|t:e&~t}var uw=tw?e=>0|e[tw]:e=>0|e.g,cw=tw?e=>e[tw]:e=>e.g,lw=tw?(e,t)=>(e[tw]=t,e):(e,t)=>(void 0!==e.g?e.g=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}),e);function fw(e){return iw(e,34),e}function dw(e,t){lw(t,-14591&e)}function hw(e,t){lw(t,-14557&e|34)}function pw(e){return 0===(e=e>>14&1023)?536870912:e}var mw,vw={},gw={};function yw(e){return!(!e||"object"!=typeof e||e.Ja!==gw)}function bw(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}function ww(e,t,n){if(null!=e)if("string"==typeof e)e=e?new Qy(e,Xy):$y();else if(e.constructor!==Qy)if(Vy(e))e=e.length?new Qy(n?e:new Uint8Array(e),Xy):$y();else{if(!t)throw Error();e=void 0}return e}function xw(e,t,n){if(!Array.isArray(e)||e.length)return!1;const r=uw(e);return!!(1&r)||!(!t||!(Array.isArray(t)?t.includes(n):t.has(n)))&&(lw(e,1|r),!0)}const kw=[];function Sw(e){if(2&e)throw Error()}lw(kw,55),mw=Object.freeze(kw);class _w{constructor(e,t,n){this.l=0,this.g=e,this.h=t,this.m=n}next(){if(this.l<this.g.length){const e=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,e):e}}return{done:!0,value:void 0}}[Symbol.iterator](){return new _w(this.g,this.h,this.m)}}let Ew,Cw,Aw;function Ow(e,t){(t=Ew?t[Ew]:void 0)&&(e[Ew]=Jb(t))}function Tw(e,t){e.__closure__error__context__984382||(e.__closure__error__context__984382={}),e.__closure__error__context__984382.severity=t}function Rw(){const e=Error();Tw(e,"incident"),function(e){py.setTimeout((()=>{throw e}),0)}(e)}function Iw(e){return Tw(e=Error(e),"warning"),e}function Pw(e){return null==e||"number"==typeof e?e:"NaN"===e||"Infinity"===e||"-Infinity"===e?Number(e):void 0}function Nw(e){return null==e||"boolean"==typeof e?e:"number"==typeof e?!!e:void 0}Object.freeze(new class{}),Object.freeze(new class{});const Mw=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Dw(e){const t=typeof e;return"number"===t?Number.isFinite(e):"string"===t&&Mw.test(e)}function Fw(e){if(null==e)return e;if("string"==typeof e){if(!e)return;e=+e}return"number"==typeof e&&Number.isFinite(e)?0|e:void 0}function Lw(e){if(null==e)return e;if("string"==typeof e){if(!e)return;e=+e}return"number"==typeof e&&Number.isFinite(e)?e>>>0:void 0}function jw(e){return"-"!==e[0]&&(20>e.length||20===e.length&&184467>Number(e.substring(0,6)))}function Bw(e){return"-"===e[0]?20>e.length||20===e.length&&-922337<Number(e.substring(0,7)):19>e.length||19===e.length&&922337>Number(e.substring(0,6))}function zw(e){return e=Math.trunc(e),Number.isSafeInteger(e)||(ub(e),e=fb(ab,sb)),e}function Uw(e){var t=Math.trunc(Number(e));return Number.isSafeInteger(t)?String(t):(-1!==(t=e.indexOf("."))&&(e=e.substring(0,t)),Bw(e)||(mb(e),e=pb()),e)}function Ww(e){return null==e?e:Dw(e)?"number"==typeof e?zw(e):Uw(e):void 0}function Hw(e){if("string"!=typeof e)throw Error();return e}function Vw(e){if(null!=e&&"string"!=typeof e)throw Error();return e}function Gw(e){return null==e||"string"==typeof e?e:void 0}function qw(e,t,n,r){if(null!=e&&"object"==typeof e&&e.X===vw)return e;if(!Array.isArray(e))return n?2&r?(e=t[nw])?t=e:(fw((e=new t).s),t=t[nw]=e):t=new t:t=void 0,t;let o=n=uw(e);return 0===o&&(o|=32&r),o|=2&r,o!==n&&lw(e,o),new t(e)}function Xw(e,t,n){if(t){var r=!!r;if(!Dw(t=e))throw Iw("int64");"string"==typeof t?r=Uw(t):r?(r=Math.trunc(t),Number.isSafeInteger(r)?r=String(r):Bw(t=String(r))?r=t:(ub(r),r=pb())):r=zw(t)}else r=Ww(e);return"string"==typeof(n=null==(e=r)?n?0:void 0:e)&&(r=+n,Number.isSafeInteger(r))?r:n}let Kw,Yw,$w;function Zw(e){switch(typeof e){case"boolean":return Yw||(Yw=[0,void 0,!0]);case"number":return 0<e?void 0:0===e?$w||($w=[0,void 0]):[-e,void 0];case"string":return[0,e];case"object":return e}}function Qw(e,t){return Jw(e,t[0],t[1])}function Jw(e,t,n){if(null==e&&(e=Kw),Kw=void 0,null==e){var r=96;n?(e=[n],r|=512):e=[],t&&(r=-16760833&r|(1023&t)<<14)}else{if(!Array.isArray(e))throw Error("narr");if(2048&(r=uw(e)))throw Error("farr");if(64&r)return e;if(r|=64,n&&(r|=512,n!==e[0]))throw Error("mid");e:{const o=(n=e).length;if(o){const e=o-1;if(bw(n[e])){if(1024<=(t=e-(+!!(512&(r|=256))-1)))throw Error("pvtlmt");r=-16760833&r|(1023&t)<<14;break e}}if(t){if(1024<(t=Math.max(t,o-(+!!(512&r)-1))))throw Error("spvt");r=-16760833&r|(1023&t)<<14}}}return lw(e,r),e}const ex={};let tx=function(){try{return Py(new class extends Map{constructor(){super()}}),!1}catch{return!0}}();class nx{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,t){return this.g.set(e,t),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,t){return this.g.forEach(e,t)}[Symbol.iterator](){return this.entries()}}const rx=tx?(Object.setPrototypeOf(nx.prototype,Map.prototype),Object.defineProperties(nx.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),nx):class extends Map{constructor(){super()}};function ox(e){return e}function ix(e){if(2&e.N)throw Error("Cannot mutate an immutable Map")}var ax=class extends rx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ox,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ox;super();let o=uw(e);o|=64,lw(e,o),this.N=o,this.U=t,this.S=n,this.Z=this.U?sx:r;for(let i=0;i<e.length;i++){const a=e[i],s=n(a[0],!1,!0);let u=a[1];t?void 0===u&&(u=null):u=r(a[1],!1,!0,void 0,void 0,o),super.set(s,u)}}oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ux;if(0!==this.size)return this.Y(e)}Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ux;const t=[],n=super.entries();for(var r;!(r=n.next()).done;)(r=r.value)[0]=e(r[0]),r[1]=e(r[1]),t.push(r);return t}clear(){ix(this),super.clear()}delete(e){return ix(this),super.delete(this.S(e,!0,!1))}entries(){var e=this.na();return new _w(e,cx,this)}keys(){return this.Ia()}values(){var e=this.na();return new _w(e,ax.prototype.get,this)}forEach(e,t){super.forEach(((n,r)=>{e.call(t,this.get(r),r,this)}))}set(e,t){return ix(this),null==(e=this.S(e,!0,!1))?this:null==t?(super.delete(e),this):super.set(e,this.Z(t,!0,!0,this.U,!1,this.N))}Oa(e){const t=this.S(e[0],!1,!0);e=e[1],e=this.U?void 0===e?null:e:this.Z(e,!1,!0,void 0,!1,this.N),super.set(t,e)}has(e){return super.has(this.S(e,!1,!1))}get(e){e=this.S(e,!1,!1);const t=super.get(e);if(void 0!==t){var n=this.U;return n?((n=this.Z(t,!1,!0,n,this.ta,this.N))!==t&&super.set(e,n),n):t}}na(){return Array.from(super.keys())}Ia(){return super.keys()}[Symbol.iterator](){return this.entries()}};function sx(e,t,n,r,o,i){return e=qw(e,r,n,i),o&&(e=bx(e)),e}function ux(e){return e}function cx(e){return[e,this.get(e)]}let lx;function fx(){return lx||(lx=new ax(fw([]),void 0,void 0,void 0,ex))}function dx(e,t,n,r,o){if(null!=e){if(Array.isArray(e))e=xw(e,void 0,0)?void 0:o&&2&uw(e)?e:hx(e,t,n,void 0!==r,o);else if(bw(e)){const i={};for(let a in e)i[a]=dx(e[a],t,n,r,o);e=i}else e=t(e,r);return e}}function hx(e,t,n,r,o){const i=r||n?uw(e):0;r=r?!!(32&i):void 0;const a=Jb(e);for(let s=0;s<a.length;s++)a[s]=dx(a[s],t,n,r,o);return n&&(Ow(a,e),n(i,a)),a}function px(e){return dx(e,mx,void 0,void 0,!1)}function mx(e){return e.X===vw?e.toJSON():e instanceof ax?e.oa(px):function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(xw(e,void 0,0))return}else{if(Vy(e))return By(e);if(e instanceof Qy){const t=e.g;return null==t?"":"string"==typeof t?t:e.g=By(t)}if(e instanceof ax)return e.oa()}}return e}(e)}function vx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hw;if(null!=e){if(Ly&&e instanceof Uint8Array)return t?e:new Uint8Array(e);if(Array.isArray(e)){var r=uw(e);return 2&r||(t&&(t=0===r||!!(32&r)&&!(64&r||!(16&r))),e=t?lw(e,-12293&r|34):hx(e,vx,4&r?hw:n,!0,!0)),e}return e.X===vw?(n=e.s,e=2&(r=cw(n))?e:gx(e,n,r,!0)):e instanceof ax&&!(2&e.N)&&(n=fw(e.Y(vx)),e=new ax(n,e.U,e.S,e.Z)),e}}function gx(e,t,n,r){return e=e.constructor,Kw=t=yx(t,n,r),t=new e(t),Kw=void 0,t}function yx(e,t,n){const r=n||2&t?hw:dw,o=!!(32&t);return e=function(e,t,n){const r=Jb(e);var o=r.length;const i=256&t?r[o-1]:void 0;for(o+=i?-1:0,t=512&t?1:0;t<o;t++)r[t]=n(r[t]);if(i){t=r[t]={};for(const e in i)t[e]=n(i[e])}return Ow(r,e),r}(e,t,(e=>vx(e,o,r))),iw(e,32|(n?2:0)),e}function bx(e){const t=e.s,n=cw(t);return 2&n?gx(e,t,n,!1):e}function wx(e,t,n,r){return!(4&t)||null!=n&&(!r&&0===n&&(4096&t||8192&t)&&5>(e.constructor[ow]=1+(0|e.constructor[ow]))&&Rw(),0!==n&&!(n&t))}function xx(e,t){return Sx(e=e.s,cw(e),t)}function kx(e,t,n,r){if(!(0>(t=r+(+!!(512&t)-1))||t>=e.length||t>=n))return e[t]}function Sx(e,t,n,r){if(-1===n)return null;const o=pw(t);if(!(n>=o)){var i,a=e.length;return r&&256&t&&null!=(r=e[a-1][n])?(kx(e,t,o,n)&&null!=rw&&(4<=(t=(e=null!==(i=Aw)&&void 0!==i?i:Aw={})[rw]||0)||(e[rw]=t+1,Rw())),r):kx(e,t,o,n)}return 256&t?e[e.length-1][n]:void 0}function _x(e,t,n,r){const o=e.s;let i=cw(o);return Sw(i),Ex(o,i,t,n,r),e}function Ex(e,t,n,r,o){const i=pw(t);if(n>=i||o){let a=t;if(256&t)o=e[e.length-1];else{if(null==r)return a;o=e[i+(+!!(512&t)-1)]={},a|=256}return o[n]=r,n<i&&(e[n+(+!!(512&t)-1)]=void 0),a!==t&&lw(e,a),a}return e[n+(+!!(512&t)-1)]=r,256&t&&n in(e=e[e.length-1])&&delete e[n],t}function Cx(e,t,n,r,o){var i=2&t;let a=Sx(e,t,n,o);Array.isArray(a)||(a=mw);const s=!(2&r);r=!(1&r);const u=!!(32&t);let c=uw(a);return 0!==c||!u||i||s?1&c||(c|=1,lw(a,c)):(c|=33,lw(a,c)),i?(e=!1,2&c||(fw(a),e=!!(4&c)),(r||e)&&Object.freeze(a)):(i=!!(2&c)||!!(2048&c),r&&i?(a=Jb(a),r=1,u&&!s&&(r|=32),lw(a,r),Ex(e,t,n,a,o)):s&&32&c&&!i&&aw(a,32)),a}function Ax(e,t){e=e.s;let n=cw(e);const r=Sx(e,n,t),o=Pw(r);return null!=o&&o!==r&&Ex(e,n,t,o),o}function Ox(e){e=e.s;let t=cw(e);const n=Sx(e,t,1),r=ww(n,!0,!!(34&t));return null!=r&&r!==n&&Ex(e,t,1,r),r}function Tx(e,t,n){const r=e.s;let o=cw(r);const i=2&o?1:2;let a=Rx(r,o,t);var s=uw(a);if(wx(e,s,void 0,!1)){(4&s||Object.isFrozen(a))&&(a=Jb(a),s=Xx(s,o),o=Ex(r,o,t,a));let i=e=0;for(;e<a.length;e++){const t=n(a[e]);null!=t&&(a[i++]=t)}i<e&&(a.length=i),s=sw(s=Ix(s,o),20,!0),s=sw(s,4096,!1),s=sw(s,8192,!1),lw(a,s),2&s&&Object.freeze(a)}return Px(s)||(n=s,(s=(e=1===i||4===i&&!!(32&s))?sw(s,2,!0):Kx(s,o,!1))!==n&&lw(a,s),e&&Object.freeze(a)),2===i&&Px(s)&&(a=Jb(a),s=Kx(s=Xx(s,o),o,!1),lw(a,s),Ex(r,o,t,a)),a}function Rx(e,t,n){return e=Sx(e,t,n),Array.isArray(e)?e:mw}function Ix(e,t){return 0===e&&(e=Xx(e,t)),sw(e,1,!0)}function Px(e){return!!(2&e)&&!!(4&e)||!!(2048&e)}function Nx(e){e=Jb(e);for(let t=0;t<e.length;t++){const n=e[t]=Jb(e[t]);Array.isArray(n[1])&&(n[1]=fw(n[1]))}return e}function Mx(e,t,n){{const s=e.s;let u=cw(s);if(Sw(u),null==n)Ex(s,u,t);else{var r,o=uw(n),i=o,a=!!(2&o)||Object.isFrozen(n);if((r=!a)&&(r=!1),wx(e,o))for(o=21,a&&(n=Jb(n),i=0,o=Kx(o=Xx(o,u),u,!0)),e=0;e<n.length;e++)n[e]=Hw(n[e]);r&&(n=Jb(n),i=0,o=Kx(o=Xx(o,u),u,!0)),o!==i&&lw(n,o),Ex(s,u,t,n)}}}function Dx(e,t,n,r){e=e.s;let o=cw(e);Sw(o),Ex(e,o,t,("0"===r?0===Number(n):n===r)?void 0:n)}function Fx(e,t,n,r){const o=cw(e);Sw(o),e=Cx(e,o,t,2),r=n(r,!!(4&(t=uw(e)))&&!!(4096&t)),e.push(r)}function Lx(e){return e}function jx(e,t){return Bx(e=e.s,cw(e),N_)===t?t:-1}function Bx(e,t,n){let r=0;for(let o=0;o<n.length;o++){const i=n[o];null!=Sx(e,t,i)&&(0!==r&&(t=Ex(e,t,r)),r=i)}return r}function zx(e,t,n,r){let o=cw(e);Sw(o);const i=Sx(e,o,n,r);let a;if(null!=i&&i.X===vw)return(t=bx(i))!==i&&Ex(e,o,n,t,r),t.s;if(Array.isArray(i)){const e=uw(i);a=2&e?yx(i,e,!1):i,a=Qw(a,t)}else a=Qw(void 0,t);return a!==i&&Ex(e,o,n,a,r),a}function Ux(e,t,n,r){e=e.s;let o=cw(e);const i=Sx(e,o,n,r);return(t=qw(i,t,!1,o))!==i&&null!=t&&Ex(e,o,n,t,r),t}function Wx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==(t=Ux(e,t,n,r)))return t;e=e.s;let o=cw(e);if(!(2&o)){const i=bx(t);i!==t&&Ex(e,o,n,t=i,r)}return t}function Hx(e,t,n,r,o,i){var a=2,s=!!(2&t);a=s?1:a,o=!!o,i&&(i=!s),s=Rx(e,t,r);var u=uw(s);const c=!!(4&u);if(!c){var l=s,f=t;const e=!!(2&(u=Ix(u,t)));e&&(f=sw(f,2,!0));let r=!e,o=!0,i=0,a=0;for(;i<l.length;i++){const t=qw(l[i],n,!1,f);if(t instanceof n){if(!e){const e=!!(2&uw(t.s));r&&(r=!e),o&&(o=e)}l[a++]=t}}a<i&&(l.length=a),u=sw(u,4,!0),u=sw(u,16,o),u=sw(u,8,r),lw(l,u),e&&Object.freeze(l)}if(i&&!(8&u||!s.length&&(1===a||4===a&&32&u))){for(Px(u)&&(s=Jb(s),u=Xx(u,t),t=Ex(e,t,r,s)),n=s,i=u,l=0;l<n.length;l++)(u=n[l])!==(f=bx(u))&&(n[l]=f);i=sw(i,8,!0),i=sw(i,16,!n.length),lw(n,i),u=i}return Px(u)||(n=u,(u=(i=1===a||4===a&&!!(32&u))?sw(u,!s.length||16&u&&(!c||32&u)?2:2048,!0):Kx(u,t,o))!==n&&lw(s,u),i&&Object.freeze(s)),2===a&&Px(u)&&(s=Jb(s),u=Kx(u=Xx(u,t),t,o),lw(s,u),Ex(e,t,r,s)),s}function Vx(e,t,n){e=e.s;const r=cw(e);return Hx(e,r,t,n,!1,!(2&r))}function Gx(e,t,n,r,o){return null==r&&(r=void 0),_x(e,n,r,o)}function qx(e,t,n,r){null==r&&(r=void 0),e=e.s;let o=cw(e);Sw(o),(n=Bx(e,o,n))&&n!==t&&null!=r&&(o=Ex(e,o,n)),Ex(e,o,t,r)}function Xx(e,t){return e=sw(e,2,!!(2&t)),e=sw(e,32,!0),sw(e,2048,!1)}function Kx(e,t,n){return 32&t&&n||(e=sw(e,32,!1)),e}function Yx(e,t,n,r){e=e.s;const o=cw(e);Sw(o),t=Hx(e,o,n,t,!0),n=null!=r?r:new n,t.push(n),2&uw(n.s)?aw(t,8):aw(t,16)}function $x(e,t){return Fw(xx(e,t))}function Zx(e,t){return null!==e&&void 0!==e?e:t}function Qx(e,t){return Zx(Ax(e,t),0)}function Jx(e,t){return Zx(Gw(xx(e,t)),"")}function ek(e,t,n){if(null!=n&&"boolean"!=typeof n)throw e=typeof n,Error("Expected boolean but got ".concat("object"!=e?e:n?Array.isArray(n)?"array":e:"null",": ").concat(n));_x(e,t,n)}function tk(e,t,n){if(null!=n){if("number"!=typeof n)throw Iw("int32");if(!Number.isFinite(n))throw Iw("int32");n|=0}_x(e,t,n)}function nk(e,t,n){if(null!=n&&"number"!=typeof n)throw Error("Value of float/double field must be a number, found ".concat(typeof n,": ").concat(n));_x(e,t,n)}function rk(e,t,n){t.g?t.m(e,t.g,t.h,n,!0):t.m(e,t.h,n,!0)}ax.prototype.toJSON=void 0,ax.prototype.Ja=gw;var ok=class{constructor(e,t){this.s=Jw(e,t)}toJSON(){return ik(this,hx(this.s,mx,void 0,void 0,!1),!0)}l(){var e=FE;return e.g?e.l(this,e.g,e.h,!0):e.l(this,e.h,e.defaultValue,!0)}clone(){const e=this.s;return gx(this,e,cw(e),!1)}P(){return!!(2&uw(this.s))}};function ik(e,t,n){var r=Cy?void 0:e.constructor.B;const o=cw(n?e.s:t);if(!(e=t.length))return t;let i,a;if(bw(n=t[e-1])){e:{var s=n;let e={},t=!1;for(var u in s){let n=s[u];if(Array.isArray(n)){let e=n;(xw(n,r,+u)||yw(n)&&0===n.size)&&(n=null),n!=e&&(t=!0)}null!=n?e[u]=n:t=!0}if(t){for(var c in e){s=e;break e}s=null}}s!=n&&(i=!0),e--}for(u=+!!(512&o)-1;0<e&&(n=t[c=e-1],c-=u,null==n||xw(n,r,c)||yw(n)&&0===n.size);e--)a=!0;return i||a?(t=Array.prototype.slice.call(t,0,e),s&&t.push(s),t):t}function ak(e){return Array.isArray(e)?e[0]instanceof Qb?e:[sS,e]:[e,void 0]}function sk(e,t){if(Array.isArray(t)){var n=uw(t);if(4&n)return t;for(var r=0,o=0;r<t.length;r++){const n=e(t[r]);null!=n&&(t[o++]=n)}return o<r&&(t.length=o),lw(t,-12289&n|5),2&n&&Object.freeze(t),t}}ok.prototype.X=vw,ok.prototype.toString=function(){return ik(this,this.s,!1).toString()};const uk=Symbol();function ck(e){let t=e[uk];if(!t){const n=gk(e),r=Tk(e),o=r.l;t=o?(e,t)=>o(e,t,r):(e,t)=>{for(;Tb(t)&&4!=t.h;){var o=t.m,i=r[o];if(!i){var a=r.ea;a&&(a=a[o])&&(i=r[o]=lk(a))}i&&i(t,e,o)||(o=(i=t).l,Rb(i),i.ia?i=void 0:(a=i.g.g-o,i.g.g=o,i=Ab(i.g,a)),o=e,i&&(Ew||(Ew=Symbol()),(a=o[Ew])?a.push(i):o[Ew]=[i]))}n===dk||n===hk||n.j||(e[Cw||(Cw=Symbol())]=n)},e[uk]=t}return t}function lk(e){const t=(e=ak(e))[0].g;if(e=e[1]){const n=ck(e),r=Tk(e).T;return(e,o,i)=>t(e,o,i,r,n)}return t}class fk{}let dk,hk;const pk=Symbol();function mk(e,t,n){const r=n[1];let o;if(r){const n=r[pk];o=n?n.T:Zw(r[0]),e[t]=null!==n&&void 0!==n?n:r}o&&o===Yw?(e.g||(e.g=new Set)).add(t):n[0]&&(e.h||(e.h=new Set)).add(t)}function vk(e,t){return[e.l,!t||0<t[0]?void 0:t]}function gk(e){var t=e[pk];if(t)return t;if(!(t=bk(e,e[pk]=new fk,vk,vk,mk)).ea&&!t.h&&!t.g){let n=!0;for(let e in t)isNaN(e)||(n=!1);n?(Zw(e[0])===Yw?hk?t=hk:((t=new fk).T=Zw(!0),t=hk=t):t=dk||(dk=new fk),t=e[pk]=t):t.j=!0}return t}function yk(e,t,n){e[t]=n}function bk(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yk;t.T=Zw(e[0]);let i=0;var a=e[++i];a&&a.constructor===Object&&(t.ea=a,"function"==typeof(a=e[++i])&&(t.l=a,t.m=e[++i],a=e[++i]));const s={};for(;Array.isArray(a)&&"number"==typeof a[0]&&0<a[0];){for(var u=0;u<a.length;u++)s[a[u]]=a;a=e[++i]}for(u=1;void 0!==a;){let f;"number"==typeof a&&(u+=a,a=e[++i]);var c=void 0;if(a instanceof Qb?f=a:(f=uS,i--),f.pa){a=e[++i],c=e;var l=i;"function"==typeof a&&(a=a(),c[l]=a),c=a}for(l=u+1,"number"==typeof(a=e[++i])&&0>a&&(l-=a,a=e[++i]);u<l;u++){const e=s[u];o(t,u,c?r(f,c,e):n(f,e))}}return t}const wk=Symbol();function xk(e){let t=e[wk];if(!t){const n=Ek(e);t=(e,t)=>Pk(e,t,n),e[wk]=t}return t}const kk=Symbol();function Sk(e){return e.h}function _k(e,t){let n,r;const o=e.h;return(e,i,a)=>o(e,i,a,r||(r=Ek(t).T),n||(n=xk(t)))}function Ek(e){let t=e[kk];return t||(t=bk(e,e[kk]={},Sk,_k),Rk(e),t)}const Ck=Symbol();function Ak(e,t){const n=e.g;return t?(e,r,o)=>n(e,r,o,t):n}function Ok(e,t,n){const r=e.g;let o,i;return(e,a,s)=>r(e,a,s,i||(i=Tk(t).T),o||(o=ck(t)),n)}function Tk(e){let t=e[Ck];return t||(gk(e),t=bk(e,e[Ck]={},Ak,Ok),Rk(e),t)}function Rk(e){Ck in e&&pk in e&&kk in e&&(e.length=0)}function Ik(e,t){var n=e[t];if(n)return n;if((n=e.ea)&&(n=n[t])){var r=(n=ak(n))[0].h;if(n=n[1]){const t=xk(n),o=Ek(n).T;n=(n=e.m)?n(o,t):(e,n,i)=>r(e,n,i,o,t)}else n=r;return e[t]=n}}function Pk(e,t,n){for(var r=cw(e),o=+!!(512&r)-1,i=e.length,a=512&r?1:0,s=i+(256&r?-1:0);a<s;a++){const r=e[a];if(null==r)continue;const i=a-o,s=Ik(n,i);s&&s(t,r,i)}if(256&r){r=e[i-1];for(let e in r)o=+e,Number.isNaN(o)||null!=(i=r[e])&&(s=Ik(n,o))&&s(t,i,o)}if(e=Ew?e[Ew]:void 0)for(qb(t,t.g.end()),n=0;n<e.length;n++)qb(t,Zy(e[n])||qy())}function Nk(e,t){return new Qb(e,t,!1,!1)}function Mk(e,t){return new Qb(e,t,!0,!1)}function Dk(e,t){return new Qb(e,t,!1,!0)}function Fk(e,t,n){Ex(e,cw(e),t,n)}var Lk=Dk((function(e,t,n,r,o){return 2===e.h&&(e=Ib(e,Qw([void 0,void 0],r),o),Sw(r=cw(t)),(o=Sx(t,r,n))instanceof ax?0!=(2&o.N)?((o=o.Y()).push(e),Ex(t,r,n,o)):o.Oa(e):Array.isArray(o)?(2&uw(o)&&Ex(t,r,n,o=Nx(o)),o.push(e)):Ex(t,r,n,[e]),!0)}),(function(e,t,n,r,o){if(t instanceof ax)t.forEach(((t,i)=>{Zb(e,n,Qw([i,t],r),o)}));else if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Array.isArray(a)&&Zb(e,n,Qw(a,r),o)}}));function jk(e,t,n){e:if(null!=t){if(Dw(t)){if("string"==typeof t){t=Uw(t);break e}if("number"==typeof t){t=zw(t);break e}}t=void 0}null!=t&&("string"==typeof t&&Bb(t),null!=t&&(Xb(e,n,0),"number"==typeof t?(e=e.g,ub(t),Wb(e,ab,sb)):(n=Bb(t),Wb(e.g,n.h,n.g))))}function Bk(e,t,n){null!=(t=Fw(t))&&null!=t&&(Xb(e,n,0),Vb(e.g,t))}function zk(e,t,n){null!=(t=Nw(t))&&(Xb(e,n,0),e.g.g.push(t?1:0))}function Uk(e,t,n){null!=(t=Gw(t))&&$b(e,n,Sy(t))}function Wk(e,t,n,r,o){Zb(e,n,t instanceof ok?t.s:Array.isArray(t)?Qw(t,r):void 0,o)}function Hk(e,t,n){null!=(t=null==t||"string"==typeof t||Vy(t)||t instanceof Qy?t:void 0)&&$b(e,n,nb(t).buffer)}function Vk(e,t,n){return(5===e.h||2===e.h)&&(t=Cx(t,cw(t),n,2,!1),2==e.h?Mb(e,kb,t):t.push(kb(e.g)),!0)}var Gk,qk=Nk((function(e,t,n){if(1!==e.h)return!1;var r=e.g;e=xb(r);const o=xb(r);r=2*(o>>31)+1;const i=o>>>20&2047;return e=4294967296*(1048575&o)+e,Fk(t,n,2047==i?e?NaN:1/0*r:0==i?r*Math.pow(2,-1074)*e:r*Math.pow(2,i-1075)*(e+4503599627370496)),!0}),(function(e,t,n){null!=(t=Pw(t))&&(Xb(e,n,1),e=e.g,(n=ib||(ib=new DataView(new ArrayBuffer(8)))).setFloat64(0,+t,!0),ab=n.getUint32(0,!0),sb=n.getUint32(4,!0),Gb(e,ab),Gb(e,sb))})),Xk=Nk((function(e,t,n){return 5===e.h&&(Fk(t,n,kb(e.g)),!0)}),(function(e,t,n){null!=(t=Pw(t))&&(Xb(e,n,5),e=e.g,cb(t),Gb(e,ab))})),Kk=Mk(Vk,(function(e,t,n){if(null!=(t=sk(Pw,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&(Xb(r,o,5),r=r.g,cb(i),Gb(r,ab))}})),Yk=Mk(Vk,(function(e,t,n){if(null!=(t=sk(Pw,t))&&t.length){Xb(e,n,2),Hb(e.g,4*t.length);for(let r=0;r<t.length;r++)n=e.g,cb(t[r]),Gb(n,ab)}})),$k=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,gb(e.g,fb)),!0)}),jk),Zk=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,0===(e=gb(e.g,fb))?void 0:e),!0)}),jk),Qk=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,gb(e.g,lb)),!0)}),(function(e,t,n){e:if(null!=t){if(Dw(t)){if("string"==typeof t){var r=Math.trunc(Number(t));Number.isSafeInteger(r)&&0<=r?t=String(r):(-1!==(r=t.indexOf("."))&&(t=t.substring(0,r)),jw(t)||(mb(t),t=db(ab,sb)));break e}if("number"==typeof t){t=0<=(t=Math.trunc(t))&&Number.isSafeInteger(t)?t:function(e){if(0>e){ub(e);const t=db(ab,sb);return e=Number(t),Number.isSafeInteger(e)?e:t}return jw(String(e))?e:(ub(e),lb(ab,sb))}(t);break e}}t=void 0}null!=t&&("string"==typeof t&&Fb(t),null!=t&&(Xb(e,n,0),"number"==typeof t?(e=e.g,ub(t),Wb(e,ab,sb)):(n=Fb(t),Wb(e.g,n.h,n.g))))})),Jk=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,bb(e.g)),!0)}),Bk),eS=Mk((function(e,t,n){return(0===e.h||2===e.h)&&(t=Cx(t,cw(t),n,2,!1),2==e.h?Mb(e,bb,t):t.push(bb(e.g)),!0)}),(function(e,t,n){if(null!=(t=sk(Fw,t))&&t.length){n=Kb(e,n);for(let n=0;n<t.length;n++)Vb(e.g,t[n]);Yb(e,n)}})),tS=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,0===(e=bb(e.g))?void 0:e),!0)}),Bk),nS=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,yb(e.g)),!0)}),zk),rS=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,!1===(e=yb(e.g))?void 0:e),!0)}),zk),oS=Mk((function(e,t,n){return 2===e.h&&(Fx(t,n,Lx,e=Pb(e)),!0)}),(function(e,t,n){if(null!=(t=sk(Gw,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&$b(r,o,Sy(i))}})),iS=Nk((function(e,t,n){return 2===e.h&&(Fk(t,n,""===(e=Pb(e))?void 0:e),!0)}),Uk),aS=Nk((function(e,t,n){return 2===e.h&&(Fk(t,n,Pb(e)),!0)}),Uk),sS=Dk((function(e,t,n,r,o){return 2===e.h&&(Ib(e,zx(t,r,n,!0),o),!0)}),Wk),uS=Dk((function(e,t,n,r,o){return 2===e.h&&(Ib(e,zx(t,r,n),o),!0)}),Wk);Gk=new Qb((function(e,t,n,r,o){if(2!==e.h)return!1;r=Qw(void 0,r);let i=cw(t);Sw(i);let a=Cx(t,i,n,3);return i=cw(t),4&uw(a)&&(a=Jb(a),lw(a,-2079&uw(a)|1),Ex(t,i,n,a)),a.push(r),Ib(e,r,o),!0}),(function(e,t,n,r,o){if(Array.isArray(t))for(let i=0;i<t.length;i++)Wk(e,t[i],n,r,o)}),!0,!0);var cS=Dk((function(e,t,n,r,o,i){if(2!==e.h)return!1;let a=cw(t);return Sw(a),(i=Bx(t,a,i))&&n!==i&&Ex(t,a,i),Ib(e,t=zx(t,r,n),o),!0}),Wk),lS=Nk((function(e,t,n){return 2===e.h&&(Fk(t,n,Nb(e)),!0)}),Hk),fS=Mk((function(e,t,n){return(0===e.h||2===e.h)&&(t=Cx(t,cw(t),n,2,!1),2==e.h?Mb(e,wb,t):t.push(wb(e.g)),!0)}),(function(e,t,n){if(null!=(t=sk(Lw,t)))for(let a=0;a<t.length;a++){var r=e,o=n,i=t[a];null!=i&&(Xb(r,o,0),Hb(r.g,i))}})),dS=Nk((function(e,t,n){return 0===e.h&&(Fk(t,n,bb(e.g)),!0)}),(function(e,t,n){null!=(t=Fw(t))&&(t=parseInt(t,10),Xb(e,n,0),Vb(e.g,t))})),hS=Mk((function(e,t,n){return(0===e.h||2===e.h)&&(t=Cx(t,cw(t),n,2,!1),2==e.h?Mb(e,Sb,t):t.push(bb(e.g)),!0)}),(function(e,t,n){if(null!=(t=sk(Fw,t))&&t.length){n=Kb(e,n);for(let n=0;n<t.length;n++)Vb(e.g,t[n]);Yb(e,n)}}));class pS{constructor(e,t){this.h=e,this.g=t,this.l=Wx,this.m=Gx,this.defaultValue=void 0}}function mS(e,t){return new pS(e,t)}function vS(e,t){return(n,r)=>{if(Db.length){const e=Db.pop();e.o(r),_b(e.g,n,r),n=e}else n=new class{constructor(e,t){if(Ob.length){const n=Ob.pop();_b(n,e,t),e=n}else e=new class{constructor(e,t){this.h=null,this.m=!1,this.g=this.l=this.j=0,_b(this,e,t)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ca=!1}}(e,t);this.g=e,this.l=this.g.g,this.h=this.m=-1,this.o(t)}o(){let{ia:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ia=e}}(n,r);try{const r=new e,i=r.s;ck(t)(i,n);var o=r}finally{n.g.clear(),n.m=-1,n.h=-1,100>Db.length&&Db.push(n)}return o}}function gS(e){return function(){const t=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const e=this.g;return this.g=[],e}}}};Pk(this.s,t,Ek(e)),qb(t,t.g.end());const n=new Uint8Array(t.h),r=t.l,o=r.length;let i=0;for(let e=0;e<o;e++){const t=r[e];n.set(t,i),i+=t.length}return t.l=[n],n}}var yS=class extends ok{constructor(e){super(e)}},bS=[0,iS,Nk((function(e,t,n){return 2===e.h&&(Fk(t,n,(e=Nb(e))===$y()?void 0:e),!0)}),(function(e,t,n){if(null!=t){if(t instanceof ok){const r=t.Qa;return void(r&&(t=r(t),null!=t&&$b(e,n,nb(t).buffer)))}if(Array.isArray(t))return}Hk(e,t,n)}))],wS=[0,aS],xS=[0,Jk,dS,nS,-1,eS,dS,-1],kS=[0,nS,-1],SS=class extends ok{constructor(){super()}};SS.B=[6];var _S=[0,nS,aS,nS,dS,-1,hS,aS,-1,kS,dS],ES=[0,aS,-2],CS=class extends ok{constructor(){super()}},AS=[0],OS=[0,Jk,nS,-4],TS=class extends ok{constructor(e){super(e,2)}},RS={},IS=[-2,RS,nS];RS[336783863]=[0,aS,nS,-1,Jk,[0,[1,2,3,4,5,6],cS,AS,cS,_S,cS,ES,cS,OS,cS,xS,cS,[0,aS]],wS,nS,[0,[1,3],[2,4],cS,[0,eS],-1,cS,[0,oS],-1,Gk,[0,aS,-1]],aS];var PS=[0,iS,rS],NS=[0,Zk,-1,rS,-3,Zk,eS,iS,tS,Zk,-1,rS,tS,rS,-2,iS],MS=[-1,{}],DS=[0,aS,1,MS],FS=[0,aS,oS,MS];function LS(e,t){Dx(e,2,Vw(t),"")}function jS(e,t){Fx(e.s,3,Hw,t)}function BS(e,t){Fx(e.s,4,Hw,t)}var zS=class extends ok{constructor(e){super(e,500)}o(e){return Gx(this,0,7,e)}};zS.B=[3,4,5,6,8,13,17,1005];var US=[-500,iS,-1,oS,-3,IS,Gk,bS,tS,-1,DS,FS,Gk,PS,iS,NS,tS,oS,987,oS],WS=[0,iS,-1,MS],HS=[-500,aS,-1,[-1,{}],998,aS],VS=[-500,aS,oS,-1,[-2,{},nS],997,oS,-1],GS=[-500,aS,oS,MS,998,oS];function qS(e,t){Yx(e,1,zS,t)}function XS(e,t){Fx(e.s,10,Hw,t)}function KS(e,t){Fx(e.s,15,Hw,t)}var YS=class extends ok{constructor(e){super(e,500)}o(e){return Gx(this,0,1001,e)}};YS.B=[1,6,7,9,10,15,16,17,14,1002];var $S=[-500,Gk,US,4,Gk,HS,Gk,VS,tS,Gk,GS,oS,tS,DS,FS,Gk,WS,oS,-2,NS,iS,-1,rS,979,MS,Gk,bS],ZS=vS(YS,$S);YS.prototype.g=gS($S);var QS=[0,Gk,[0,Jk,-2]],JS=class extends ok{constructor(e){super(e)}},e_=[0,Jk,Xk,aS,-1],t_=class extends ok{constructor(e){super(e)}g(){return Vx(this,JS,1)}};t_.B=[1];var n_=[0,Gk,e_],r_=vS(t_,n_),o_=[0,Jk,Xk],i_=[0,Jk,-1,QS],a_=class extends ok{constructor(e){super(e)}},s_=[0,Jk,-3],u_=[0,Xk,-3],c_=class extends ok{constructor(e){super(e)}},l_=[0,Xk,-1,aS,Xk],f_=class extends ok{constructor(e){super(e)}h(){return Wx(this,a_,2)}g(){return Vx(this,c_,5)}};f_.B=[5];var d_=[0,dS,s_,u_,i_,Gk,l_],h_=class extends ok{constructor(e){super(e)}};h_.B=[1,2,3,8,9];var p_=vS(h_,[0,oS,eS,Yk,d_,aS,-1,$k,Gk,o_,oS,$k]),m_=class extends ok{constructor(e){super(e)}},v_=[0,Xk,-4],g_=class extends ok{constructor(e){super(e)}};g_.B=[1];var y_=vS(g_,[0,Gk,v_]),b_=class extends ok{constructor(e){super(e)}},w_=[0,Xk,-4],x_=class extends ok{constructor(e){super(e)}};x_.B=[1];var k_=vS(x_,[0,Gk,w_]),S_=class extends ok{constructor(e){super(e)}};S_.B=[3];var __=[0,Jk,-1,Yk,dS],E_=class extends ok{constructor(){super()}};E_.prototype.g=gS([0,Xk,-4,$k]);var C_=class extends ok{constructor(e){super(e)}},A_=[0,1,Jk,aS,n_],O_=class extends ok{constructor(e){super(e)}};O_.B=[1];var T_=vS(O_,[0,Gk,A_,$k]),R_=class extends ok{constructor(e){super(e)}};R_.B=[1];var I_=class extends ok{constructor(e){super(e)}qa(){const e=Ox(this);return null==e?$y():e}},P_=class extends ok{constructor(e){super(e)}},N_=[1,2],M_=[0,N_,cS,[0,Yk],cS,[0,lS],Jk,aS],D_=class extends ok{constructor(e){super(e)}};D_.B=[1];var F_=vS(D_,[0,Gk,M_,$k]),L_=class extends ok{constructor(e){super(e)}};L_.B=[4,5];var j_=[0,aS,Jk,Xk,oS,-1],B_=class extends ok{constructor(e){super(e)}},z_=[0,nS,-1],U_=class extends ok{constructor(e){super(e)}},W_=[1,2,3,4,5],H_=class extends ok{constructor(e){super(e)}g(){return null!=Ox(this)}h(){return null!=Gw(xx(this,2))}},V_=[0,lS,aS,[0,Jk,$k,-1],[0,Qk,$k]],G_=class extends ok{constructor(e){super(e)}g(){var e;return null!==(e=Nw(xx(this,2)))&&void 0!==e&&e}},q_=[0,V_,nS,[0,W_,cS,OS,cS,_S,cS,xS,cS,AS,cS,ES],dS],X_=class extends ok{constructor(e){super(e)}},K_=[0,q_,Xk,-1,Jk],Y_=mS(502141897,X_);RS[502141897]=K_;var $_=[0,V_];RS[512499200]=$_;var Z_=[0,$_];RS[515723506]=Z_;var Q_=vS(class extends ok{constructor(e){super(e)}},[0,[0,dS,-1,Kk,fS],__]),J_=[0,q_];RS[508981768]=J_;var eE=class extends ok{constructor(e){super(e)}},tE=[0,q_,Xk,J_,nS],nE=class extends ok{constructor(e){super(e)}},rE=[0,q_,K_,tE,Xk,Z_];RS[508968149]=tE;var oE=mS(508968150,nE);RS[508968150]=rE;var iE=class extends ok{constructor(e){super(e)}},aE=mS(513916220,iE);RS[513916220]=[0,q_,rE,Jk];var sE=class extends ok{constructor(e){super(e)}h(){return Wx(this,L_,2)}g(){_x(this,2)}},uE=[0,q_,j_];RS[478825465]=uE;var cE=[0,q_];RS[478825422]=cE;var lE=class extends ok{constructor(e){super(e)}},fE=[0,q_,cE,uE,-1],dE=class extends ok{constructor(e){super(e)}},hE=[0,q_,Xk,Jk],pE=class extends ok{constructor(e){super(e)}},mE=[0,q_,Xk],vE=class extends ok{constructor(e){super(e)}},gE=[0,q_,hE,mE,Xk],yE=class extends ok{constructor(e){super(e)}},bE=[0,q_,gE,fE];RS[463370452]=fE,RS[464864288]=hE,RS[474472470]=mE;var wE=mS(462713202,vE);RS[462713202]=gE;var xE=mS(479097054,yE);RS[479097054]=bE;var kE=class extends ok{constructor(e){super(e)}},SE=[0,q_],_E=class extends ok{constructor(e){super(e)}},EE=[0,q_,Xk,-1,Jk];RS[514774813]=EE;var CE=class extends ok{constructor(e){super(e)}},AE=[0,q_,Xk,nS];RS[518928384]=AE;var OE=class extends ok{constructor(){super()}};OE.prototype.g=gS([0,q_,mE,SE,K_,tE,EE,AE]);var TE=class extends ok{constructor(e){super(e)}},RE=mS(456383383,TE);RS[456383383]=[0,q_,j_];var IE=class extends ok{constructor(e){super(e)}},PE=mS(476348187,IE);RS[476348187]=[0,q_,z_];var NE=class extends ok{constructor(e){super(e)}},ME=[0,dS,-1],DE=class extends ok{constructor(e){super(e)}};DE.B=[3];var FE=mS(458105876,class extends ok{constructor(e){super(e)}g(){var e=this.s;const t=cw(e);var n=2&t;return e=function(e,t,n){var r=DE;const o=2&t;let i=!1;if(null==n){if(o)return fx();n=[]}else if(n.constructor===ax){if(0==(2&n.N)||o)return n;n=n.Y()}else Array.isArray(n)?i=!!(2&uw(n)):n=[];if(o){if(!n.length)return fx();i||(i=!0,fw(n))}else i&&(i=!1,n=Nx(n));return i||(64&uw(n)?aw(n,32):32&t&&iw(n,32)),Ex(e,t,2,r=new ax(n,r,Xw,void 0),!1),r}(e,t,Sx(e,t,2)),null==e||!n&&DE&&(e.ta=!0),e}});RS[458105876]=[0,ME,Lk,[!0,$k,[0,aS,-1,oS]]];var LE=class extends ok{constructor(e){super(e)}},jE=mS(458105758,LE);RS[458105758]=[0,q_,aS,ME];var BE=class extends ok{constructor(e){super(e)}};BE.B=[5,6];var zE=mS(443442058,BE);RS[443442058]=[0,q_,aS,Jk,Xk,oS,-1];var UE=class extends ok{constructor(e){super(e)}},WE=mS(516587230,UE);function HE(e,t){return t=t?t.clone():new L_,void 0!==e.displayNamesLocale?_x(t,1,Vw(e.displayNamesLocale)):void 0===e.displayNamesLocale&&_x(t,1),void 0!==e.maxResults?tk(t,2,e.maxResults):"maxResults"in e&&_x(t,2),void 0!==e.scoreThreshold?nk(t,3,e.scoreThreshold):"scoreThreshold"in e&&_x(t,3),void 0!==e.categoryAllowlist?Mx(t,4,e.categoryAllowlist):"categoryAllowlist"in e&&_x(t,4),void 0!==e.categoryDenylist?Mx(t,5,e.categoryDenylist):"categoryDenylist"in e&&_x(t,5),t}function VE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{categories:e.map((e=>{var t,n,r,o;return{index:null!==(t=Zx($x(e,1),0))&&void 0!==t?t:-1,score:null!==(n=Qx(e,2))&&void 0!==n?n:0,categoryName:null!==(r=Jx(e,3))&&void 0!==r?r:"",displayName:null!==(o=Jx(e,4))&&void 0!==o?o:""}})),headIndex:t,headName:n}}function GE(e){var t,n,r,o,i,a,s=Tx(e,3,Pw),u=Tx(e,2,Fw),c=Tx(e,1,Gw),l=Tx(e,9,Gw);const f={categories:[],keypoints:[]};for(let b=0;b<s.length;b++){var d,h,p;f.categories.push({score:s[b],index:null!==(d=u[b])&&void 0!==d?d:-1,categoryName:null!==(h=c[b])&&void 0!==h?h:"",displayName:null!==(p=l[b])&&void 0!==p?p:""})}if((s=null===(t=Wx(e,f_,4))||void 0===t?void 0:t.h())&&(f.boundingBox={originX:null!==(n=$x(s,1))&&void 0!==n?n:0,originY:null!==(r=$x(s,2))&&void 0!==r?r:0,width:null!==(o=$x(s,3))&&void 0!==o?o:0,height:null!==(i=$x(s,4))&&void 0!==i?i:0,angle:0}),null!==(a=Wx(e,f_,4))&&void 0!==a&&a.g().length)for(const b of Wx(e,f_,4).g()){var m,v,g,y;f.keypoints.push({x:null!==(m=Ax(b,1))&&void 0!==m?m:0,y:null!==(v=Ax(b,2))&&void 0!==v?v:0,score:null!==(g=Ax(b,4))&&void 0!==g?g:0,label:null!==(y=Gw(xx(b,3)))&&void 0!==y?y:""})}return f}function qE(e){const t=[];for(const a of Vx(e,b_,1)){var n,r,o,i;t.push({x:null!==(n=Qx(a,1))&&void 0!==n?n:0,y:null!==(r=Qx(a,2))&&void 0!==r?r:0,z:null!==(o=Qx(a,3))&&void 0!==o?o:0,visibility:null!==(i=Qx(a,4))&&void 0!==i?i:0})}return t}function XE(e){const t=[];for(const a of Vx(e,m_,1)){var n,r,o,i;t.push({x:null!==(n=Qx(a,1))&&void 0!==n?n:0,y:null!==(r=Qx(a,2))&&void 0!==r?r:0,z:null!==(o=Qx(a,3))&&void 0!==o?o:0,visibility:null!==(i=Qx(a,4))&&void 0!==i?i:0})}return t}function KE(e){return Array.from(e,(e=>127<e?e-256:e))}function YE(e,t){if(e.length!==t.length)throw Error("Cannot compute cosine similarity between embeddings of different sizes (".concat(e.length," vs. ").concat(t.length,")."));let n=0,r=0,o=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i],r+=e[i]*e[i],o+=t[i]*t[i];if(0>=r||0>=o)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(r*o)}let $E;RS[516587230]=[0,q_,EE,AE,Xk];const ZE=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function QE(){if(void 0===$E)try{await WebAssembly.instantiate(ZE),$E=!0}catch{$E=!1}return $E}async function JE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=await QE()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:"".concat(t,"/").concat(e,"_").concat(n,".js"),wasmBinaryPath:"".concat(t,"/").concat(e,"_").concat(n,".wasm")}}var eC=class{};function tC(){var e=navigator;return"undefined"!=typeof OffscreenCanvas&&(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")}(e)||!!((e=e.userAgent.match(/Version\/([\d]+).*Safari/))&&1<=e.length&&17<=Number(e[1])))}async function nC(e){if("function"!=typeof importScripts){const t=document.createElement("script");return t.src=e.toString(),t.crossOrigin="anonymous",new Promise(((e,n)=>{t.addEventListener("load",(()=>{e()}),!1),t.addEventListener("error",(e=>{n(e)}),!1),document.body.appendChild(t)}))}importScripts(e.toString())}function rC(e){return void 0!==e.videoWidth?[e.videoWidth,e.videoHeight]:void 0!==e.naturalWidth?[e.naturalWidth,e.naturalHeight]:void 0!==e.displayWidth?[e.displayWidth,e.displayHeight]:[e.width,e.height]}function oC(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(t=e.i.stringToNewUTF8(t)),e.i._free(t)}function iC(e,t,n){if(!e.i.canvas)throw Error("No OpenGL canvas configured.");if(n?e.i._bindTextureToStream(n):e.i._bindTextureToCanvas(),!(n=e.i.canvas.getContext("webgl2")||e.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const[r,o]=rC(t);return!e.l||r===e.i.canvas.width&&o===e.i.canvas.height||(e.i.canvas.width=r,e.i.canvas.height=o),[r,o]}function aC(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(t.length);for(let o=0;o<t.length;o++)r[o]=e.i.stringToNewUTF8(t[o]);t=e.i._malloc(4*r.length),e.i.HEAPU32.set(r,t>>2),n(t);for(const o of r)e.i._free(o);e.i._free(t)}function sC(e,t,n){e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=n}function uC(e,t,n){let r=[];e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=(e,t,o)=>{t?(n(r,o),r=[]):r.push(e)}}function cC(e,t){const n=Wx(e.baseOptions,H_,1)||new H_;"string"==typeof t?(_x(n,2,Vw(t)),_x(n,1)):t instanceof Uint8Array&&(_x(n,1,ww(t,!1,!1)),_x(n,2)),Gx(e.baseOptions,0,1,n)}function lC(e){try{const t=e.K.length;if(1===t)throw Error(e.K[0].message);if(1<t)throw Error("Encountered multiple errors: "+e.K.map((e=>e.message)).join(", "))}finally{e.K=[]}}function fC(e,t){e.J=Math.max(e.J,t)}function dC(e,t){e.C=new zS,LS(e.C,"PassThroughCalculator"),jS(e.C,"free_memory"),BS(e.C,"free_memory_unused_out"),XS(t,"free_memory"),qS(t,e.C)}function hC(e,t){jS(e.C,t),BS(e.C,t+"_unused_out")}function pC(e){e.g.addBoolToStream(!0,"free_memory",e.J)}eC.forVisionTasks=function(e){return JE("vision",e)},eC.forTextTasks=function(e){return JE("text",e)},eC.forGenAiExperimentalTasks=function(e){return JE("genai_experimental",e)},eC.forGenAiTasks=function(e){return JE("genai",e)},eC.forAudioTasks=function(e){return JE("audio",e)},eC.isSimdSupported=function(){return QE()};var mC=class{constructor(e){this.g=e,this.K=[],this.J=0,this.g.setAutoRenderToScreen(!1)}l(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var t,n,r,o,i,a;const s=e.baseOptions||{};if(null!==(t=e.baseOptions)&&void 0!==t&&t.modelAssetBuffer&&null!==(n=e.baseOptions)&&void 0!==n&&n.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(null!==(r=Wx(this.baseOptions,H_,1))&&void 0!==r&&r.g()||null!==(o=Wx(this.baseOptions,H_,1))&&void 0!==o&&o.h()||null!==(i=e.baseOptions)&&void 0!==i&&i.modelAssetBuffer||null!==(a=e.baseOptions)&&void 0!==a&&a.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(e,t){let n=Wx(e.baseOptions,U_,3);if(!n){var r=n=new U_,o=new CS;qx(r,4,W_,o)}"delegate"in t&&("GPU"===t.delegate?(t=n,r=new SS,qx(t,2,W_,r)):(t=n,r=new CS,qx(t,4,W_,r))),Gx(e.baseOptions,0,3,n)}(this,s),s.modelAssetPath)return fetch(s.modelAssetPath.toString()).then((e=>{if(e.ok)return e.arrayBuffer();throw Error("Failed to fetch model: ".concat(s.modelAssetPath," (").concat(e.status,")"))})).then((e=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(e),!0,!1,!1),cC(this,"/model.dat"),this.m(),this.L()}));if(s.modelAssetBuffer instanceof Uint8Array)cC(this,s.modelAssetBuffer);else if(s.modelAssetBuffer)return async function(e){const t=[];for(var n=0;;){const{done:r,value:o}=await e.read();if(r)break;t.push(o),n+=o.length}if(0===t.length)return new Uint8Array(0);if(1===t.length)return t[0];e=new Uint8Array(n),n=0;for(const r of t)e.set(r,n),n+=r.length;return e}(s.modelAssetBuffer).then((e=>{cC(this,e),this.m(),this.L()}))}return this.m(),this.L(),Promise.resolve()}L(){}fa(){let e;if(this.g.fa((t=>{e=ZS(t)})),!e)throw Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.g.attachErrorListener(((e,t)=>{this.K.push(Error(t))})),this.g.Ma(),this.g.setGraph(e,t),this.C=void 0,lC(this)}finishProcessing(){this.g.finishProcessing(),lC(this)}close(){this.C=void 0,this.g.closeGraph()}};function vC(e,t){if(!e)throw Error("Unable to obtain required WebGL resource: ".concat(t));return e}mC.prototype.close=mC.prototype.close,function(e,t){e=e.split(".");var n,r=py;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}("TaskRunner",mC);class gC{constructor(e,t,n,r){this.g=e,this.h=t,this.m=n,this.l=r}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function yC(e,t,n){const r=e.g;if(n=vC(r.createShader(n),"Failed to create WebGL shader"),r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error("Could not compile WebGL shader: ".concat(r.getShaderInfoLog(n)));return r.attachShader(e.h,n),n}function bC(e,t){const n=e.g,r=vC(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(r);const o=vC(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,o),n.enableVertexAttribArray(e.K),n.vertexAttribPointer(e.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);const i=vC(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,i),n.enableVertexAttribArray(e.J),n.vertexAttribPointer(e.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(t?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new gC(n,r,o,i)}function wC(e,t){if(e.g){if(t!==e.g)throw Error("Cannot change GL context once initialized")}else e.g=t}function xC(e,t,n,r){return wC(e,t),e.h||(e.m(),e.D()),n?(e.v||(e.v=bC(e,!0)),n=e.v):(e.A||(e.A=bC(e,!1)),n=e.A),t.useProgram(e.h),n.bind(),e.l(),e=r(),n.g.bindVertexArray(null),e}function kC(e,t,n){return wC(e,t),e=vC(t.createTexture(),"Failed to create texture"),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,null!==n&&void 0!==n?n:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,null!==n&&void 0!==n?n:t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e}function SC(e,t,n){wC(e,t),e.u||(e.u=vC(t.createFramebuffer(),"Failed to create framebuffe.")),t.bindFramebuffer(t.FRAMEBUFFER,e.u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}function _C(e){var t;null===(t=e.g)||void 0===t||t.bindFramebuffer(e.g.FRAMEBUFFER,null)}var EC=class{H(){return"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n  void main() {\n    gl_FragColor = texture2D(inputTexture, vTex);\n  }\n "}m(){const e=this.g;if(this.h=vC(e.createProgram(),"Failed to create WebGL program"),this.ba=yC(this,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",e.VERTEX_SHADER),this.aa=yC(this,this.H(),e.FRAGMENT_SHADER),e.linkProgram(this.h),!e.getProgramParameter(this.h,e.LINK_STATUS))throw Error("Error during program linking: ".concat(e.getProgramInfoLog(this.h)));this.K=e.getAttribLocation(this.h,"aVertex"),this.J=e.getAttribLocation(this.h,"aTex")}D(){}l(){}close(){if(this.h){const e=this.g;e.deleteProgram(this.h),e.deleteShader(this.ba),e.deleteShader(this.aa)}this.u&&this.g.deleteFramebuffer(this.u),this.A&&this.A.close(),this.v&&this.v.close()}},CC=class extends EC{H(){return"\n  precision mediump float;\n  uniform sampler2D backgroundTexture;\n  uniform sampler2D maskTexture;\n  uniform sampler2D colorMappingTexture;\n  varying vec2 vTex;\n  void main() {\n    vec4 backgroundColor = texture2D(backgroundTexture, vTex);\n    float category = texture2D(maskTexture, vTex).r;\n    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));\n    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);\n  }\n "}D(){const e=this.g;e.activeTexture(e.TEXTURE1),this.C=kC(this,e,e.LINEAR),e.activeTexture(e.TEXTURE2),this.j=kC(this,e,e.NEAREST)}m(){super.m();const e=this.g;this.M=vC(e.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.V=vC(e.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.L=vC(e.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const e=this.g;e.uniform1i(this.L,0),e.uniform1i(this.M,1),e.uniform1i(this.V,2)}close(){this.C&&this.g.deleteTexture(this.C),this.j&&this.g.deleteTexture(this.j),super.close()}},AC=class extends EC{H(){return"\n  precision mediump float;\n  uniform sampler2D maskTexture;\n  uniform sampler2D defaultTexture;\n  uniform sampler2D overlayTexture;\n  varying vec2 vTex;\n  void main() {\n    float confidence = texture2D(maskTexture, vTex).r;\n    vec4 defaultColor = texture2D(defaultTexture, vTex);\n    vec4 overlayColor = texture2D(overlayTexture, vTex);\n    // Apply the alpha from the overlay and merge in the default color\n    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);\n    gl_FragColor = mix(defaultColor, overlayColor, confidence);\n  }\n "}D(){const e=this.g;e.activeTexture(e.TEXTURE1),this.j=kC(this,e),e.activeTexture(e.TEXTURE2),this.C=kC(this,e)}m(){super.m();const e=this.g;this.L=vC(e.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.M=vC(e.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.I=vC(e.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const e=this.g;e.uniform1i(this.I,0),e.uniform1i(this.L,1),e.uniform1i(this.M,2)}close(){this.j&&this.g.deleteTexture(this.j),this.C&&this.g.deleteTexture(this.C),super.close()}};function OC(e,t){switch(t){case 0:return e.g.find((e=>e instanceof Uint8Array));case 1:return e.g.find((e=>e instanceof Float32Array));case 2:return e.g.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw Error("Type is not supported: ".concat(t))}}function TC(e){var t=OC(e,1);if(!t){if(t=OC(e,0))t=new Float32Array(t).map((e=>e/255));else{t=new Float32Array(e.width*e.height);const r=IC(e);var n=NC(e);if(SC(n,r,RC(e)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in self.document){n=new Float32Array(e.width*e.height*4),r.readPixels(0,0,e.width,e.height,r.RGBA,r.FLOAT,n);for(let e=0,r=0;e<t.length;++e,r+=4)t[e]=n[r]}else r.readPixels(0,0,e.width,e.height,r.RED,r.FLOAT,t)}e.g.push(t)}return t}function RC(e){let t=OC(e,2);if(!t){const n=IC(e);t=MC(e);const r=TC(e),o=PC(e);n.texImage2D(n.TEXTURE_2D,0,o,e.width,e.height,0,n.RED,n.FLOAT,r),DC(e)}return t}function IC(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=vC(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function PC(e){if(e=IC(e),!FC)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))FC=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");FC=e.R16F}return FC}function NC(e){return e.l||(e.l=new EC),e.l}function MC(e){const t=IC(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let n=OC(e,2);return n||(n=kC(NC(e),t,e.m?t.LINEAR:t.NEAREST),e.g.push(n),e.j=!0),t.bindTexture(t.TEXTURE_2D,n),n}function DC(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}var FC,LC=class{constructor(e,t,n,r,o,i,a){this.g=e,this.m=t,this.j=n,this.canvas=r,this.l=o,this.width=i,this.height=a,this.j&&0===--jC&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Ha(){return!!OC(this,0)}la(){return!!OC(this,1)}R(){return!!OC(this,2)}ka(){return(e=OC(this,0))||(e=TC(this),e=new Uint8Array(e.map((e=>255*e))),this.g.push(e)),e;var e}ja(){return TC(this)}O(){return RC(this)}clone(){const e=[];for(const t of this.g){let n;if(t instanceof Uint8Array)n=new Uint8Array(t);else if(t instanceof Float32Array)n=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw Error("Type is not supported: ".concat(t));{const e=IC(this),t=NC(this);e.activeTexture(e.TEXTURE1),n=kC(t,e,this.m?e.LINEAR:e.NEAREST),e.bindTexture(e.TEXTURE_2D,n);const r=PC(this);e.texImage2D(e.TEXTURE_2D,0,r,this.width,this.height,0,e.RED,e.FLOAT,null),e.bindTexture(e.TEXTURE_2D,null),SC(t,e,n),xC(t,e,!1,(()=>{MC(this),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),DC(this)})),_C(t),DC(this)}}e.push(n)}return new LC(e,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&IC(this).deleteTexture(OC(this,2)),jC=-1}};LC.prototype.close=LC.prototype.close,LC.prototype.clone=LC.prototype.clone,LC.prototype.getAsWebGLTexture=LC.prototype.O,LC.prototype.getAsFloat32Array=LC.prototype.ja,LC.prototype.getAsUint8Array=LC.prototype.ka,LC.prototype.hasWebGLTexture=LC.prototype.R,LC.prototype.hasFloat32Array=LC.prototype.la,LC.prototype.hasUint8Array=LC.prototype.Ha;var jC=250;const BC={color:"white",lineWidth:4,radius:6};function zC(e){return{...BC,fillColor:(e=e||{}).color,...e}}function UC(e,t){return e instanceof Function?e(t):e}function WC(e,t,n){return Math.max(Math.min(t,n),Math.min(Math.max(t,n),e))}function HC(e){if(!e.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return e.l}function VC(e){if(!e.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return e.j}function GC(e,t,n){if(t.R())n(t.O());else{var r;const o=t.la()?t.ja():t.ka();e.m=null!==(r=e.m)&&void 0!==r?r:new EC;const i=VC(e);n((e=new LC([o],t.m,!1,i.canvas,e.m,t.width,t.height)).O()),e.close()}}function qC(e,t,n,r){const o=function(e){return e.g||(e.g=new CC),e.g}(e),i=VC(e),a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;xC(o,i,!0,(()=>{!function(e,t,n,r){const o=e.g;if(o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,e.C),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n),e.I&&function(e,t){if(e!==t)return!1;e=e.entries(),t=t.entries();for(const[r,o]of e){e=r;const i=o;var n=t.next();if(n.done)return!1;const[a,s]=n.value;if(n=s,e!==a||i[0]!==n[0]||i[1]!==n[1]||i[2]!==n[2]||i[3]!==n[3])return!1}return!!t.next().done}(e.I,r))o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,e.j);else{e.I=r;const t=Array(1024).fill(0);r.forEach(((e,n)=>{if(4!==e.length)throw Error("Color at index ".concat(n," is not a four-channel value."));t[4*n]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]})),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,e.j),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,256,1,0,o.RGBA,o.UNSIGNED_BYTE,new Uint8Array(t))}}(o,t,a,r),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4);const e=o.g;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,null)}))}function XC(e,t,n,r){const o=VC(e),i=function(e){return e.h||(e.h=new AC),e.h}(e),a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n,s=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r;xC(i,o,!0,(()=>{var e=i.g;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i.j),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,i.C),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),o.bindTexture(o.TEXTURE_2D,null),(e=i.g).activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,null)}))}var KC=class{constructor(e,t){e instanceof CanvasRenderingContext2D||e instanceof OffscreenCanvasRenderingContext2D?(this.l=e,this.j=t):this.j=e}Aa(e,t){if(e){var n=HC(this);t=zC(t),n.save();var r=n.canvas,o=0;for(const i of e)n.fillStyle=UC(t.fillColor,{index:o,from:i}),n.strokeStyle=UC(t.color,{index:o,from:i}),n.lineWidth=UC(t.lineWidth,{index:o,from:i}),(e=new Path2D).arc(i.x*r.width,i.y*r.height,UC(t.radius,{index:o,from:i}),0,2*Math.PI),n.fill(e),n.stroke(e),++o;n.restore()}}za(e,t,n){if(e&&t){var r=HC(this);n=zC(n),r.save();var o=r.canvas,i=0;for(const a of t){r.beginPath(),t=e[a.start];const s=e[a.end];t&&s&&(r.strokeStyle=UC(n.color,{index:i,from:t,to:s}),r.lineWidth=UC(n.lineWidth,{index:i,from:t,to:s}),r.moveTo(t.x*o.width,t.y*o.height),r.lineTo(s.x*o.width,s.y*o.height)),++i,r.stroke()}r.restore()}}wa(e,t){const n=HC(this);t=zC(t),n.save(),n.beginPath(),n.lineWidth=UC(t.lineWidth,{}),n.strokeStyle=UC(t.color,{}),n.fillStyle=UC(t.fillColor,{}),n.moveTo(e.originX,e.originY),n.lineTo(e.originX+e.width,e.originY),n.lineTo(e.originX+e.width,e.originY+e.height),n.lineTo(e.originX,e.originY+e.height),n.lineTo(e.originX,e.originY),n.stroke(),n.fill(),n.restore()}xa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,255];this.l?function(e,t,n,r){const o=VC(e);GC(e,t,(t=>{qC(e,t,n,r),(t=HC(e)).drawImage(o.canvas,0,0,t.canvas.width,t.canvas.height)}))}(this,e,n,t):qC(this,e.O(),n,t)}ya(e,t,n){this.l?function(e,t,n,r){const o=VC(e);GC(e,t,(t=>{XC(e,t,n,r),(t=HC(e)).drawImage(o.canvas,0,0,t.canvas.width,t.canvas.height)}))}(this,e,t,n):XC(this,e.O(),t,n)}close(){var e,t,n;null!==(e=this.g)&&void 0!==e&&e.close(),this.g=void 0,null!==(t=this.h)&&void 0!==t&&t.close(),this.h=void 0,null!==(n=this.m)&&void 0!==n&&n.close(),this.m=void 0}};function YC(e,t){switch(t){case 0:return e.g.find((e=>e instanceof ImageData));case 1:return e.g.find((e=>"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap));case 2:return e.g.find((e=>"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture));default:throw Error("Type is not supported: ".concat(t))}}function $C(e){var t=YC(e,0);if(!t){t=QC(e);const n=JC(e),r=new Uint8Array(e.width*e.height*4);SC(n,t,ZC(e)),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),_C(n),t=new ImageData(new Uint8ClampedArray(r.buffer),e.width,e.height),e.g.push(t)}return t}function ZC(e){let t=YC(e,2);if(!t){const n=QC(e);t=eA(e);const r=YC(e,1)||$C(e);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),tA(e)}return t}function QC(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return e.h||(e.h=vC(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function JC(e){return e.l||(e.l=new EC),e.l}function eA(e){const t=QC(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let n=YC(e,2);return n||(n=kC(JC(e),t),e.g.push(n),e.m=!0),t.bindTexture(t.TEXTURE_2D,n),n}function tA(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}function nA(e){const t=QC(e);return xC(JC(e),t,!0,(()=>function(e,t){const n=e.canvas;if(n.width===e.width&&n.height===e.height)return t();const r=n.width,o=n.height;return n.width=e.width,n.height=e.height,e=t(),n.width=r,n.height=o,e}(e,(()=>{if(t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLE_FAN,0,4),!(e.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return e.canvas.transferToImageBitmap()}))))}KC.prototype.close=KC.prototype.close,KC.prototype.drawConfidenceMask=KC.prototype.ya,KC.prototype.drawCategoryMask=KC.prototype.xa,KC.prototype.drawBoundingBox=KC.prototype.wa,KC.prototype.drawConnectors=KC.prototype.za,KC.prototype.drawLandmarks=KC.prototype.Aa,KC.lerp=function(e,t,n,r,o){return WC(r*(1-(e-t)/(n-t))+o*(1-(n-e)/(n-t)),r,o)},KC.clamp=WC;var rA=class{constructor(e,t,n,r,o,i,a){this.g=e,this.j=t,this.m=n,this.canvas=r,this.l=o,this.width=i,this.height=a,(this.j||this.m)&&0===--oA&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ga(){return!!YC(this,0)}ma(){return!!YC(this,1)}R(){return!!YC(this,2)}Ea(){return $C(this)}Da(){var e=YC(this,1);return e||(ZC(this),eA(this),e=nA(this),tA(this),this.g.push(e),this.j=!0),e}O(){return ZC(this)}clone(){const e=[];for(const t of this.g){let n;if(t instanceof ImageData)n=new ImageData(t.data,this.width,this.height);else if(t instanceof WebGLTexture){const e=QC(this),t=JC(this);e.activeTexture(e.TEXTURE1),n=kC(t,e),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null),SC(t,e,n),xC(t,e,!1,(()=>{eA(this),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),tA(this)})),_C(t),tA(this)}else{if(!(t instanceof ImageBitmap))throw Error("Type is not supported: ".concat(t));ZC(this),eA(this),n=nA(this),tA(this)}e.push(n)}return new rA(e,this.ma(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&YC(this,1).close(),this.m&&QC(this).deleteTexture(YC(this,2)),oA=-1}};rA.prototype.close=rA.prototype.close,rA.prototype.clone=rA.prototype.clone,rA.prototype.getAsWebGLTexture=rA.prototype.O,rA.prototype.getAsImageBitmap=rA.prototype.Da,rA.prototype.getAsImageData=rA.prototype.Ea,rA.prototype.hasWebGLTexture=rA.prototype.R,rA.prototype.hasImageBitmap=rA.prototype.ma,rA.prototype.hasImageData=rA.prototype.Ga;var oA=250;function iA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>{let[t,n]=e;return{start:t,end:n}}))}const aA=function(e){return class extends e{Ma(){this.i._registerModelResourcesGraphService()}}}((sA=class{constructor(e,t){this.l=!0,this.i=e,this.g=null,this.h=0,this.m="function"==typeof this.i._addIntToInputStream,void 0!==t?this.i.canvas=t:tC()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(e){const t=await(await fetch(e)).arrayBuffer();e=!(e.endsWith(".pbtxt")||e.endsWith(".textproto")),this.setGraph(new Uint8Array(t),e)}setGraphFromString(e){this.setGraph((new TextEncoder).encode(e),!1)}setGraph(e,t){const n=e.length,r=this.i._malloc(n);this.i.HEAPU8.set(e,r),t?this.i._changeBinaryGraph(n,r):this.i._changeTextGraph(n,r),this.i._free(r)}configureAudio(e,t,n,r,o){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),oC(this,r||"input_audio",(r=>{oC(this,o=o||"audio_header",(o=>{this.i._configureAudio(r,o,e,t,n)}))}))}setAutoResizeCanvas(e){this.l=e}setAutoRenderToScreen(e){this.i._setAutoRenderToScreen(e)}setGpuBufferVerticalFlip(e){this.i.gpuOriginForWebTexturesIsBottomLeft=e}fa(e){sC(this,"__graph_config__",(t=>{e(t)})),oC(this,"__graph_config__",(e=>{this.i._getGraphConfig(e,void 0)})),delete this.i.simpleListeners.__graph_config__}attachErrorListener(e){this.i.errorListener=e}attachEmptyPacketListener(e,t){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[e]=t}addAudioToStream(e,t,n){this.addAudioToStreamWithShape(e,0,0,t,n)}addAudioToStreamWithShape(e,t,n,r,o){const i=4*e.length;this.h!==i&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(i),this.h=i),this.i.HEAPF32.set(e,this.g/4),oC(this,r,(e=>{this.i._addAudioToInputStream(this.g,t,n,e,o)}))}addGpuBufferToStream(e,t,n){oC(this,t,(t=>{const[r,o]=iC(this,e,t);this.i._addBoundTextureToStream(t,r,o,n)}))}addBoolToStream(e,t,n){oC(this,t,(t=>{this.i._addBoolToInputStream(e,t,n)}))}addDoubleToStream(e,t,n){oC(this,t,(t=>{this.i._addDoubleToInputStream(e,t,n)}))}addFloatToStream(e,t,n){oC(this,t,(t=>{this.i._addFloatToInputStream(e,t,n)}))}addIntToStream(e,t,n){oC(this,t,(t=>{this.i._addIntToInputStream(e,t,n)}))}addUintToStream(e,t,n){oC(this,t,(t=>{this.i._addUintToInputStream(e,t,n)}))}addStringToStream(e,t,n){oC(this,t,(t=>{oC(this,e,(e=>{this.i._addStringToInputStream(e,t,n)}))}))}addStringRecordToStream(e,t,n){oC(this,t,(t=>{aC(this,Object.keys(e),(r=>{aC(this,Object.values(e),(o=>{this.i._addFlatHashMapToInputStream(r,o,Object.keys(e).length,t,n)}))}))}))}addProtoToStream(e,t,n,r){oC(this,n,(n=>{oC(this,t,(t=>{const o=this.i._malloc(e.length);this.i.HEAPU8.set(e,o),this.i._addProtoToInputStream(o,e.length,t,n,r),this.i._free(o)}))}))}addEmptyPacketToStream(e,t){oC(this,e,(e=>{this.i._addEmptyPacketToInputStream(e,t)}))}addBoolVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateBoolVector(e.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(const n of e)this.i._addBoolVectorEntry(r,n);this.i._addBoolVectorToInputStream(r,t,n)}))}addDoubleVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateDoubleVector(e.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(const n of e)this.i._addDoubleVectorEntry(r,n);this.i._addDoubleVectorToInputStream(r,t,n)}))}addFloatVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateFloatVector(e.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(const n of e)this.i._addFloatVectorEntry(r,n);this.i._addFloatVectorToInputStream(r,t,n)}))}addIntVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateIntVector(e.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(const n of e)this.i._addIntVectorEntry(r,n);this.i._addIntVectorToInputStream(r,t,n)}))}addUintVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateUintVector(e.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(const n of e)this.i._addUintVectorEntry(r,n);this.i._addUintVectorToInputStream(r,t,n)}))}addStringVectorToStream(e,t,n){oC(this,t,(t=>{const r=this.i._allocateStringVector(e.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(const n of e)oC(this,n,(e=>{this.i._addStringVectorEntry(r,e)}));this.i._addStringVectorToInputStream(r,t,n)}))}addBoolToInputSidePacket(e,t){oC(this,t,(t=>{this.i._addBoolToInputSidePacket(e,t)}))}addDoubleToInputSidePacket(e,t){oC(this,t,(t=>{this.i._addDoubleToInputSidePacket(e,t)}))}addFloatToInputSidePacket(e,t){oC(this,t,(t=>{this.i._addFloatToInputSidePacket(e,t)}))}addIntToInputSidePacket(e,t){oC(this,t,(t=>{this.i._addIntToInputSidePacket(e,t)}))}addUintToInputSidePacket(e,t){oC(this,t,(t=>{this.i._addUintToInputSidePacket(e,t)}))}addStringToInputSidePacket(e,t){oC(this,t,(t=>{oC(this,e,(e=>{this.i._addStringToInputSidePacket(e,t)}))}))}addProtoToInputSidePacket(e,t,n){oC(this,n,(n=>{oC(this,t,(t=>{const r=this.i._malloc(e.length);this.i.HEAPU8.set(e,r),this.i._addProtoToInputSidePacket(r,e.length,t,n),this.i._free(r)}))}))}addBoolVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateBoolVector(e.length);if(!n)throw Error("Unable to allocate new bool vector on heap.");for(const r of e)this.i._addBoolVectorEntry(n,r);this.i._addBoolVectorToInputSidePacket(n,t)}))}addDoubleVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateDoubleVector(e.length);if(!n)throw Error("Unable to allocate new double vector on heap.");for(const r of e)this.i._addDoubleVectorEntry(n,r);this.i._addDoubleVectorToInputSidePacket(n,t)}))}addFloatVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateFloatVector(e.length);if(!n)throw Error("Unable to allocate new float vector on heap.");for(const r of e)this.i._addFloatVectorEntry(n,r);this.i._addFloatVectorToInputSidePacket(n,t)}))}addIntVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateIntVector(e.length);if(!n)throw Error("Unable to allocate new int vector on heap.");for(const r of e)this.i._addIntVectorEntry(n,r);this.i._addIntVectorToInputSidePacket(n,t)}))}addUintVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateUintVector(e.length);if(!n)throw Error("Unable to allocate new unsigned int vector on heap.");for(const r of e)this.i._addUintVectorEntry(n,r);this.i._addUintVectorToInputSidePacket(n,t)}))}addStringVectorToInputSidePacket(e,t){oC(this,t,(t=>{const n=this.i._allocateStringVector(e.length);if(!n)throw Error("Unable to allocate new string vector on heap.");for(const r of e)oC(this,r,(e=>{this.i._addStringVectorEntry(n,e)}));this.i._addStringVectorToInputSidePacket(n,t)}))}attachBoolListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachBoolListener(e)}))}attachBoolVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachBoolVectorListener(e)}))}attachIntListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachIntListener(e)}))}attachIntVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachIntVectorListener(e)}))}attachUintListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachUintListener(e)}))}attachUintVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachUintVectorListener(e)}))}attachDoubleListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachDoubleListener(e)}))}attachDoubleVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachDoubleVectorListener(e)}))}attachFloatListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachFloatListener(e)}))}attachFloatVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachFloatVectorListener(e)}))}attachStringListener(e,t){sC(this,e,t),oC(this,e,(e=>{this.i._attachStringListener(e)}))}attachStringVectorListener(e,t){uC(this,e,t),oC(this,e,(e=>{this.i._attachStringVectorListener(e)}))}attachProtoListener(e,t,n){sC(this,e,t),oC(this,e,(e=>{this.i._attachProtoListener(e,n||!1)}))}attachProtoVectorListener(e,t,n){uC(this,e,t),oC(this,e,(e=>{this.i._attachProtoVectorListener(e,n||!1)}))}attachAudioListener(e,t,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),sC(this,e,((e,n)=>{e=new Float32Array(e.buffer,e.byteOffset,e.length/4),t(e,n)})),oC(this,e,(e=>{this.i._attachAudioListener(e,n||!1)}))}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends sA{get ha(){return this.i}sa(e,t,n){oC(this,t,(t=>{const[r,o]=iC(this,e,t);this.ha._addBoundTextureAsImageToStream(t,r,o,n)}))}W(e,t){sC(this,e,t),oC(this,e,(e=>{this.ha._attachImageListener(e)}))}da(e,t){uC(this,e,t),oC(this,e,(e=>{this.ha._attachImageVectorListener(e)}))}}));var sA,uA=class extends aA{};async function cA(e,t,n){var r;return async function(e,t,n,r){return async function(e,t,n,r){return e=await(async(e,t,n,r,o)=>{if(t&&await nC(t),!self.ModuleFactory)throw Error("ModuleFactory not set.");if(n&&(await nC(n),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&o&&((t=self.Module).locateFile=o.locateFile,o.mainScriptUrlOrBlob&&(t.mainScriptUrlOrBlob=o.mainScriptUrlOrBlob)),o=await self.ModuleFactory(self.Module||o),self.ModuleFactory=self.Module=void 0,new e(o,r)})(e,n.wasmLoaderPath,n.assetLoaderPath,t,{locateFile:e=>e.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&e.endsWith(".data")?n.assetBinaryPath.toString():e}),await e.o(r),e}(e,t,n,r)}(e,null!==(r=n.canvas)&&void 0!==r?r:tC()?void 0:document.createElement("canvas"),t,n)}function lA(e,t,n,r){if(e.V){var o,i;const c=new E_;if(null!==(o=n)&&void 0!==o&&o.regionOfInterest){if(!e.ra)throw Error("This task doesn't support region-of-interest.");var a=n.regionOfInterest;if(a.left>=a.right||a.top>=a.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(0>a.left||0>a.top||1<a.right||1<a.bottom)throw Error("Expected RectF values to be in [0,1].");nk(c,1,(a.left+a.right)/2),nk(c,2,(a.top+a.bottom)/2),nk(c,4,a.right-a.left),nk(c,3,a.bottom-a.top)}else nk(c,1,.5),nk(c,2,.5),nk(c,4,1),nk(c,3,1);if(null!==(i=n)&&void 0!==i&&i.rotationDegrees){var s,u;if(0!=(null===(s=n)||void 0===s?void 0:s.rotationDegrees)%90)throw Error("Expected rotation to be a multiple of 90\xb0.");if(nk(c,5,-Math.PI*n.rotationDegrees/180),0!=(null===(u=n)||void 0===u?void 0:u.rotationDegrees)%180){const[e,r]=rC(t);n=Qx(c,3)*r/e,a=Qx(c,4)*e/r,nk(c,4,n),nk(c,3,a)}}e.g.addProtoToStream(c.g(),"mediapipe.NormalizedRect",e.V,r)}e.g.sa(t,e.ba,null!==r&&void 0!==r?r:performance.now()),e.finishProcessing()}function fA(e,t,n){var r;if(null!==(r=e.baseOptions)&&void 0!==r&&r.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");lA(e,t,n,e.J+1)}function dA(e,t,n,r){var o;if(null===(o=e.baseOptions)||void 0===o||!o.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");lA(e,t,n,r)}function hA(e,t,n,r){var o=t.data;const i=t.width,a=i*(t=t.height);if((o instanceof Uint8Array||o instanceof Float32Array)&&o.length!==a)throw Error("Unsupported channel count: "+o.length/a);return e=new LC([o],n,!1,e.g.i.canvas,e.M,i,t),r?e.clone():e}var pA=class extends mC{constructor(e,t,n,r){super(e),this.g=e,this.ba=t,this.V=n,this.ra=r,this.M=new EC}l(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("runningMode"in e&&ek(this.baseOptions,2,!!e.runningMode&&"IMAGE"!==e.runningMode),void 0!==e.canvas&&this.g.i.canvas!==e.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(e,t)}close(){this.M.close(),super.close()}};pA.prototype.close=pA.prototype.close;var mA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect_in",!1),this.j={detections:[]},Gx(e=this.h=new X_,0,1,t=new G_),nk(this.h,2,.5),nk(this.h,3,.3)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t,n;return"minDetectionConfidence"in e&&nk(this.h,2,null!==(t=e.minDetectionConfidence)&&void 0!==t?t:.5),"minSuppressionThreshold"in e&&nk(this.h,3,null!==(n=e.minSuppressionThreshold)&&void 0!==n?n:.3),this.l(e)}F(e,t){return this.j={detections:[]},fA(this,e,t),this.j}G(e,t,n){return this.j={detections:[]},dA(this,e,n,t),this.j}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect_in"),KS(e,"detections");const t=new TS;rk(t,Y_,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect_in"),BS(n,"DETECTIONS:detections"),n.o(t),qS(e,n),this.g.attachProtoVectorListener("detections",((e,t)=>{for(const n of e)e=p_(n),this.j.detections.push(GE(e));fC(this,t)})),this.g.attachEmptyPacketListener("detections",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};mA.prototype.detectForVideo=mA.prototype.G,mA.prototype.detect=mA.prototype.F,mA.prototype.setOptions=mA.prototype.o,mA.createFromModelPath=async function(e,t){return cA(mA,e,{baseOptions:{modelAssetPath:t}})},mA.createFromModelBuffer=function(e,t){return cA(mA,e,{baseOptions:{modelAssetBuffer:t}})},mA.createFromOptions=function(e,t){return cA(mA,e,t)};var vA=iA([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),gA=iA([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),yA=iA([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),bA=iA([474,475],[475,476],[476,477],[477,474]),wA=iA([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),xA=iA([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),kA=iA([469,470],[470,471],[471,472],[472,469]),SA=iA([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),_A=[...vA,...gA,...yA,...wA,...xA,...SA],EA=iA([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function CA(e){e.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var AA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!1),this.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,Gx(e=this.h=new nE,0,1,t=new G_),this.H=new eE,Gx(this.h,0,3,this.H),this.j=new X_,Gx(this.h,0,2,this.j),tk(this.j,4,1),nk(this.j,2,.5),nk(this.H,2,.5),nk(this.h,4,.5)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t,n,r,o;return"numFaces"in e&&tk(this.j,4,null!==(t=e.numFaces)&&void 0!==t?t:1),"minFaceDetectionConfidence"in e&&nk(this.j,2,null!==(n=e.minFaceDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&nk(this.h,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minFacePresenceConfidence"in e&&nk(this.H,2,null!==(o=e.minFacePresenceConfidence)&&void 0!==o?o:.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.l(e)}F(e,t){return CA(this),fA(this,e,t),this.u}G(e,t,n){return CA(this),dA(this,e,n,t),this.u}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"face_landmarks");const t=new TS;rk(t,oE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"NORM_LANDMARKS:face_landmarks"),n.o(t),qS(e,n),this.g.attachProtoVectorListener("face_landmarks",((e,t)=>{for(const n of e)e=k_(n),this.u.faceLandmarks.push(qE(e));fC(this,t)})),this.g.attachEmptyPacketListener("face_landmarks",(e=>{fC(this,e)})),this.outputFaceBlendshapes&&(KS(e,"blendshapes"),BS(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",((e,t)=>{if(this.outputFaceBlendshapes)for(const r of e){var n;e=r_(r),this.u.faceBlendshapes.push(VE(null!==(n=e.g())&&void 0!==n?n:[]))}fC(this,t)})),this.g.attachEmptyPacketListener("blendshapes",(e=>{fC(this,e)}))),this.outputFacialTransformationMatrixes&&(KS(e,"face_geometry"),BS(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",((e,t)=>{if(this.outputFacialTransformationMatrixes)for(const i of e){var n,r,o;(e=Wx(Q_(i),S_,2))&&this.u.facialTransformationMatrixes.push({rows:null!==(n=Zx($x(e,1),0))&&void 0!==n?n:0,columns:null!==(r=Zx($x(e,2),0))&&void 0!==r?r:0,data:null!==(o=Tx(e,3,Pw).slice())&&void 0!==o?o:[]})}fC(this,t)})),this.g.attachEmptyPacketListener("face_geometry",(e=>{fC(this,e)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};AA.prototype.detectForVideo=AA.prototype.G,AA.prototype.detect=AA.prototype.F,AA.prototype.setOptions=AA.prototype.o,AA.createFromModelPath=function(e,t){return cA(AA,e,{baseOptions:{modelAssetPath:t}})},AA.createFromModelBuffer=function(e,t){return cA(AA,e,{baseOptions:{modelAssetBuffer:t}})},AA.createFromOptions=function(e,t){return cA(AA,e,t)},AA.FACE_LANDMARKS_LIPS=vA,AA.FACE_LANDMARKS_LEFT_EYE=gA,AA.FACE_LANDMARKS_LEFT_EYEBROW=yA,AA.FACE_LANDMARKS_LEFT_IRIS=bA,AA.FACE_LANDMARKS_RIGHT_EYE=wA,AA.FACE_LANDMARKS_RIGHT_EYEBROW=xA,AA.FACE_LANDMARKS_RIGHT_IRIS=kA,AA.FACE_LANDMARKS_FACE_OVAL=SA,AA.FACE_LANDMARKS_CONTOURS=_A,AA.FACE_LANDMARKS_TESSELATION=EA;var OA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!0),Gx(e=this.j=new iE,0,1,t=new G_)}get baseOptions(){return Wx(this.j,G_,1)}set baseOptions(e){Gx(this.j,0,1,e)}o(e){return super.l(e)}Pa(e,t,n){const r="function"!=typeof t?t:{};if(this.h="function"==typeof t?t:n,fA(this,e,null!==r&&void 0!==r?r:{}),!this.h)return this.u}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"stylized_image");const t=new TS;rk(t,aE,this.j);const n=new zS;LS(n,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"STYLIZED_IMAGE:stylized_image"),n.o(t),qS(e,n),this.g.W("stylized_image",((e,t)=>{var n=!this.h,r=e.data,o=e.width;const i=o*(e=e.height);if(r instanceof Uint8Array)if(r.length===3*i){const t=new Uint8ClampedArray(4*i);for(let e=0;e<i;++e)t[4*e]=r[3*e],t[4*e+1]=r[3*e+1],t[4*e+2]=r[3*e+2],t[4*e+3]=255;r=new ImageData(t,o,e)}else{if(r.length!==4*i)throw Error("Unsupported channel count: "+r.length/i);r=new ImageData(new Uint8ClampedArray(r.buffer,r.byteOffset,r.length),o,e)}else if(!(r instanceof WebGLTexture))throw Error("Unsupported format: ".concat(r.constructor.name));o=new rA([r],!1,!1,this.g.i.canvas,this.M,o,e),this.u=n=n?o.clone():o,this.h&&this.h(n),fC(this,t)})),this.g.attachEmptyPacketListener("stylized_image",(e=>{this.u=null,this.h&&this.h(null),fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};OA.prototype.stylize=OA.prototype.Pa,OA.prototype.setOptions=OA.prototype.o,OA.createFromModelPath=function(e,t){return cA(OA,e,{baseOptions:{modelAssetPath:t}})},OA.createFromModelBuffer=function(e,t){return cA(OA,e,{baseOptions:{modelAssetBuffer:t}})},OA.createFromOptions=function(e,t){return cA(OA,e,t)};var TA=iA([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function RA(e){e.gestures=[],e.landmarks=[],e.worldLandmarks=[],e.handedness=[]}function IA(e){return 0===e.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:e.gestures,landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handedness:e.handedness,handednesses:e.handedness}}function PA(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];for(const s of e){var r=r_(s);e=[];for(const n of r.g()){var o,i,a;r=t&&null!=$x(n,1)?Zx($x(n,1),0):-1,e.push({score:null!==(o=Qx(n,2))&&void 0!==o?o:0,index:r,categoryName:null!==(i=Jx(n,3))&&void 0!==i?i:"",displayName:null!==(a=Jx(n,4))&&void 0!==a?a:""})}n.push(e)}return n}var NA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Gx(e=this.v=new yE,0,1,t=new G_),this.A=new vE,Gx(this.v,0,2,this.A),this.u=new pE,Gx(this.A,0,3,this.u),this.h=new dE,Gx(this.A,0,2,this.h),this.j=new lE,Gx(this.v,0,3,this.j),nk(this.h,2,.5),nk(this.A,4,.5),nk(this.u,2,.5)}get baseOptions(){return Wx(this.v,G_,1)}set baseOptions(e){Gx(this.v,0,1,e)}o(e){var t,n,r,o,i,a,s;if(tk(this.h,3,null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&nk(this.h,2,null!==(n=e.minHandDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&nk(this.A,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minHandPresenceConfidence"in e&&nk(this.u,2,null!==(o=e.minHandPresenceConfidence)&&void 0!==o?o:.5),e.cannedGesturesClassifierOptions){var u,c=new sE,l=c,f=HE(e.cannedGesturesClassifierOptions,null===(u=Wx(this.j,sE,3))||void 0===u?void 0:u.h());Gx(l,0,2,f),Gx(this.j,0,3,c)}else void 0===e.cannedGesturesClassifierOptions&&(null===(i=Wx(this.j,sE,3))||void 0===i||i.g());return e.customGesturesClassifierOptions?(Gx(l=c=new sE,0,2,f=HE(e.customGesturesClassifierOptions,null===(a=Wx(this.j,sE,4))||void 0===a?void 0:a.h())),Gx(this.j,0,4,c)):void 0===e.customGesturesClassifierOptions&&(null===(s=Wx(this.j,sE,4))||void 0===s||s.g()),this.l(e)}Ka(e,t){return RA(this),fA(this,e,t),IA(this)}La(e,t,n){return RA(this),dA(this,e,n,t),IA(this)}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"hand_gestures"),KS(e,"hand_landmarks"),KS(e,"world_hand_landmarks"),KS(e,"handedness");const t=new TS;rk(t,xE,this.v);const n=new zS;LS(n,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"HAND_GESTURES:hand_gestures"),BS(n,"LANDMARKS:hand_landmarks"),BS(n,"WORLD_LANDMARKS:world_hand_landmarks"),BS(n,"HANDEDNESS:handedness"),n.o(t),qS(e,n),this.g.attachProtoVectorListener("hand_landmarks",((e,t)=>{for(const a of e){e=k_(a);const t=[];for(const a of Vx(e,b_,1)){var n,r,o,i;t.push({x:null!==(n=Qx(a,1))&&void 0!==n?n:0,y:null!==(r=Qx(a,2))&&void 0!==r?r:0,z:null!==(o=Qx(a,3))&&void 0!==o?o:0,visibility:null!==(i=Qx(a,4))&&void 0!==i?i:0})}this.landmarks.push(t)}fC(this,t)})),this.g.attachEmptyPacketListener("hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoVectorListener("world_hand_landmarks",((e,t)=>{for(const a of e){e=y_(a);const t=[];for(const a of Vx(e,m_,1)){var n,r,o,i;t.push({x:null!==(n=Qx(a,1))&&void 0!==n?n:0,y:null!==(r=Qx(a,2))&&void 0!==r?r:0,z:null!==(o=Qx(a,3))&&void 0!==o?o:0,visibility:null!==(i=Qx(a,4))&&void 0!==i?i:0})}this.worldLandmarks.push(t)}fC(this,t)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoVectorListener("hand_gestures",((e,t)=>{this.gestures.push(...PA(e,!1)),fC(this,t)})),this.g.attachEmptyPacketListener("hand_gestures",(e=>{fC(this,e)})),this.g.attachProtoVectorListener("handedness",((e,t)=>{this.handedness.push(...PA(e)),fC(this,t)})),this.g.attachEmptyPacketListener("handedness",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};function MA(e){return{landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handednesses:e.handedness,handedness:e.handedness}}NA.prototype.recognizeForVideo=NA.prototype.La,NA.prototype.recognize=NA.prototype.Ka,NA.prototype.setOptions=NA.prototype.o,NA.createFromModelPath=function(e,t){return cA(NA,e,{baseOptions:{modelAssetPath:t}})},NA.createFromModelBuffer=function(e,t){return cA(NA,e,{baseOptions:{modelAssetBuffer:t}})},NA.createFromOptions=function(e,t){return cA(NA,e,t)},NA.HAND_CONNECTIONS=TA;var DA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Gx(e=this.j=new vE,0,1,t=new G_),this.u=new pE,Gx(this.j,0,3,this.u),this.h=new dE,Gx(this.j,0,2,this.h),tk(this.h,3,1),nk(this.h,2,.5),nk(this.u,2,.5),nk(this.j,4,.5)}get baseOptions(){return Wx(this.j,G_,1)}set baseOptions(e){Gx(this.j,0,1,e)}o(e){var t,n,r,o;return"numHands"in e&&tk(this.h,3,null!==(t=e.numHands)&&void 0!==t?t:1),"minHandDetectionConfidence"in e&&nk(this.h,2,null!==(n=e.minHandDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&nk(this.j,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minHandPresenceConfidence"in e&&nk(this.u,2,null!==(o=e.minHandPresenceConfidence)&&void 0!==o?o:.5),this.l(e)}F(e,t){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],fA(this,e,t),MA(this)}G(e,t,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],dA(this,e,n,t),MA(this)}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"hand_landmarks"),KS(e,"world_hand_landmarks"),KS(e,"handedness");const t=new TS;rk(t,wE,this.j);const n=new zS;LS(n,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"LANDMARKS:hand_landmarks"),BS(n,"WORLD_LANDMARKS:world_hand_landmarks"),BS(n,"HANDEDNESS:handedness"),n.o(t),qS(e,n),this.g.attachProtoVectorListener("hand_landmarks",((e,t)=>{for(const n of e)e=k_(n),this.landmarks.push(qE(e));fC(this,t)})),this.g.attachEmptyPacketListener("hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoVectorListener("world_hand_landmarks",((e,t)=>{for(const n of e)e=y_(n),this.worldLandmarks.push(XE(e));fC(this,t)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoVectorListener("handedness",((e,t)=>{var n=this.handedness,r=n.push;const o=[];for(const c of e){e=r_(c);const t=[];for(const n of e.g()){var i,a,s,u;t.push({score:null!==(i=Qx(n,2))&&void 0!==i?i:0,index:null!==(a=Zx($x(n,1),0))&&void 0!==a?a:-1,categoryName:null!==(s=Jx(n,3))&&void 0!==s?s:"",displayName:null!==(u=Jx(n,4))&&void 0!==u?u:""})}o.push(t)}r.call(n,...o),fC(this,t)})),this.g.attachEmptyPacketListener("handedness",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};DA.prototype.detectForVideo=DA.prototype.G,DA.prototype.detect=DA.prototype.F,DA.prototype.setOptions=DA.prototype.o,DA.createFromModelPath=function(e,t){return cA(DA,e,{baseOptions:{modelAssetPath:t}})},DA.createFromModelBuffer=function(e,t){return cA(DA,e,{baseOptions:{modelAssetBuffer:t}})},DA.createFromOptions=function(e,t){return cA(DA,e,t)},DA.HAND_CONNECTIONS=TA;var FA=iA([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function LA(e){e.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function jA(e){try{if(!e.I)return e.h;e.I(e.h)}finally{pC(e)}}function BA(e,t){e=k_(e),t.push(qE(e))}var zA=class extends pA{constructor(e,t){super(new uA(e,t),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,Gx(e=this.A=new OE,0,1,t=new G_),this.u=new pE,Gx(this.A,0,2,this.u),this.aa=new kE,Gx(this.A,0,3,this.aa),this.j=new X_,Gx(this.A,0,4,this.j),this.H=new eE,Gx(this.A,0,5,this.H),this.v=new _E,Gx(this.A,0,6,this.v),this.D=new CE,Gx(this.A,0,7,this.D),nk(this.j,2,.5),nk(this.j,3,.3),nk(this.H,2,.5),nk(this.v,2,.5),nk(this.v,3,.3),nk(this.D,2,.5),nk(this.u,2,.5)}get baseOptions(){return Wx(this.A,G_,1)}set baseOptions(e){Gx(this.A,0,1,e)}o(e){var t,n,r,o,i,a,s;return"minFaceDetectionConfidence"in e&&nk(this.j,2,null!==(t=e.minFaceDetectionConfidence)&&void 0!==t?t:.5),"minFaceSuppressionThreshold"in e&&nk(this.j,3,null!==(n=e.minFaceSuppressionThreshold)&&void 0!==n?n:.3),"minFacePresenceConfidence"in e&&nk(this.H,2,null!==(r=e.minFacePresenceConfidence)&&void 0!==r?r:.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"minPoseDetectionConfidence"in e&&nk(this.v,2,null!==(o=e.minPoseDetectionConfidence)&&void 0!==o?o:.5),"minPoseSuppressionThreshold"in e&&nk(this.v,3,null!==(i=e.minPoseSuppressionThreshold)&&void 0!==i?i:.3),"minPosePresenceConfidence"in e&&nk(this.D,2,null!==(a=e.minPosePresenceConfidence)&&void 0!==a?a:.5),"outputPoseSegmentationMasks"in e&&(this.outputPoseSegmentationMasks=!!e.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in e&&nk(this.u,2,null!==(s=e.minHandLandmarksConfidence)&&void 0!==s?s:.5),this.l(e)}F(e,t,n){const r="function"!=typeof t?t:{};return this.I="function"==typeof t?t:n,LA(this),fA(this,e,r),jA(this)}G(e,t,n,r){const o="function"!=typeof n?n:{};return this.I="function"==typeof n?n:r,LA(this),dA(this,e,o,t),jA(this)}m(){var e=new YS;XS(e,"input_frames_image"),KS(e,"pose_landmarks"),KS(e,"pose_world_landmarks"),KS(e,"face_landmarks"),KS(e,"left_hand_landmarks"),KS(e,"left_hand_world_landmarks"),KS(e,"right_hand_landmarks"),KS(e,"right_hand_world_landmarks");const t=new TS,n=new yS;Dx(n,1,Vw("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(e,t){if(null!=t)if(Array.isArray(t))_x(e,2,hx(t,mx,void 0,void 0,!1));else{if(!("string"==typeof t||t instanceof Qy||Vy(t)))throw Error("invalid value in Any.value field: "+t+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");Dx(e,2,ww(t,!1,!1),$y())}}(n,this.A.g());const r=new zS;LS(r,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),Yx(r,8,yS,n),jS(r,"IMAGE:input_frames_image"),BS(r,"POSE_LANDMARKS:pose_landmarks"),BS(r,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),BS(r,"FACE_LANDMARKS:face_landmarks"),BS(r,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),BS(r,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),BS(r,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),BS(r,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),r.o(t),qS(e,r),dC(this,e),this.g.attachProtoListener("pose_landmarks",((e,t)=>{BA(e,this.h.poseLandmarks),fC(this,t)})),this.g.attachEmptyPacketListener("pose_landmarks",(e=>{fC(this,e)})),this.g.attachProtoListener("pose_world_landmarks",((e,t)=>{var n=this.h.poseWorldLandmarks;e=y_(e),n.push(XE(e)),fC(this,t)})),this.g.attachEmptyPacketListener("pose_world_landmarks",(e=>{fC(this,e)})),this.outputPoseSegmentationMasks&&(BS(r,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),hC(this,"pose_segmentation_mask"),this.g.W("pose_segmentation_mask",((e,t)=>{this.h.poseSegmentationMasks=[hA(this,e,!0,!this.I)],fC(this,t)})),this.g.attachEmptyPacketListener("pose_segmentation_mask",(e=>{this.h.poseSegmentationMasks=[],fC(this,e)}))),this.g.attachProtoListener("face_landmarks",((e,t)=>{BA(e,this.h.faceLandmarks),fC(this,t)})),this.g.attachEmptyPacketListener("face_landmarks",(e=>{fC(this,e)})),this.outputFaceBlendshapes&&(KS(e,"extra_blendshapes"),BS(r,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",((e,t)=>{var n,r=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(e=r_(e),r.push(VE(null!==(n=e.g())&&void 0!==n?n:[]))),fC(this,t)})),this.g.attachEmptyPacketListener("extra_blendshapes",(e=>{fC(this,e)}))),this.g.attachProtoListener("left_hand_landmarks",((e,t)=>{BA(e,this.h.leftHandLandmarks),fC(this,t)})),this.g.attachEmptyPacketListener("left_hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoListener("left_hand_world_landmarks",((e,t)=>{var n=this.h.leftHandWorldLandmarks;e=y_(e),n.push(XE(e)),fC(this,t)})),this.g.attachEmptyPacketListener("left_hand_world_landmarks",(e=>{fC(this,e)})),this.g.attachProtoListener("right_hand_landmarks",((e,t)=>{BA(e,this.h.rightHandLandmarks),fC(this,t)})),this.g.attachEmptyPacketListener("right_hand_landmarks",(e=>{fC(this,e)})),this.g.attachProtoListener("right_hand_world_landmarks",((e,t)=>{var n=this.h.rightHandWorldLandmarks;e=y_(e),n.push(XE(e)),fC(this,t)})),this.g.attachEmptyPacketListener("right_hand_world_landmarks",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};zA.prototype.detectForVideo=zA.prototype.G,zA.prototype.detect=zA.prototype.F,zA.prototype.setOptions=zA.prototype.o,zA.createFromModelPath=function(e,t){return cA(zA,e,{baseOptions:{modelAssetPath:t}})},zA.createFromModelBuffer=function(e,t){return cA(zA,e,{baseOptions:{modelAssetBuffer:t}})},zA.createFromOptions=function(e,t){return cA(zA,e,t)},zA.HAND_CONNECTIONS=TA,zA.POSE_CONNECTIONS=FA,zA.FACE_LANDMARKS_LIPS=vA,zA.FACE_LANDMARKS_LEFT_EYE=gA,zA.FACE_LANDMARKS_LEFT_EYEBROW=yA,zA.FACE_LANDMARKS_LEFT_IRIS=bA,zA.FACE_LANDMARKS_RIGHT_EYE=wA,zA.FACE_LANDMARKS_RIGHT_EYEBROW=xA,zA.FACE_LANDMARKS_RIGHT_IRIS=kA,zA.FACE_LANDMARKS_FACE_OVAL=SA,zA.FACE_LANDMARKS_CONTOURS=_A,zA.FACE_LANDMARKS_TESSELATION=EA;var UA=class extends pA{constructor(e,t){super(new uA(e,t),"input_image","norm_rect",!0),this.j={classifications:[]},Gx(e=this.h=new TE,0,1,t=new G_)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){return Gx(this.h,0,2,HE(e,Wx(this.h,L_,2))),this.l(e)}ua(e,t){return this.j={classifications:[]},fA(this,e,t),this.j}va(e,t,n){return this.j={classifications:[]},dA(this,e,n,t),this.j}m(){var e=new YS;XS(e,"input_image"),XS(e,"norm_rect"),KS(e,"classifications");const t=new TS;rk(t,RE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),jS(n,"IMAGE:input_image"),jS(n,"NORM_RECT:norm_rect"),BS(n,"CLASSIFICATIONS:classifications"),n.o(t),qS(e,n),this.g.attachProtoListener("classifications",((e,t)=>{this.j=function(e){const t={classifications:Vx(e,C_,1).map((e=>{var t,n;return VE(null!==(t=null===(n=Wx(e,t_,4))||void 0===n?void 0:n.g())&&void 0!==t?t:[],Zx($x(e,2),0),Jx(e,3))}))};return null!=Ww(xx(e,2))&&(t.timestampMs=Zx(Ww(xx(e,2)),0)),t}(T_(e)),fC(this,t)})),this.g.attachEmptyPacketListener("classifications",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};UA.prototype.classifyForVideo=UA.prototype.va,UA.prototype.classify=UA.prototype.ua,UA.prototype.setOptions=UA.prototype.o,UA.createFromModelPath=function(e,t){return cA(UA,e,{baseOptions:{modelAssetPath:t}})},UA.createFromModelBuffer=function(e,t){return cA(UA,e,{baseOptions:{modelAssetBuffer:t}})},UA.createFromOptions=function(e,t){return cA(UA,e,t)};var WA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!0),this.h=new IE,this.embeddings={embeddings:[]},Gx(e=this.h,0,1,t=new G_)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t=this.h,n=Wx(this.h,B_,2);return n=n?n.clone():new B_,void 0!==e.l2Normalize?ek(n,1,e.l2Normalize):"l2Normalize"in e&&_x(n,1),void 0!==e.quantize?ek(n,2,e.quantize):"quantize"in e&&_x(n,2),Gx(t,0,2,n),this.l(e)}Ba(e,t){return fA(this,e,t),this.embeddings}Ca(e,t,n){return dA(this,e,n,t),this.embeddings}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"embeddings_out");const t=new TS;rk(t,PE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"EMBEDDINGS:embeddings_out"),n.o(t),qS(e,n),this.g.attachProtoListener("embeddings_out",((e,t)=>{e=F_(e),this.embeddings=function(e){return{embeddings:Vx(e,P_,1).map((e=>{var t,n;const r={headIndex:null!==(t=Zx($x(e,3),0))&&void 0!==t?t:-1,headName:null!==(n=Jx(e,4))&&void 0!==n?n:""};if(void 0!==Ux(e,R_,jx(e,1)))e=Tx(e=Wx(e,R_,jx(e,1)),1,Pw),r.floatEmbedding=e.slice();else{var o,i;const t=new Uint8Array(0);r.quantizedEmbedding=null!==(o=null===(i=Wx(e,I_,jx(e,2)))||void 0===i||null===(i=i.qa())||void 0===i?void 0:i.h())&&void 0!==o?o:t}return r})),timestampMs:Zx(Ww(xx(e,2)),0)}}(e),fC(this,t)})),this.g.attachEmptyPacketListener("embeddings_out",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};WA.cosineSimilarity=function(e,t){if(e.floatEmbedding&&t.floatEmbedding)e=YE(e.floatEmbedding,t.floatEmbedding);else{if(!e.quantizedEmbedding||!t.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");e=YE(KE(e.quantizedEmbedding),KE(t.quantizedEmbedding))}return e},WA.prototype.embedForVideo=WA.prototype.Ca,WA.prototype.embed=WA.prototype.Ba,WA.prototype.setOptions=WA.prototype.o,WA.createFromModelPath=function(e,t){return cA(WA,e,{baseOptions:{modelAssetPath:t}})},WA.createFromModelBuffer=function(e,t){return cA(WA,e,{baseOptions:{modelAssetBuffer:t}})},WA.createFromOptions=function(e,t){return cA(WA,e,t)};var HA=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;null!==(e=this.confidenceMasks)&&void 0!==e&&e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}};function VA(e){e.categoryMask=void 0,e.confidenceMasks=void 0,e.qualityScores=void 0}function GA(e){try{const t=new HA(e.confidenceMasks,e.categoryMask,e.qualityScores);if(!e.j)return t;e.j(t)}finally{pC(e)}}HA.prototype.close=HA.prototype.close;var qA=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!1),this.u=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new LE,this.v=new NE,Gx(this.h,0,3,this.v),Gx(e=this.h,0,1,t=new G_)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t,n;return void 0!==e.displayNamesLocale?_x(this.h,2,Vw(e.displayNamesLocale)):"displayNamesLocale"in e&&_x(this.h,2),"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(n=e.outputConfidenceMasks)||void 0===n||n),super.l(e)}L(){!function(e,t,n){const r=Vx(e.fa(),zS,1).filter((e=>Jx(e,1).includes("mediapipe.tasks.TensorsToSegmentationCalculator")));if(e.u=[],1<r.length)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");1===r.length&&(null!==(t=null===(n=Wx(r[0],TS,7))||void 0===n||null===(n=n.l())||void 0===n?void 0:n.g())&&void 0!==t?t:new Map).forEach(((t,n)=>{e.u[Number(n)]=Jx(t,1)}))}(this)}ga(e,t,n){const r="function"!=typeof t?t:{};return this.j="function"==typeof t?t:n,VA(this),fA(this,e,r),GA(this)}Na(e,t,n,r){const o="function"!=typeof n?n:{};return this.j="function"==typeof n?n:r,VA(this),dA(this,e,o,t),GA(this)}Fa(){return this.u}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect");const t=new TS;rk(t,jE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),n.o(t),qS(e,n),dC(this,e),this.outputConfidenceMasks&&(KS(e,"confidence_masks"),BS(n,"CONFIDENCE_MASKS:confidence_masks"),hC(this,"confidence_masks"),this.g.da("confidence_masks",((e,t)=>{this.confidenceMasks=e.map((e=>hA(this,e,!0,!this.j))),fC(this,t)})),this.g.attachEmptyPacketListener("confidence_masks",(e=>{this.confidenceMasks=[],fC(this,e)}))),this.outputCategoryMask&&(KS(e,"category_mask"),BS(n,"CATEGORY_MASK:category_mask"),hC(this,"category_mask"),this.g.W("category_mask",((e,t)=>{this.categoryMask=hA(this,e,!1,!this.j),fC(this,t)})),this.g.attachEmptyPacketListener("category_mask",(e=>{this.categoryMask=void 0,fC(this,e)}))),KS(e,"quality_scores"),BS(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((e,t)=>{this.qualityScores=e,fC(this,t)})),this.g.attachEmptyPacketListener("quality_scores",(e=>{this.categoryMask=void 0,fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};qA.prototype.getLabels=qA.prototype.Fa,qA.prototype.segmentForVideo=qA.prototype.Na,qA.prototype.segment=qA.prototype.ga,qA.prototype.setOptions=qA.prototype.o,qA.createFromModelPath=function(e,t){return cA(qA,e,{baseOptions:{modelAssetPath:t}})},qA.createFromModelBuffer=function(e,t){return cA(qA,e,{baseOptions:{modelAssetBuffer:t}})},qA.createFromOptions=function(e,t){return cA(qA,e,t)};var XA=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;null!==(e=this.confidenceMasks)&&void 0!==e&&e.forEach((e=>{e.close()})),null===(t=this.categoryMask)||void 0===t||t.close()}};XA.prototype.close=XA.prototype.close;var KA=class extends ok{constructor(e){super(e)}},YA=[0,Jk,-2],$A=[0,qk,-3,nS],ZA=[0,qk,-3,nS,qk,-1],QA=[0,ZA],JA=[0,QA,YA],eO=[0,ZA,YA],tO=[0,ZA,Jk,-1],nO=[0,tO,YA],rO=[0,qk,-3,nS,YA,-1],oO=[0,qk,-3,nS,dS],iO=class extends ok{constructor(e){super(e)}},aO=[0,qk,-1,nS],sO=class extends ok{constructor(){super()}};sO.B=[1];var uO=class extends ok{constructor(e){super(e)}},cO=[1,2,3,4,5,6,7,8,9,10,14,15],lO=[0,cO,cS,ZA,cS,eO,cS,QA,cS,JA,cS,aO,cS,oO,cS,$A,cS,[0,aS,qk,-2,nS,Jk,nS,-1,2,qk,YA],cS,tO,cS,nO,qk,YA,aS,cS,rO,cS,[0,Gk,aO]],fO=[0,aS,Jk,-1,nS],dO=class extends ok{constructor(){super()}};dO.B=[1],dO.prototype.g=gS([0,Gk,lO,aS,fO]);var hO=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new LE,this.v=new NE,Gx(this.h,0,3,this.v),Gx(e=this.h,0,1,t=new G_)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t,n;return"outputCategoryMask"in e&&(this.outputCategoryMask=null!==(t=e.outputCategoryMask)&&void 0!==t&&t),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=null===(n=e.outputConfidenceMasks)||void 0===n||n),super.l(e)}ga(e,t,n,r){const o="function"!=typeof n?n:{};this.j="function"==typeof n?n:r,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.J+1,r=new dO;const i=new uO;var a=new KA;if(tk(a,1,255),Gx(i,0,12,a),t.keypoint&&t.scribble)throw Error("Cannot provide both keypoint and scribble.");if(t.keypoint){var s=new iO;ek(s,3,!0),nk(s,1,t.keypoint.x),nk(s,2,t.keypoint.y),qx(i,5,cO,s)}else{if(!t.scribble)throw Error("Must provide either a keypoint or a scribble.");for(s of(a=new sO,t.scribble))ek(t=new iO,3,!0),nk(t,1,s.x),nk(t,2,s.y),Yx(a,1,iO,t);qx(i,15,cO,a)}Yx(r,1,uO,i),this.g.addProtoToStream(r.g(),"drishti.RenderData","roi_in",n),fA(this,e,o);e:{try{const e=new XA(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var u=e;break e}this.j(e)}finally{pC(this)}u=void 0}return u}m(){var e=new YS;XS(e,"image_in"),XS(e,"roi_in"),XS(e,"norm_rect_in");const t=new TS;rk(t,jE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),jS(n,"IMAGE:image_in"),jS(n,"ROI:roi_in"),jS(n,"NORM_RECT:norm_rect_in"),n.o(t),qS(e,n),dC(this,e),this.outputConfidenceMasks&&(KS(e,"confidence_masks"),BS(n,"CONFIDENCE_MASKS:confidence_masks"),hC(this,"confidence_masks"),this.g.da("confidence_masks",((e,t)=>{this.confidenceMasks=e.map((e=>hA(this,e,!0,!this.j))),fC(this,t)})),this.g.attachEmptyPacketListener("confidence_masks",(e=>{this.confidenceMasks=[],fC(this,e)}))),this.outputCategoryMask&&(KS(e,"category_mask"),BS(n,"CATEGORY_MASK:category_mask"),hC(this,"category_mask"),this.g.W("category_mask",((e,t)=>{this.categoryMask=hA(this,e,!1,!this.j),fC(this,t)})),this.g.attachEmptyPacketListener("category_mask",(e=>{this.categoryMask=void 0,fC(this,e)}))),KS(e,"quality_scores"),BS(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((e,t)=>{this.qualityScores=e,fC(this,t)})),this.g.attachEmptyPacketListener("quality_scores",(e=>{this.categoryMask=void 0,fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};hO.prototype.segment=hO.prototype.ga,hO.prototype.setOptions=hO.prototype.o,hO.createFromModelPath=function(e,t){return cA(hO,e,{baseOptions:{modelAssetPath:t}})},hO.createFromModelBuffer=function(e,t){return cA(hO,e,{baseOptions:{modelAssetBuffer:t}})},hO.createFromOptions=function(e,t){return cA(hO,e,t)};var pO=class extends pA{constructor(e,t){super(new uA(e,t),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},Gx(e=this.h=new BE,0,1,t=new G_)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){return void 0!==e.displayNamesLocale?_x(this.h,2,Vw(e.displayNamesLocale)):"displayNamesLocale"in e&&_x(this.h,2),void 0!==e.maxResults?tk(this.h,3,e.maxResults):"maxResults"in e&&_x(this.h,3),void 0!==e.scoreThreshold?nk(this.h,4,e.scoreThreshold):"scoreThreshold"in e&&_x(this.h,4),void 0!==e.categoryAllowlist?Mx(this.h,5,e.categoryAllowlist):"categoryAllowlist"in e&&_x(this.h,5),void 0!==e.categoryDenylist?Mx(this.h,6,e.categoryDenylist):"categoryDenylist"in e&&_x(this.h,6),this.l(e)}F(e,t){return this.j={detections:[]},fA(this,e,t),this.j}G(e,t,n){return this.j={detections:[]},dA(this,e,n,t),this.j}m(){var e=new YS;XS(e,"input_frame_gpu"),XS(e,"norm_rect"),KS(e,"detections");const t=new TS;rk(t,zE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.ObjectDetectorGraph"),jS(n,"IMAGE:input_frame_gpu"),jS(n,"NORM_RECT:norm_rect"),BS(n,"DETECTIONS:detections"),n.o(t),qS(e,n),this.g.attachProtoVectorListener("detections",((e,t)=>{for(const n of e)e=p_(n),this.j.detections.push(GE(e));fC(this,t)})),this.g.attachEmptyPacketListener("detections",(e=>{fC(this,e)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};pO.prototype.detectForVideo=pO.prototype.G,pO.prototype.detect=pO.prototype.F,pO.prototype.setOptions=pO.prototype.o,pO.createFromModelPath=async function(e,t){return cA(pO,e,{baseOptions:{modelAssetPath:t}})},pO.createFromModelBuffer=function(e,t){return cA(pO,e,{baseOptions:{modelAssetBuffer:t}})},pO.createFromOptions=function(e,t){return cA(pO,e,t)};var mO=class{constructor(e,t,n){this.landmarks=e,this.worldLandmarks=t,this.segmentationMasks=n}close(){var e;null===(e=this.segmentationMasks)||void 0===e||e.forEach((e=>{e.close()}))}};function vO(e){e.landmarks=[],e.worldLandmarks=[],e.segmentationMasks=void 0}function gO(e){try{const t=new mO(e.landmarks,e.worldLandmarks,e.segmentationMasks);if(!e.j)return t;e.j(t)}finally{pC(e)}}mO.prototype.close=mO.prototype.close;var yO=class extends pA{constructor(e,t){super(new uA(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,Gx(e=this.h=new UE,0,1,t=new G_),this.D=new CE,Gx(this.h,0,3,this.D),this.v=new _E,Gx(this.h,0,2,this.v),tk(this.v,4,1),nk(this.v,2,.5),nk(this.D,2,.5),nk(this.h,4,.5)}get baseOptions(){return Wx(this.h,G_,1)}set baseOptions(e){Gx(this.h,0,1,e)}o(e){var t,n,r,o,i;return"numPoses"in e&&tk(this.v,4,null!==(t=e.numPoses)&&void 0!==t?t:1),"minPoseDetectionConfidence"in e&&nk(this.v,2,null!==(n=e.minPoseDetectionConfidence)&&void 0!==n?n:.5),"minTrackingConfidence"in e&&nk(this.h,4,null!==(r=e.minTrackingConfidence)&&void 0!==r?r:.5),"minPosePresenceConfidence"in e&&nk(this.D,2,null!==(o=e.minPosePresenceConfidence)&&void 0!==o?o:.5),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=null!==(i=e.outputSegmentationMasks)&&void 0!==i&&i),this.l(e)}F(e,t,n){const r="function"!=typeof t?t:{};return this.j="function"==typeof t?t:n,vO(this),fA(this,e,r),gO(this)}G(e,t,n,r){const o="function"!=typeof n?n:{};return this.j="function"==typeof n?n:r,vO(this),dA(this,e,o,t),gO(this)}m(){var e=new YS;XS(e,"image_in"),XS(e,"norm_rect"),KS(e,"normalized_landmarks"),KS(e,"world_landmarks"),KS(e,"segmentation_masks");const t=new TS;rk(t,WE,this.h);const n=new zS;LS(n,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),jS(n,"IMAGE:image_in"),jS(n,"NORM_RECT:norm_rect"),BS(n,"NORM_LANDMARKS:normalized_landmarks"),BS(n,"WORLD_LANDMARKS:world_landmarks"),n.o(t),qS(e,n),dC(this,e),this.g.attachProtoVectorListener("normalized_landmarks",((e,t)=>{this.landmarks=[];for(const n of e)e=k_(n),this.landmarks.push(qE(e));fC(this,t)})),this.g.attachEmptyPacketListener("normalized_landmarks",(e=>{this.landmarks=[],fC(this,e)})),this.g.attachProtoVectorListener("world_landmarks",((e,t)=>{this.worldLandmarks=[];for(const n of e)e=y_(n),this.worldLandmarks.push(XE(e));fC(this,t)})),this.g.attachEmptyPacketListener("world_landmarks",(e=>{this.worldLandmarks=[],fC(this,e)})),this.outputSegmentationMasks&&(BS(n,"SEGMENTATION_MASK:segmentation_masks"),hC(this,"segmentation_masks"),this.g.da("segmentation_masks",((e,t)=>{this.segmentationMasks=e.map((e=>hA(this,e,!0,!this.j))),fC(this,t)})),this.g.attachEmptyPacketListener("segmentation_masks",(e=>{this.segmentationMasks=[],fC(this,e)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};yO.prototype.detectForVideo=yO.prototype.G,yO.prototype.detect=yO.prototype.F,yO.prototype.setOptions=yO.prototype.o,yO.createFromModelPath=function(e,t){return cA(yO,e,{baseOptions:{modelAssetPath:t}})},yO.createFromModelBuffer=function(e,t){return cA(yO,e,{baseOptions:{modelAssetBuffer:t}})},yO.createFromOptions=function(e,t){return cA(yO,e,t)},yO.POSE_CONNECTIONS=FA;const bO=n.p+"static/media/hand_landmarker.f37688b46bf8ca58fde8.task",wO=n.p+"static/media/gesture_recognizer.e6da305402bc70831b76.task",xO=n.p+"static/media/face_landmarker.671b47307d70e9bf1540.task",kO=(0,t.createContext)(),SO=e=>{let{children:n}=e;const{mobileLens:r,mode:o,imgTaking:i,videoRef:a,canvasRef:s,handleCaptureImg:u}=(0,t.useContext)(oy),[c,l]=(0,t.useState)(!1),[f,d]=(0,t.useState)({handMarker:null,gestureRecognizer:null,faceMarker:null});let h;const p=(0,t.useRef)(null);let m={touchFace:!1,handPosture:""};const[v,g]=(0,t.useState)({touchFace:!1,handPosture:""}),y=(e,t,n,r)=>{if(e.current&&e.current.readyState>=2){const o=t.detectForVideo(e.current,performance.now());o.landmarks;let i=Date.now();const a=n.recognizeForVideo(e.current,i);a.gestures&&a.gestures.length>0&&a.gestures[0].length>0?"Open_Palm"===(null===a||void 0===a?void 0:a.gestures[0][0].categoryName)?(m.handPosture="Open_Palm",g((e=>({...e,handPosture:"Open_Palm"})))):"Thumb_Up"===(null===a||void 0===a?void 0:a.gestures[0][0].categoryName)?"Open_Palm"===m.handPosture&&(m.handPosture="Thumb_Up",g((e=>({...e,handPosture:"Thumb_Up"})))):(m.handPosture="",g((e=>({...e,handPosture:""})))):(m.handPosture="",g((e=>({...e,handPosture:""}))));const s=r.detectForVideo(e.current,i);s.faceLandmarks&&o.landmarks&&s.faceLandmarks&&b(o.landmarks,s.faceLandmarks)}p.current=setTimeout((()=>{h=requestAnimationFrame((()=>y(e,t,n,r)))}),100)},b=(e,t)=>{if(t[0]){const n=t[0];e.forEach((e=>{e.forEach((e=>{const t=e.x,r=e.y;n.forEach((e=>{const n=e.x,a=e.y;if(Math.sqrt((t-n)**2+(r-a)**2)<.5&&i){if(m.touchFace)return;m.touchFace=!0,g((e=>({...e,touchFace:!0}))),"Thumb_Up"===m.handPosture&&(u(3,o),m.handPosture="",m.touchFace=!1)}else{if(!m.touchFace)return;m.touchFace=!1,g((e=>({...e,touchFace:!1})))}}))}))}))}};return(0,t.useEffect)((()=>{(async()=>{try{const e=await eC.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),t=await DA.createFromOptions(e,{baseOptions:{modelAssetPath:bO,delegate:"GPU"},numHands:2,runningMode:"video"}),n=await NA.createFromOptions(e,{baseOptions:{modelAssetPath:wO,delegate:"GPU"},numHands:2,runningMode:"video"}),r=await AA.createFromOptions(e,{baseOptions:{modelAssetPath:xO,delegate:"GPU"},numFaces:1,runningMode:"video"});d((()=>({...f,handMarker:t,gestureRecognizer:n,faceMarker:r}))),l(!0)}catch(e){console.error("Error initializing hand detection:",e)}})()}),[]),(0,tu.jsx)(kO.Provider,{value:{handleMaker:f,postureModels:c,detect:y,stopDetection:(e,t)=>{if(h&&cancelAnimationFrame(h),p.current){clearTimeout(p.current),p.current=null;const n=t.current;if(!e&&n){const e=n.getContext("2d");e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),e.restore(),setTimeout((()=>{e.clearRect(0,0,n.width,n.height)}),250)}}},postureCtrl:v},children:n})};var _O,EO,CO,AO,OO=n(6159),TO=n.n(OO);const RO=()=>{const{capturedImg:e,chooseImg:n,fnBtnShow:r,setFnBtnShow:o,messageShow:i,db:a,getImages:s,deleteImage:u,deleteAllImages:c}=(0,t.useContext)(oy),{t:l,i18n:f}=Ks(),d=(t,n)=>{try{let r=[...e];if(0===r.length)return i(".mediaArea","\u7121\u5132\u5b58\u7684\u7167\u7247","No photos saved",2,!1);if(1===t)s(a).then((e=>{let t=e.reverse();t[n]&&u(a,t[n].id)})),r.splice(n,1);else if("all"===t){const e="zh"===f.language?"\u78ba\u5b9a\u8981\u522a\u9664\u6240\u6709\u7167\u7247\u55ce?":"Are you sure you want to delete all photos?";if(!window.confirm(e))return;c(a),r=[]}}catch(r){console.log(r)}};return(0,tu.jsxs)("div",{style:{position:"fixed",right:"1rem",textAlign:"center",bottom:"50%",transform:"translateY(50%)"},children:[(0,tu.jsxs)(PO,{$fnbtnshow:r.toString(),children:[(0,tu.jsx)(NO,{onClick:()=>d(1,n),children:l("videoCapture.deleteCurrent")}),(0,tu.jsx)(NO,{onClick:()=>d("all",""),children:l("videoCapture.deleteAll")}),(0,tu.jsx)(NO,{onClick:()=>(e=>{if(0===e.length)return i(".mediaArea","\u7121\u7167\u7247\u53ef\u4e0b\u8f09","No photo download",2,!1);if(e)if(Pl.Fr)e.forEach(((e,t)=>{fetch(e).then((e=>e.blob())).then((e=>{const t=document.createElement("a");t.style.display="none";const n=window.URL.createObjectURL(e);t.href=n,t.download="image-".concat((new Date).getTime(),".png"),document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}))}));else{const t=new(TO()),n=e.map(((e,n)=>fetch(e).then((e=>e.blob())).then((e=>{t.file("image-".concat(n+1,".png"),e,{binary:!0})}))));Promise.all(n).then((()=>{t.generateAsync({type:"blob"}).then((e=>{const t=window.URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=t,n.download="captured-images-".concat((new Date).getTime(),".zip"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t),document.body.removeChild(n)}))})).catch((e=>{console.error("Failed to fetch one or more images:",e)}))}})(e),children:l("videoCapture.download")})]}),(0,tu.jsx)(Fl,{children:(0,tu.jsx)(gs,{icon:Es,onClick:()=>o((e=>!e))})})]})},IO=(0,t.memo)(RO),PO=Nr.div.attrs({className:"SideBtnArea"})(_O||(_O=Fr(["\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 2.5rem;\n    padding: 0.1rem;\n    display: ",";\n    overflow: hidden;\n"])),(e=>"true"===e.$fnbtnshow?"block":"none")),NO=Nr.button.attrs({className:"SideBtnFunction"})(EO||(EO=Fr(["\n    color: "," !important;\n    /* position: relative; */\n    display: flex;\n    justify-content: center;\n    background-color: ",";\n    align-items: center;\n    font-weight: bold;\n    font-size:large;\n    width: 6rem;\n    height: 5rem;\n    margin-block: 1rem;\n    padding-inline:1rem;\n    border-radius: 5px;\n    border: none;\n    white-space: break-spaces;\n    box-shadow: ",";\n    /* background-color: red !important; */\n    backdrop-filter:blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n    cursor: pointer;\n    ",";\n    &:hover {\n        ","\n    }\n\n    &:active {\n        ","\n    }\n"])),(e=>(e.theme.btnCaptureText,"".concat(e.theme.btnCaptureText))),(e=>e.theme.blurBg),(e=>"0 0 0 1px ".concat(e.theme.textColor)),Nl,!Pl.Fr&&Rr(CO||(CO=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 3px ".concat(e.theme.textColorHover))),Pl.Fr&&Rr(AO||(AO=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 3px ".concat(e.theme.textColorHover))));const MO={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const DO=(0,t.createContext)({});function FO(e){return"object"===ou(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===ou(e.icon)||"function"===typeof e.icon)}function LO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r,o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[(r=n,r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=o;return t}),{})}function jO(e,n,r){return r?t.createElement(e.tag,vf(vf({key:n},LO(e.attrs)),r),(e.children||[]).map((function(t,r){return jO(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,vf({key:n},LO(e.attrs)),(e.children||[]).map((function(t,r){return jO(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function BO(e){return Bm(e)[0]}function zO(e){return e?Array.isArray(e)?e:[e]:[]}var UO=["icon","className","onClick","style","primaryColor","secondaryColor"],WO={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var HO=function(e){var n,r,o=e.icon,i=e.className,a=e.onClick,s=e.style,u=e.primaryColor,c=e.secondaryColor,l=gf(e,UO),f=t.useRef(),d=WO;if(u&&(d={primaryColor:u,secondaryColor:c||BO(u)}),function(e){var n=(0,t.useContext)(DO),r=n.csp,o=n.prefixCls,i="\n.anticon {\n  display: inline-flex;\n  alignItems: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(i=i.replace(/anticon/g,o)),(0,t.useEffect)((function(){var t=kd(e.current);Hf(i,"@ant-design-icons",{prepend:!0,csp:r,attachTo:t})}),[])}(f),n=FO(o),r="icon should be icon definiton, but got ".concat(o),_f(n,"[@ant-design/icons] ".concat(r)),!FO(o))return null;var h=o;return h&&"function"===typeof h.icon&&(h=vf(vf({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),jO(h.icon,"svg-".concat(h.name),vf(vf({className:i,onClick:a,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:f}))};HO.displayName="IconReact",HO.getTwoToneColors=function(){return vf({},WO)},HO.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;WO.primaryColor=t,WO.secondaryColor=n||BO(t),WO.calculated=!!n};const VO=HO;function GO(e){var t=Yl(zO(e),2),n=t[0],r=t[1];return VO.setTwoToneColors({primaryColor:n,secondaryColor:r})}var qO=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];GO(Hm.primary);var XO=t.forwardRef((function(e,n){var r=e.className,o=e.icon,i=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,c=e.twoToneColor,l=gf(e,qO),f=t.useContext(DO),d=f.prefixCls,h=void 0===d?"anticon":d,p=f.rootClassName,m=ql()(p,h,au(au({},"".concat(h,"-").concat(o.name),!!o.name),"".concat(h,"-spin"),!!i||"loading"===o.name),r),v=s;void 0===v&&u&&(v=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,y=Yl(zO(c),2),b=y[0],w=y[1];return t.createElement("span",pf({role:"img","aria-label":o.name},l,{ref:n,tabIndex:v,onClick:u,className:m}),t.createElement(VO,{icon:o,primaryColor:b,secondaryColor:w,style:g}))}));XO.displayName="AntdIcon",XO.getTwoToneColor=function(){var e=VO.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},XO.setTwoToneColor=GO;const KO=XO;var YO=function(e,n){return t.createElement(KO,pf({},e,{ref:n,icon:MO}))};const $O=t.forwardRef(YO);var ZO=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],QO=t.forwardRef((function(e,n){var r,o=e.prefixCls,i=void 0===o?"rc-switch":o,a=e.className,s=e.checked,u=e.defaultChecked,c=e.disabled,l=e.loadingIcon,f=e.checkedChildren,d=e.unCheckedChildren,h=e.onClick,p=e.onChange,m=e.onKeyDown,v=gf(e,ZO),g=Yl(of(!1,{value:s,defaultValue:u}),2),y=g[0],b=g[1];function w(e,t){var n=y;return c||(b(n=e),null===p||void 0===p||p(n,t)),n}var x=ql()(i,a,(au(r={},"".concat(i,"-checked"),y),au(r,"".concat(i,"-disabled"),c),r));return t.createElement("button",pf({},v,{type:"button",role:"switch","aria-checked":y,disabled:c,className:x,ref:n,onKeyDown:function(e){e.which===sf.LEFT?w(!1,e):e.which===sf.RIGHT&&w(!0,e),null===m||void 0===m||m(e)},onClick:function(e){var t=w(!y,e);null===h||void 0===h||h(t,e)}}),l,t.createElement("span",{className:"".concat(i,"-inner")},t.createElement("span",{className:"".concat(i,"-inner-checked")},f),t.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))}));QO.displayName="Switch";const JO=QO,eT=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)].join(",")}}}}},tT=pg("Wave",(e=>[eT(e)])),nT="ant-wave-target";function rT(){rT=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(I([])));k&&k!==n&&r.call(k,a)&&(w=k);var S=b.prototype=g.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ou(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ou(t)+" is not iterable")}return y.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function oT(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function iT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oT(i,r,o,a,s,"next",e)}function s(e){oT(i,r,o,a,s,"throw",e)}a(void 0)}))}}var aT,sT=vf({},ml),uT=sT.version,cT=sT.render,lT=sT.unmountComponentAtNode;try{Number((uT||"").split(".")[0])>=18&&(aT=sT.createRoot)}catch(jK){}function fT(e){var t=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===ou(t)&&(t.usingClientEntryPoint=e)}var dT="__rc_react_root__";function hT(e,t){aT?function(e,t){fT(!0);var n=t[dT]||aT(t);fT(!1),n.render(e),t[dT]=n}(e,t):function(e,t){cT(e,t)}(e,t)}function pT(e){return mT.apply(this,arguments)}function mT(){return(mT=iT(rT().mark((function e(t){return rT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[dT])||void 0===e||e.unmount(),delete t[dT]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(e){lT(e)}function gT(){return(gT=iT(rT().mark((function e(t){return rT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===aT){e.next=2;break}return e.abrupt("return",pT(t));case 2:vT(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yT(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function bT(e){return Number.isNaN(e)?0:e}const wT=e=>{const{className:n,target:r,component:o}=e,i=t.useRef(null),[a,s]=t.useState(null),[u,c]=t.useState([]),[l,f]=t.useState(0),[d,h]=t.useState(0),[p,m]=t.useState(0),[v,g]=t.useState(0),[y,b]=t.useState(!1),w={left:l,top:d,width:p,height:v,borderRadius:u.map((e=>"".concat(e,"px"))).join(" ")};function x(){const e=getComputedStyle(r);s(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return yT(t)?t:yT(n)?n:yT(r)?r:null}(r));const t="static"===e.position,{borderLeftWidth:n,borderTopWidth:o}=e;f(t?r.offsetLeft:bT(-parseFloat(n))),h(t?r.offsetTop:bT(-parseFloat(o))),m(r.offsetWidth),g(r.offsetHeight);const{borderTopLeftRadius:i,borderTopRightRadius:a,borderBottomLeftRadius:u,borderBottomRightRadius:l}=e;c([i,a,l,u].map((e=>bT(parseFloat(e)))))}if(a&&(w["--wave-color"]=a),t.useEffect((()=>{if(r){const e=ih((()=>{x(),b(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(x),t.observe(r)),()=>{ih.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!y)return null;const k=("Checkbox"===o||"Radio"===o)&&(null===r||void 0===r?void 0:r.classList.contains(nT));return t.createElement(kh,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=i.current)||void 0===n?void 0:n.parentElement;(function(e){return gT.apply(this,arguments)})(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},(e=>{let{className:r}=e;return t.createElement("div",{ref:i,className:ql()(n,{"wave-quick":k},r),style:w})}))},xT=(e,n)=>{var r;const{component:o}=n;if("Checkbox"===o&&!(null===(r=e.querySelector("input"))||void 0===r?void 0:r.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",null===e||void 0===e||e.insertBefore(i,null===e||void 0===e?void 0:e.firstChild),hT(t.createElement(wT,Object.assign({},n,{target:e})),i)},kT=(e,n,r)=>{const{wave:o}=t.useContext(ff),[,i,a]=hv(),s=$l((t=>{const s=e.current;if((null===o||void 0===o?void 0:o.disabled)||!s)return;const u=s.querySelector(".".concat(nT))||s,{showEffect:c}=o||{};(c||xT)(u,{className:n,token:i,component:r,event:t,hashId:a})})),u=t.useRef();return e=>{ih.cancel(u.current),u.current=ih((()=>{s(e)}))}};const ST=e=>{const{children:n,disabled:r,component:o}=e,{getPrefixCls:i}=(0,t.useContext)(ff),a=(0,t.useRef)(null),s=i("wave"),[,u]=tT(s),c=kT(a,ql()(s,u),o);if(t.useEffect((()=>{const e=a.current;if(!e||1!==e.nodeType||r)return;const t=t=>{!Nh(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[r]),!t.isValidElement(n))return null!==n&&void 0!==n?n:null;return lf(n,{ref:Tf(n)?Af(n.ref,a):a})},_T=t.createContext(!1),ET=_T,CT=t.createContext(void 0),AT=CT,OT=e=>{const n=t.useContext(AT);return t.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:n:e instanceof Function?e(n):n:n),[e,n])},TT=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:i,innerMaxMarginSM:a,handleSizeSM:s,calc:u}=e,c="".concat(t,"-inner"),l=kp(u(s).add(u(r).mul(2)).equal()),f=kp(u(a).mul(2).equal());return{[t]:{["&".concat(t,"-small")]:{minWidth:o,height:n,lineHeight:kp(n),["".concat(t,"-inner")]:{paddingInlineStart:a,paddingInlineEnd:i,["".concat(c,"-checked, ").concat(c,"-unchecked")]:{minHeight:n},["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(l," - ").concat(f,")"),marginInlineEnd:"calc(100% - ".concat(l," + ").concat(f,")")},["".concat(c,"-unchecked")]:{marginTop:u(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(t,"-handle")]:{width:s,height:s},["".concat(t,"-loading-icon")]:{top:u(u(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},["&".concat(t,"-checked")]:{["".concat(t,"-inner")]:{paddingInlineStart:i,paddingInlineEnd:a,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(l," + ").concat(f,")"),marginInlineEnd:"calc(-100% + ".concat(l," - ").concat(f,")")}},["".concat(t,"-handle")]:{insetInlineStart:"calc(100% - ".concat(kp(u(s).add(r).equal()),")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:u(e.marginXXS).div(2).equal(),marginInlineEnd:u(e.marginXXS).mul(-1).div(2).equal()}},["&".concat(t,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:u(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:u(e.marginXXS).div(2).equal()}}}}}}},RT=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{["".concat(t,"-loading-icon").concat(e.iconCls)]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},["&".concat(t,"-checked ").concat(t,"-loading-icon")]:{color:e.switchColor}}}},IT=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:o,handleSize:i,calc:a}=e,s="".concat(t,"-handle");return{[t]:{[s]:{position:"absolute",top:n,insetInlineStart:n,width:i,height:i,transition:"all ".concat(e.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:a(i).div(2).equal(),boxShadow:o,transition:"all ".concat(e.switchDuration," ease-in-out"),content:'""'}},["&".concat(t,"-checked ").concat(s)]:{insetInlineStart:"calc(100% - ".concat(kp(a(i).add(n).equal()),")")},["&:not(".concat(t,"-disabled):active")]:{["".concat(s,"::before")]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},["&".concat(t,"-checked ").concat(s,"::before")]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},PT=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:i,handleSize:a,calc:s}=e,u="".concat(t,"-inner"),c=kp(s(a).add(s(r).mul(2)).equal()),l=kp(s(i).mul(2).equal());return{[t]:{[u]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:o,transition:"padding-inline-start ".concat(e.switchDuration," ease-in-out, padding-inline-end ").concat(e.switchDuration," ease-in-out"),["".concat(u,"-checked, ").concat(u,"-unchecked")]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:"margin-inline-start ".concat(e.switchDuration," ease-in-out, margin-inline-end ").concat(e.switchDuration," ease-in-out"),pointerEvents:"none",minHeight:n},["".concat(u,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(c," - ").concat(l,")"),marginInlineEnd:"calc(100% - ".concat(c," + ").concat(l,")")},["".concat(u,"-unchecked")]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(t,"-checked ").concat(u)]:{paddingInlineStart:o,paddingInlineEnd:i,["".concat(u,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(u,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(c," + ").concat(l,")"),marginInlineEnd:"calc(-100% + ".concat(c," - ").concat(l,")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(u)]:{["".concat(u,"-unchecked")]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},["&".concat(t,"-checked ").concat(u)]:{["".concat(u,"-checked")]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},NT=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Nv(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:"".concat(kp(n)),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),userSelect:"none",["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorTextTertiary}}),Lv(e)),{["&".concat(t,"-checked")]:{background:e.switchColor,["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorPrimaryHover}},["&".concat(t,"-loading, &").concat(t,"-disabled")]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(t,"-rtl")]:{direction:"rtl"}})}},MT=mg("Switch",(e=>{const t=Jv(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(e.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[NT(t),PT(t),IT(t),RT(t),TT(t)]}),(e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:o}=e,i=t*n,a=r/2,s=i-4,u=a-4;return{trackHeight:i,trackHeightSM:a,trackMinWidth:2*s+8,trackMinWidthSM:2*u+4,trackPadding:2,handleBg:o,handleSize:s,handleSizeSM:u,handleShadow:"0 2px 4px 0 ".concat(new qm("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:u/2,innerMaxMarginSM:u+2+4}}));var DT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const FT=t.forwardRef(((e,n)=>{const{prefixCls:r,size:o,disabled:i,loading:a,className:s,rootClassName:u,style:c,checked:l,value:f,defaultChecked:d,defaultValue:h,onChange:p}=e,m=DT(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[v,g]=of(!1,{value:null!==l&&void 0!==l?l:f,defaultValue:null!==d&&void 0!==d?d:h}),{getPrefixCls:y,direction:b,switch:w}=t.useContext(ff),x=t.useContext(ET),k=(null!==i&&void 0!==i?i:x)||a,S=y("switch",r),_=t.createElement("div",{className:"".concat(S,"-handle")},a&&t.createElement($O,{className:"".concat(S,"-loading-icon")})),[E,C,A]=MT(S),O=OT(o),T=ql()(null===w||void 0===w?void 0:w.className,{["".concat(S,"-small")]:"small"===O,["".concat(S,"-loading")]:a,["".concat(S,"-rtl")]:"rtl"===b},s,u,C,A),R=Object.assign(Object.assign({},null===w||void 0===w?void 0:w.style),c);return E(t.createElement(ST,{component:"Switch"},t.createElement(JO,Object.assign({},m,{checked:v,onChange:function(){g(arguments.length<=0?void 0:arguments[0]),null===p||void 0===p||p.apply(void 0,arguments)},prefixCls:S,className:T,style:R,disabled:k,ref:n,loadingIcon:_}))))})),LT=FT;LT.__ANT_SWITCH=!0;const jT=LT,BT=(e,t)=>{const n=n=>{let r=!1;Array.isArray(e)?e.forEach((e=>{e.current&&e.current.contains(n.target)&&(r=!0)})):e.current&&e.current.contains(n.target)&&(r=!0),r||t()};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}};var zT,UT,WT,HT,VT;const GT=()=>{const{photoSound:e,setPhotoSound:n,smileDetect:r,setSmileDetect:o,postureDetect:i,setPostureDetect:a,voiceDetect:s,setVoiceDetect:u}=(0,t.useContext)(ny),{fnBtnShow:c,setFnBtnShow:l}=(0,t.useContext)(oy),{t:f,i18n:d}=Ks(),h=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(h.current&&c)return BT(h,(()=>{l(!1)}))}),[c]);return(0,tu.jsxs)("div",{style:{position:"fixed",right:"1rem",textAlign:"center",bottom:"50%",transform:"translateY(50%)"},children:[(0,tu.jsx)(XT,{$fnbtnshow:c.toString(),ref:h,children:(0,tu.jsx)(KT,{children:(0,tu.jsxs)("ul",{className:"",style:{listStyle:"none",margin:0,padding:0,width:"100%"},children:[(0,tu.jsxs)("li",{children:[(0,tu.jsx)(gs,{icon:ws,style:{width:"20px"}}),(0,tu.jsx)("span",{style:{marginInline:"0.5rem"},children:f("videoCapture.photograghSound")}),(0,tu.jsx)(jT,{checked:e,style:{marginLeft:"auto"},onChange:()=>n(!e)})]}),(0,tu.jsx)(Fg,{content:f("settingBtn.smileDetect"),title:"",trigger:"hover",overlayClassName:"custom-popover",children:(0,tu.jsxs)("li",{children:[(0,tu.jsx)(gs,{icon:Rs,style:{width:"20px"}}),(0,tu.jsx)("span",{style:{marginInline:"0.5rem"},children:f("videoCapture.smileDetect")}),(0,tu.jsx)(jT,{checked:r,style:{marginLeft:"auto"},onChange:()=>{o(!r),a(!1),u(!1)}})]})}),(0,tu.jsx)(Fg,{content:f("settingBtn.postureDetect"),title:"",trigger:"hover",overlayClassName:"custom-popover",children:(0,tu.jsxs)("li",{children:[(0,tu.jsx)(gs,{icon:xs,style:{width:"20px"}}),(0,tu.jsx)("span",{style:{marginInline:"0.5rem"},children:f("videoCapture.handDetect")}),(0,tu.jsx)(jT,{checked:i,style:{marginLeft:"auto"},onChange:()=>{o(!1),a(!i),u(!1)}})]})}),(0,tu.jsx)(Fg,{content:(p=f("settingBtn.voiceDetect"),p.split("\br").map(((e,t)=>(0,tu.jsx)("p",{style:{marginBottom:"0.5rem"},children:e},t)))),title:"",trigger:"hover",overlayClassName:"custom-popover",children:(0,tu.jsxs)("li",{children:[(0,tu.jsx)(gs,{icon:Ss,style:{width:"20px"}}),(0,tu.jsx)("span",{style:{marginInline:"0.5rem"},children:f("videoCapture.voiceControl")}),(0,tu.jsx)(jT,{checked:s,style:{marginLeft:"auto"},onChange:()=>{o(!1),a(!1),u(!s)}})]})})]})})}),(0,tu.jsx)(Fl,{children:(0,tu.jsx)(gs,{icon:As,onClick:()=>{setTimeout((()=>{l(!c)}),0)}})})]});var p},qT=(0,t.memo)(GT),XT=Nr.div.attrs({className:"SideBtnArea"})(zT||(zT=Fr(["\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 2.5rem;\n    padding: 0.1rem;\n    display: ",";\n    overflow: hidden;\n"])),(e=>"true"===e.$fnbtnshow?"block":"none")),KT=Nr.div.attrs({className:"SettingAreaDiv"})(UT||(UT=Fr(["\n    width: 12rem;\n    /* height: 300px; */\n    padding: 0.5rem;\n    border-radius: 1rem;\n    background-color: ",";\n    border: 1px solid #a7a7a7;\n    backdrop-filter: blur(5px);\n    \n"])),(e=>e.theme.blurBg)),YT=(Nr.button.attrs({className:"SideBtnFunction"})(WT||(WT=Fr(["\n    color: "," !important;\n    /* position: relative; */\n    display: flex;\n    justify-content: center;\n    background-color: ",";\n    align-items: center;\n    font-weight: bold;\n    font-size:large;\n    width: 6rem;\n    height: 5rem;\n    margin-block: 1rem;\n    padding-inline:1rem;\n    border-radius: 5px;\n    border: none;\n    white-space: break-spaces;\n    box-shadow: ",";\n    /* background-color: red !important; */\n    backdrop-filter:blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n    cursor: pointer;\n    ",";\n    &:hover {\n        ","\n    }\n\n    &:active {\n        ","\n    }\n"])),(e=>(e.theme.btnCaptureText,"".concat(e.theme.btnCaptureText))),(e=>e.theme.blurBg),(e=>"0 0 0 1px ".concat(e.theme.textColor)),Nl,!Pl.Fr&&Rr(HT||(HT=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 3px ".concat(e.theme.textColorHover))),Pl.Fr&&Rr(VT||(VT=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 3px ".concat(e.theme.textColorHover)))),(0,t.createContext)()),$T=e=>{let{children:n}=e;const{voiceDetect:r}=(0,t.useContext)(ny),{cameraState:o,mode:i,reCapture:a,setReCapture:s,messageShow:u,handleCaptureImg:c,getVideoRef:l,turnOffVideoRef:f}=(0,t.useContext)(oy),{t:d,i18n:h}=Ks(),[p,m]=(0,t.useState)(""),v=(0,t.useRef)(null),g=(0,t.useRef)(null),y=(0,t.useRef)(null),[b,w]=(0,t.useState)(0),x=()=>{v.current&&(v.current.start(),v.current.onend=()=>{v.current.start()})},k=()=>{v.current&&(v.current.stop(),v.current.onend=()=>(v.current.stop(),!1))},S=e=>{let t;t="zh"===h.language?["\u5ef6","\u9072","\u8fdf","\u79d2","\u62cd","\u7167"]:["delay","second"];const n=new RegExp("[".concat(t.join(""),"]"),"g");return e.replace(n,"").trim()};return(0,t.useEffect)((()=>{(async e=>{const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t)return void("zh"===e.language?alert("\u60a8\u7684\u700f\u89bd\u5668\u4e0d\u652f\u6301 Web Speech API"):alert("Your browser does not support the Web Speech API"));const n=new t;v.current=n,n.continuous=!0,n.interimResults=!0,"zh"===e.language?n.lang="zh-CN":n.lang="en-US",n.onresult=e=>{let t="";for(let n=e.resultIndex;n<e.results.length;++n)e.results[n].isFinal&&(t+=e.results[n][0].transcript);(t.endsWith("\u3002")||t.endsWith("."))&&(t=t.slice(0,-1)),m(t.trim().toLowerCase())},n.onerror=e=>{console.error(e.error)}})(h)}),[h.language]),(0,t.useEffect)((()=>{r?((async()=>{if(Pl.Fr)return;const e=new(window.AudioContext||window.webkitAudioContext);await e.audioWorklet.addModule("./audioModule/volumeProcessor.js"),g.current=e;try{const e=g.current;if(!e)return void console.error("AudioContext not initialized");const t=await navigator.mediaDevices.getUserMedia({audio:!0});y.current=t;const n=e.createMediaStreamSource(t),r=new AudioWorkletNode(e,"volume-processor");r&&(r.port.onmessage=e=>{const t=(7*e.data).toFixed(3);w(t)}),n.connect(r).connect(e.destination)}catch(t){console.error("Error starting volume detection",t)}})(),x()):(Pl.Fr||g.current&&y.current&&(y.current.getTracks().forEach((e=>e.stop())),g.current.close()),k())}),[r]),(0,t.useEffect)((()=>{((e,t,n,r)=>{try{if("zh"===e.language){if("\u958b\u555f\u93e1\u982d"===r||"\u5f00\u542f\u955c\u5934"===r||"\u5f00\u542f\u5c3d\u5934"===r)t||l.current.click();else if("\u95dc\u9589\u93e1\u982d"===r||"\u5173\u95ed\u955c\u5934"===r||"\u5173\u95ed\u5c3d\u5934"===r)t&&f.current.click();else if("\u62cd\u7167"===r)n||c(0,i);else if("\u91cd\u62cd"===r||"\u5f9e\u62cd"===r||"\u4ece\u62cd"===r)s(!1);else if((r.match(/\u5ef6\u9072.+\u79d2\u62cd\u7167/)||r.match(/\u5ef6\u8fdf.+\u79d2\u62cd\u7167/))&&!n){let e="number"===typeof S(r)?parseInt(S(r)):S(r);"\u4e00"===e?e=1:"\u4e8c"===e||"\u5169"===e?e=2:"\u4e09"===e?e=3:"\u56db"===e?e=4:"\u4e94"===e?e=5:"\u516d"===e?e=6:"\u4e03"===e?e=7:"\u516b"===e?e=8:"\u4e5d"===e?e=9:"\u5341"===e&&(e=10),(e>10||e<1)&&u(".mediaArea","\u5ef6\u9072\u79d2\u6578\u4e0d\u8d85\u904e10\u79d2","Delay seconds shall not exceed 10 seconds",2,!1),""!==e&&c(e,i)}}else if("open lens"===r||"open lance"===r||"open this"===r)t||l.current.click();else if("close lens"===r||"close lance"===r||"close this"===r)t&&f.current.click();else if("take picture"===r||"take a picture"===r||"take one picture"===r)n||c(0,i);else if("again"===r)s(!1);else if((r.match(/delay.+second/)||r.match(/delay.+nd/))&&!n){let e="number"===typeof S(r)?parseInt(S(r)):S(r);"one"===e?e=1:"two"===e||"to"===e||"2"===e?e=2:"three"===e?e=3:"four"===e?e=4:"five"===e?e=5:"six"===e?e=6:"seven"===e?e=7:"eight"===e?e=8:"nine"===e?e=9:"ten"===e&&(e=10),(e>10||e<1)&&u(".mediaArea","\u5ef6\u9072\u79d2\u6578\u4e0d\u8d85\u904e10\u79d2","Delay seconds shall not exceed 10 seconds",2,!1),""!==e&&c(e,i)}return void m("")}catch(o){console.log(o)}})(h,o,a,p)}),[h,p,o,a]),(0,tu.jsx)(YT.Provider,{value:{transcript:p,startRecording:x,stopRecording:k,voiceVolume:b},children:n})};var ZT,QT;const JT=e=>{let{data:n}=e;const{voiceVolume:r}=(0,t.useContext)(YT),{voiceDetect:o}=(0,t.useContext)(ny),{top:i,right:a,down:s,left:u,center:c}=n,[l,f]=(0,t.useState)({x:0,y:0}),[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(""),v=(0,t.useRef)(null),g=(0,t.useRef)(null),[y,b]=(0,t.useState)(!0),w=(e,t)=>{e(t)},x=e=>{if(!d)return;const t=e.currentTarget.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,o=e.touches[0],c=o.clientX-n,l=o.clientY-r,h=Math.sqrt(c*c+l*l);let p=Math.atan2(l,c);const v=t.width/2,y=Math.min(h,v),b=Math.cos(p)*y,w=Math.sin(p)*y;f({x:b,y:w});let x=p>=0?p:p+2*Math.PI;h>=v?(g.current.style.background="#00967bc4",x>=15/8*Math.PI||x<1/8*Math.PI?m(a.category):x>=1/8*Math.PI&&x<3/8*Math.PI||(x>=3/8*Math.PI&&x<5/8*Math.PI?m(s.category):x>=5/8*Math.PI&&x<7/8*Math.PI||(x>=7/8*Math.PI&&x<9/8*Math.PI?m(u.category):x>=9/8*Math.PI&&x<11/8*Math.PI||(x>=11/8*Math.PI&&x<13/8*Math.PI?m(i.category):x>=13/8*Math.PI&&Math.PI)))):(g.current.style.background="",m(""))},k=e=>{if(!d)return;const t=e.currentTarget.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,o=(e.clientX||e.touches&&e.touches[0].clientX)-n,c=(e.clientY||e.touches&&e.touches[0].clientY)-r,l=Math.sqrt(o*o+c*c),h=t.width/2,p=Math.min(l,h),v=Math.cos(Math.atan2(c,o))*p,y=Math.sin(Math.atan2(c,o))*p;f({x:v,y:y});let b=Math.atan2(c,o),w=b>=0?b:b+2*Math.PI;l>=h?(g.current.style.background="#00967bc4",w>=15/8*Math.PI||w<1/8*Math.PI?m(a.category):w>=1/8*Math.PI&&w<3/8*Math.PI||(w>=3/8*Math.PI&&w<5/8*Math.PI?m(s.category):w>=5/8*Math.PI&&w<7/8*Math.PI||(w>=7/8*Math.PI&&w<9/8*Math.PI?m(u.category):w>=9/8*Math.PI&&w<11/8*Math.PI||(w>=11/8*Math.PI&&w<13/8*Math.PI?m(i.category):w>=13/8*Math.PI&&Math.PI)))):(g.current.style.background="",m(""))},S=e=>{if(w(b,!0),e.stopPropagation(),Pl.Fr)return;const t=v.current,n=g.current;if(!t)return;const r=t.getBoundingClientRect(),o=r.left+r.width/2,d=r.top+r.height/2,p=(e.clientX||e.touches&&e.touches[0].clientX)-o,y=(e.clientY||e.touches&&e.touches[0].clientY)-d,x=r.width/2,k=Math.sqrt(p*p+y*y);let S=Math.atan2(y,p),_=S>=0?S:S+2*Math.PI;k>=x?_>=15/8*Math.PI||_<1/8*Math.PI?a.fn():_>=1/8*Math.PI&&_<3/8*Math.PI||(_>=3/8*Math.PI&&_<5/8*Math.PI?s.fn():_>=5/8*Math.PI&&_<7/8*Math.PI||(_>=7/8*Math.PI&&_<9/8*Math.PI?u.fn():_>=9/8*Math.PI&&_<11/8*Math.PI||(_>=11/8*Math.PI&&_<13/8*Math.PI?i.fn():_>=13/8*Math.PI&&Math.PI))):0===l.x&&0===l.y&&c.fn(),f({x:0,y:0}),m(""),h(!1),n.style.background=""};return(0,t.useEffect)((()=>(d&&document.addEventListener("mouseup",S),()=>{document.removeEventListener("mouseup",S)})),[d]),(0,tu.jsxs)(tR,{ref:v,$voiceVolume:r,onMouseDown:e=>{if(w(b,!1),Pl.Fr)return;g.current&&e.target===g.current&&(h(!0),k(e))},onMouseMove:k,onMouseUp:e=>{w(b,!0),e.stopPropagation();const t=v.current,n=g.current;if(!t)return;const r=t.getBoundingClientRect(),o=r.left,p=r.top,y=r.right,x=r.bottom,k=t.getBoundingClientRect(),S=k.left+k.width/2,_=k.top+k.height/2,E=(e.clientX||e.touches&&e.touches[0].clientX)-S,C=(e.clientY||e.touches&&e.touches[0].clientY)-_,A=k.width/2,O=Math.sqrt(E*E+C*C);let T=Math.atan2(C,E),R=T>=0?T:T+2*Math.PI;d&&(e.clientX<o||e.clientX>y||e.clientY<p||e.clientY>x?O>=A&&(R>=15/8*Math.PI||R<1/8*Math.PI?a.fn():R>=1/8*Math.PI&&R<3/8*Math.PI||(R>=3/8*Math.PI&&R<5/8*Math.PI?s.fn():R>=5/8*Math.PI&&R<7/8*Math.PI||(R>=7/8*Math.PI&&R<9/8*Math.PI?u.fn():R>=9/8*Math.PI&&R<11/8*Math.PI||(R>=11/8*Math.PI&&R<13/8*Math.PI?i.fn():R>=13/8*Math.PI&&Math.PI)))):Math.abs(l.x)<=10&&Math.abs(l.y)<=10&&c.fn()),f({x:0,y:0}),m(""),h(!1),n.style.background=""},onTouchStart:e=>{if(w(b,!1),!Pl.Fr)return;const t=g.current;t&&e.target===t&&(h(!0),x(e))},onTouchMove:x,onTouchEnd:e=>{if(w(b,!0),Pl.Fr){if(h(!1),d&&e.changedTouches&&e.changedTouches.length>0){const t=e.changedTouches[0],n=e.currentTarget.getBoundingClientRect(),r=n.left+n.width/2,o=n.top+n.height/2,d=t.clientX-r,h=t.clientY-o,p=Math.sqrt(d*d+h*h);let v=Math.atan2(h,d);const g=n.width/2;let y=v>=0?v:v+2*Math.PI;p>=g?y>=15/8*Math.PI||y<1/8*Math.PI?a.fn():y>=1/8*Math.PI&&y<3/8*Math.PI||(y>=3/8*Math.PI&&y<5/8*Math.PI?s.fn():y>=5/8*Math.PI&&y<7/8*Math.PI||(y>=7/8*Math.PI&&y<9/8*Math.PI?u.fn():y>=9/8*Math.PI&&y<11/8*Math.PI||(y>=11/8*Math.PI&&y<13/8*Math.PI?i.fn():y>=13/8*Math.PI&&Math.PI))):0===l.x&&0===l.y&&c.fn(),f({x:0,y:0}),m("")}g.current.style.background=""}},children:[(0,tu.jsx)("span",{style:{position:"absolute",top:"-2rem",left:"50%",transform:"translateX(-50%)"},children:"function"===typeof i.name?i.name():i.name}),(0,tu.jsx)("span",{style:{position:"absolute",top:"50%",right:"-2rem",transform:"translateY(-50%)"},children:"function"===typeof a.name?a.name():a.name}),(0,tu.jsx)("span",{style:{position:"absolute",bottom:"-2rem",left:"50%",transform:"translateX(-50%)"},children:"function"===typeof s.name?s.name():s.name}),(0,tu.jsx)("span",{style:{position:"absolute",top:"50%",left:"-2rem",transform:"translateY(-50%)"},children:"function"===typeof u.name?u.name():u.name}),(0,tu.jsxs)(nR,{style:{left:l.x+50,top:l.y+50,display:"flex",justifyContent:"center",alignItems:"center"},ref:g,children:[p,Pl.Fr&&o&&y&&(0,tu.jsx)(gs,{icon:Ss,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:"0.3",fontSize:"xx-large",pointerEvents:"none"}})]})]})},eR=(0,t.memo)(JT),tR=Nr.div(ZT||(ZT=Fr(["\n    position: relative;\n    width: 100px;\n    height: 100px;\n    /* box-shadow: ","; */\n    border-radius: 50%;\n    border:",';\n    &::before {\n        content:"";\n        position: absolute;\n        max-width: 110%;\n        max-height: 110%;\n        width: ',";\n        height: ",";\n        left:50%;\n        top: 50%;\n        border-radius: 50%;\n        transform:translate(-50%, -50%);\n        /* box-shadow: ","; */\n        border:",";\n        transition: width 0.2s, height 0.2s;\n    }\n"])),(e=>"0 0 0 3px ".concat(e.theme.boxShadow)),(e=>"3px solid ".concat(e.theme.boxShadow)),(e=>100+100*e.$voiceVolume+"%"),(e=>100+100*e.$voiceVolume+"%"),(e=>"0 0 0 1px ".concat(e.theme.boxShadow)),(e=>"1px solid ".concat(e.theme.boxShadow))),nR=Nr.div(QT||(QT=Fr(["\n    position: absolute;\n    display: flex;\n    width: 70px;\n    height: 70px;\n    background-color: ",";\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    /* pointer-events: none; */\n    cursor: pointer;\n"])),(e=>"".concat(e.theme.boxShadow)));var rR,oR,iR,aR;const sR=e=>{var n;let{options:r,selected:o,onChange:i}=e;const{cameraState:a,mobileLens:s,imgQuality:u,setImgQuality:c,getVideoStream:l,turnOffVideoStream:f}=(0,t.useContext)(oy),[d,h]=(0,t.useState)(!1),p=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(p.current&&d)return BT(p,(()=>{h(!1)}))}),[d]),(0,tu.jsxs)(cR,{children:[(0,tu.jsx)(lR,{onClick:()=>setTimeout((()=>{h(!d)}),0),children:(null===(n=r.find((e=>e.value===o)))||void 0===n?void 0:n.label)||"Select..."}),d&&(0,tu.jsx)(fR,{ref:p,children:r.map((e=>(0,tu.jsx)(dR,{onClick:()=>{return t=e.value,i(t),h(!1),"general"!==u&&c("general"),void(a&&Promise.resolve().then((()=>(f(),Promise.resolve()))).then((()=>(l(null,s.LensState),Promise.resolve()))).catch((e=>{console.error("Error turning off video stream:",e)})));var t},children:e.label},e.value)))})]})},uR=()=>{const{mode:e,setMode:n}=(0,t.useContext)(oy),{t:r,i18n:o}=Ks(),i=[{label:r("videoCapture.modeGeneral"),value:"general"},{label:r("videoCapture.modeStraight"),value:"straight"},{label:r("videoCapture.modeHorizon"),value:"horizon"}];return(0,tu.jsx)("div",{style:{margin:"auto",marginBlock:"0.5rem"},children:(0,tu.jsx)(sR,{options:i,selected:e,onChange:e=>{n(e)}})})},cR=Nr.div(rR||(rR=Fr(["\n    position: relative;\n    max-width: 100px;\n    width: auto;\n    margin: auto;\n"]))),lR=Nr.div(oR||(oR=Fr(["\n    border:",";\n    background: #deb88700;\n    border-radius: 2rem;\n    font-size: medium;\n    padding-block: 0.2rem;\n    padding-inline: 1rem;\n    cursor: pointer;\n    text-align: center;\n    &:hover {\n        background-color: #ffffff2e;\n    }\n"])),(e=>"1px solid ".concat(e.theme.border))),fR=Nr.div(iR||(iR=Fr([" // \u9078\u55ae\n    position: absolute;\n    bottom: 120%;\n    left: 0;\n    right: 0;\n    font-size: medium;\n    background: ",";\n    border: 1px solid #ccc;\n    border-radius: 0.5rem;\n    z-index: 10;\n    max-height: 200px;\n    overflow-y: auto;\n    color: ",";\n"])),(e=>"".concat(e.theme.blurBg)),(e=>"".concat(e.theme.textColor))),dR=Nr.div(aR||(aR=Fr(["\n    padding-inline: 0.5rem;\n    padding-block: 0.5rem;\n    cursor: pointer;\n    &:hover {\n        background-color: #9b9b9b;\n    }\n"])));var hR=function(e,t){return(hR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function pR(e,t){function n(){this.constructor=e}hR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function mR(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function vR(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var gR=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)}))}},e}();function yR(){return bR}var bR=null,wR=new Map,xR=new Map;function kR(e,t){var n=CR(e,t);return wR.get(n)}function SR(e){for(var t=wR.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&n.push(s)}return n}function _R(e){var t=e.kernelName,n=e.backendName,r=CR(t,n);if(wR.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");wR.set(r,e)}function ER(e){var t=e.kernelName;xR.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),xR.set(t,e)}function CR(e,t){return t+"_"+e}function AR(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function OR(e,t,n){return Math.max(e,Math.min(t,n))}function TR(e){return e%2==0?e:e+1}function RR(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function IR(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function PR(e,t,n){void 0===n&&(n=""),IR(FR(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function NR(e){IR(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function MR(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||$R(e)&&!n)for(var r=0;r<e.length;++r)MR(e[r],t,n);else t.push(e);return t}function DR(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function FR(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LR(e){return e%1==0}function jR(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function BR(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function zR(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function UR(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,o){var i=0,a=function(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?o():setTimeout(a,s)}};a()}))}function WR(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function HR(e,t){var n=t.length;return IR((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),IR(e.every((function(e){return LR(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function VR(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:HR(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function GR(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function qR(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function XR(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function KR(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function YR(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function $R(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function ZR(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function QR(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function JR(e){return"string"==typeof e||e instanceof String}function eI(e){return"boolean"==typeof e}function tI(e){return"number"==typeof e}function nI(e){return Array.isArray(e)?nI(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":tI(e)?"float32":JR(e)?"string":eI(e)?"bool":"float32"}function rI(e){return!!(e&&e.constructor&&e.call&&e.apply)}function oI(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function iI(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function aI(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=MR(e)),n&&XR(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function sI(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var i=n[0],a=0;a<i;a++)o[a]=r[t+a];else{i=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(a=0;a<i;a++)o[a]=e(t+a*u,s,r)}return o}(0,e,t)}function uI(e,t){for(var n=cI(e,t),r=0;r<n.length;r++)n[r]=1;return n}function cI(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function lI(){return yR().platform.now()}function fI(e){e.forEach((function(t){IR(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function dI(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",yR().platform.encode(e,t)}function hI(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",yR().platform.decode(e,t)}function pI(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function mI(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:AR,clamp:OR,nearestLargerEven:TR,sum:RR,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:IR,assertShapesMatch:PR,assertNonNull:NR,flatten:MR,sizeFromShape:DR,isScalarShape:function(e){return 0===e.length},arraysEqual:FR,isInt:LR,tanh:jR,sizeToSquarishShape:BR,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return AR(t),t},rightPad:zR,repeatedTry:UR,inferFromImplicitShape:WR,parseAxisParam:HR,squeezeShape:VR,getTypedArrayFromDType:GR,getArrayFromDType:qR,checkConversionForErrors:XR,isValidDtype:KR,hasEncodingLoss:YR,isTypedArray:$R,bytesPerElement:ZR,bytesFromStringArray:QR,isString:JR,isBoolean:eI,isNumber:tI,inferDtype:nI,isFunction:rI,nearestDivisor:oI,computeStrides:iI,toTypedArray:aI,toNestedArray:sI,makeOnesTypedArray:uI,makeZerosTypedArray:cI,now:lI,assertNonNegativeIntegerDimensions:fI,fetch:function(e,t){return yR().platform.fetch(e,t)},encodeString:dI,decodeString:hI,locToIndex:pI,indexToLoc:mI});var vI=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new gI)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,i=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),i.then((function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,i.kernelMs,t,a)}))}))})),r},e}(),gI=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,i){var a="number"==typeof r?zR(r+"ms",9):r.error,s=zR(e,25),u=t.rank,c=t.size,l=zR(t.shape.toString(),14),f="";for(var d in o){var h=o[d].shape||t.shape,p=h.length;f+=d+": "+p+"D "+(p>0?h:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),yI=7;function bI(e,t,n){return zR(Array.isArray(e)?parseFloat(e[0].toFixed(yI))+" + "+parseFloat(e[1].toFixed(yI))+"j":JR(e)?"'"+e+"'":"bool"===n?wI(e):parseFloat(e.toFixed(yI)).toString(),t)}function wI(e){return 0===e?"false":"true"}function xI(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var kI=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=DR(e),null!=n){var o=n.length;IR(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||qR(t,this.size),this.strides=iI(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),IR(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i<0||i>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return SI().makeTensor(this.values,this.shape,this.dtype)},e}(),SI=null,_I=null,EI=null,CI=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=DR(e),this.strides=iI(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),IR(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),_I.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,_I.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return _I.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,sI(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return sI(this.shape,this.dataSync())},e.prototype.data=function(){return mR(this,void 0,void 0,(function(){var e,t;return vR(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=SI().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return hI(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=SI().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return hI(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,SI().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(SI().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),_I.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),_I.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),_I.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),_I.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),_I.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),_I.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),_I.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=iI(t),i=function(e,t,n,r){var o=DR(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,u="complex64"===n?xI(e):e;if(s>1)for(var c=0;c<o/i;c++)for(var l=c*i,f=0;f<i;f++)a[f]=Math.max(a[f],bI(u[l+f],0,n).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c)return"complex64"===r?[bI(xI(t)[0],0,r)]:"bool"===r?[wI(t[0])]:[t[0].toString()];if(1===c){if(u>20){var l=3*s,f=Array.from(t.slice(0,l)),d=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(f=xI(f),d=xI(d)),["["+f.map((function(e,t){return bI(e,i[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return bI(e,i[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?xI(t):Array.from(t)).map((function(e,t){return bI(e,i[t],r)})).join(", ")+"]"]}var h=n.slice(1),p=o.slice(1),m=o[0]*s,v=[];if(u>20){for(var g=0;g<3;g++){var y=(b=g*m)+m;v.push.apply(v,e(t.slice(b,y),h,r,p,i,!1))}for(v.push("..."),g=u-3;g<u;g++)y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),h,r,p,i,g===u-1))}else for(g=0;g<u;g++){var b;y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),h,r,p,i,g===u-1))}var w=2===c?",":"";for(v[0]="["+v[0]+w,g=1;g<v.length-1;g++)v[g]=" "+v[g]+w;var x=",\n";for(g=2;g<c;g++)x+="\n";return v[v.length-1]=" "+v[v.length-1]+"]"+(a?"":x),v}(e,t,n,o,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),_I.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),_I.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),_I.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),_I.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),_I.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),_I.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),_I.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),_I.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),_I.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),_I.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),_I.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),_I.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),EI("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),_I.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),_I.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),_I.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),_I.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),_I.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),_I.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),_I.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),_I.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),_I.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),_I.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),_I.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),_I.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),_I.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),_I.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),_I.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),_I.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),_I.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),_I.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),_I.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),_I.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),_I.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),_I.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),_I.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),_I.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),_I.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),_I.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),_I.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),_I.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),_I.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),_I.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),_I.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),_I.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),_I.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),_I.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),_I.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),_I.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),_I.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),_I.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),_I.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),_I.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),_I.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),_I.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),_I.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),_I.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),_I.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),_I.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),_I.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),_I.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),_I.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),_I.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),_I.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),_I.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),_I.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),_I.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),_I.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),_I.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),_I.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),_I.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),_I.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),_I.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),_I.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),_I.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),_I.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),_I.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),_I.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),_I.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),_I.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),_I.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),_I.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),_I.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),_I.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),_I.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),_I.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),_I.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),_I.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),_I.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),_I.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),_I.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),_I.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),_I.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),_I.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),_I.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),_I.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),_I.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),_I.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),_I.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),_I.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),_I.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),_I.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),_I.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),_I.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),_I.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),_I.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),_I.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),_I.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),_I.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),_I.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),_I.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),_I.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),SI().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),_I.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),_I.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),_I.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),_I.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),_I.stridedSlice(this,e,t,n,r,o,i,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),_I.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),_I.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),_I.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),_I.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),_I.spectral.irfft(this)},e}();Object.defineProperty(CI,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var AI,OI,TI,RI,II,PI=function(e){function t(t,n,r,o){var i=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=r,i}return pR(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!FR(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");SI().disposeTensor(this),this.dataId=e.dataId,SI().incRef(this,null)},t.prototype.dispose=function(){SI().disposeVariable(this),this.isDisposedInternal=!0},t}(CI);Object.defineProperty(PI,Symbol.hasInstance,{value:function(e){return e instanceof CI&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(AI||(AI={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(OI||(OI={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(TI||(TI={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(RI||(RI={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(II||(II={}));var NI={float32:RI,int32:OI,bool:TI,complex64:II};function MI(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return NI[e][t]}function DI(e){return MI(e,"int32")}function FI(e,t){if(e.dtype===t.dtype)return[e,t];var n=MI(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function LI(e,t){IR(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function jI(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof CI)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,i=t;for(var a in i){var s=i[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:FI,assertTypesMatch:LI,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:jI});var BI,zI=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),UI=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new zI}return e.prototype.ready=function(){return mR(this,void 0,void 0,(function(){var e,t,n;return vR(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return mR(this,void 0,void 0,(function(){var t,n,r;return vR(this,(function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new vI(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;SR(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;SR(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,i=r.then((function(n){return!(o<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,i=r.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(e){o+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,i,a){var s,u=this;void 0===i&&(i=[]),void 0===a&&(a=[]);var c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=function(e){l&&(c=e.map((function(e){return u.keep(u.clone(e))})))},h=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,v=kR(r,this.backendName);return f=null!=v?function(){var e=u.backend.numDataIds();m=v.kernelFunc({inputs:t,attrs:o,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)})),c=s.filter((function(e,t){return a[t]}));return d((i||[]).slice().concat(c)),s}:function(){var t=u.backend.numDataIds();m=u.tidy((function(){return e(u.backend,d)}));var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return f()})):f()})),l&&this.addTapeNode(r,t,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&JR(e[0])&&(o=e.map((function(e){return dI(e)})));var i=r.write(o,t,n),a=new CI(t,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(i),u=QR(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new CI(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new PI(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*ZR(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof PI||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return mR(this,void 0,void 0,(function(){var t,n;return vR(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var i=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return xR.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],o=cI(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=jI(e),r=new Set(n.map((function(e){return e.id}))),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||r.has(i.id)||i.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==a.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),IR(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",e)}));IR(i instanceof CI,(function(){return"The result y returned by f() must be a tensor."}));var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(p=e[i]).inputs;for(var s in a){for(var u=a[s],c=!1,l=0;l<t.length;l++)if(r[u.id]){p.outputs.forEach((function(e){return r[e.id]=!0})),c=!0,o[p.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;var d={};for(i=e.length-1;i>=0;i--)for(a=(p=e[i]).inputs,l=0;l<p.outputs.length;l++)if(f[p.outputs[l].id]){for(var s in a)f[a[s].id]=!0,d[p.id]=!0;break}var h=[];for(i=0;i<e.length;i++){var p;if(o[(p=e[i]).id]&&d[p.id]){var m={};for(var s in p.inputs){var v=p.inputs[s];r[v.id]&&(m[s]=v)}var g=Object.assign({},p);g.inputs=m,g.outputs=p.outputs,h.push(g)}}return h}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[i.id]=null==n?(r=uI(DR(e=i.shape),"float32"),WI.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var a=o.gradient(i),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n((function(){return a[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var i=o.inputs[t];if(!FR(r.shape,i.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==e[i.id])e[i.id]=r;else{var s=e[i.id];e[i.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=t.length-1;o>=0;o--)r(o)}(s,a,(function(e){return o.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),o.state.activeTape=null),{value:i,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return IR(rI(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];IR(r.every((function(e){return e instanceof CI})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return r.forEach((function(e,t){i[t]=e})),t.runKernelFunc((function(t,o){return IR((n=e.apply(void 0,r.concat([o]))).value instanceof CI,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),IR(rI(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),i,(function(e,t){var o=n.gradFunc(e,t),i=Array.isArray(o)?o:[o];IR(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),IR(i.every((function(e){return e instanceof CI})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var a={};return i.forEach((function(e,t){a[t]=function(){return e}})),a}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return mR(this,void 0,void 0,(function(){var t,n;return vR(this,(function(r){switch(r.label){case 0:return t=lI(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=lI()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new zI,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),WI=function(){var e=function(){if(null==BI){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}BI=e}return BI}();if(null==e._tfengine){var t=new gR(e);e._tfengine=new UI(t)}return function(e){bR=e}(e._tfengine.ENV),SI=function(){return e._tfengine},e._tfengine}();function HI(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var VI=yR();VI.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),VI.registerFlag("IS_BROWSER",(function(){return HI()})),VI.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),VI.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),VI.registerFlag("PROD",(function(){return!1})),VI.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return VI.getBool("DEBUG")})),VI.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),VI.registerFlag("IS_TEST",(function(){return!1}));var GI,qI,XI,KI={},YI={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $I(e,t){KI[e]=t}function ZI(e){e in KI||(KI[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete KI[e]}),!1),1===e?t.getContext("webgl",YI)||t.getContext("experimental-webgl",YI):t.getContext("webgl2",YI)}(e));var t=KI[e];return t.isContextLost()?(delete KI[e],ZI(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),KI[e])}function QI(e,t){return[t,e]}function JI(e){var t=DR(e);return BR(Math.ceil(t/4))}function eP(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function tP(e,t){var n,r,o,i,a,s,u,c,l,f=e;return 2===yR().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,o=f.RGBA16F,i=f.RGBA32F,a=f.RED,s=4,u=1,c=f.HALF_FLOAT,l=f.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=f.RGBA,a=e.RGBA,s=4,u=4,c=null!=t?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:l}}function nP(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+oP(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(GI||(GI={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(qI||(qI={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(XI||(XI={}));function rP(e){return!!(yR().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function oP(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function iP(e,t,n){return OP(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function aP(e,t,n){var r=OP(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(nP(e,t,(function(){return e.shaderSource(r,n)})),nP(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function sP(e,t,n){var r=OP(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(nP(e,t,(function(){return e.shaderSource(r,n)})),nP(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=lP.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map((function(e,t){return zR((t+1).toString(),i)+e})),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var c=a.slice(0,r-1),l=a.slice(r-1,r),f=a.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+zR(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var uP,cP,lP=/ERROR: [0-9]+:([0-9]+):/g;function fP(e,t){return OP(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function dP(e,t,n){if(nP(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function hP(e,t,n){if(nP(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function pP(e,t,n){var r=OP(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return nP(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),nP(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function mP(e,t,n){var r=OP(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return nP(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),nP(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function vP(e,t){return OP(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function gP(e,t){var n=yR().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function yP(e,t){return OP(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function bP(e,t,n,r,o,i,a,s){var u=e.getAttribLocation(n,r);return-1!==u&&(nP(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),nP(e,t,(function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,a,s)})),nP(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function wP(e,t,n,r){TP(e,r),nP(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function xP(e,t,n,r){return OP(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function kP(e,t,n){return e.getUniformLocation(t,n)}function SP(e,t,n,r,o,i){nP(e,t,(function(){return wP(e,t,r,i)})),nP(e,t,(function(){return e.uniform1i(o,i)}))}function _P(e,t,n,r){nP(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),nP(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function EP(e,t,n){nP(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),nP(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function CP(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+AP(e,t))}function AP(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function OP(e,t,n,r){var o=nP(e,t,(function(){return n()}));if(null==o)throw new Error(r);return o}function TP(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function RP(e,t){return void 0===t&&(t=2),DR(e.slice(0,e.length-t))}function IP(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function PP(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[RP(e)].concat(IP(e))),t}function NP(e,t){var n;void 0===t&&(t=!1);var r=yR().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?TR(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var o=VR(e);e=o.newShape}var i=DR(e);if(e.length<=1&&i<=r)return[1,i];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=RP(e),s=2,u=2;return e.length&&(s=(n=IP(e))[0],u=n[1]),BR(i=a*(s/2)*(u/2)).map((function(e){return 2*e}))}return BR(i)}function MP(e){return e%2==0}function DP(e,t){if(FR(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(MP(n)&&MP(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&MP(e[0])&&MP(t[0])}function FP(e){if(null==uP){var t=ZI(e);uP=t.getParameter(t.MAX_TEXTURE_SIZE)}return uP}function LP(e){if(null==cP){var t=ZI(e);cP=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,cP)}function jP(e){if(0===e)return 0;var t=ZI(e);return BP(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:BP(t,"EXT_disjoint_timer_query")?1:0}function BP(e,t){return null!=e.getExtension(t)}function zP(e){try{if(null!=ZI(e))return!0}catch(e){return!1}return!1}function UP(e){if(0===e)return!1;var t=ZI(e);if(1===e){if(!BP(t,"OES_texture_float"))return!1}else if(!BP(t,"EXT_color_buffer_float"))return!1;return HP(t)}function WP(e){if(0===e)return!1;var t=ZI(e);if(1!==e){if(BP(t,"EXT_color_buffer_float"))return HP(t);if(BP(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=tP(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!BP(t,"OES_texture_float")&&!!BP(t,"WEBGL_color_buffer_float")&&HP(t)}function HP(e){var t=tP(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function VP(e){return 2===e&&null!=ZI(e).fenceSync}var GP=Object.freeze({callAndCheck:nP,canBeRepresented:rP,getWebGLErrorMessage:oP,getExtensionOrThrow:iP,createVertexShader:aP,createFragmentShader:sP,createProgram:fP,linkProgram:dP,validateProgram:hP,createStaticVertexBuffer:pP,createStaticIndexBuffer:mP,getNumChannels:function(){return 2===yR().getNumber("WEBGL_VERSION")?1:4},createTexture:vP,validateTextureSize:gP,createFramebuffer:yP,bindVertexBufferToProgramAttribute:bP,bindTextureUnit:wP,unbindTextureUnit:function(e,t,n){TP(e,n),nP(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:xP,getProgramUniformLocation:kP,bindTextureToProgramUniformSampler:SP,bindCanvasToFramebuffer:function(e,t){nP(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),nP(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),nP(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:_P,unbindColorTextureFromFramebuffer:EP,validateFramebuffer:CP,getFramebufferErrorMessage:AP,getBatchDim:RP,getRowsCols:IP,getShapeAs3D:PP,getTextureShapeFromLogicalShape:NP,isReshapeFree:DP,getWebGLMaxTextureSize:FP,resetMaxTextureSize:function(){uP=null},resetMaxTexturesInShader:function(){cP=null},getMaxTexturesInShader:LP,getWebGLDisjointQueryTimerVersion:jP,hasExtension:BP,isWebGLVersionEnabled:zP,isCapableOfRenderingToFloatTexture:UP,isDownloadFloatTextureEnabled:WP,isWebGLFenceEnabled:VP}),qP=yR();function XP(e){yR().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function KP(e,t){return WI.tidy(e,t)}function YP(e){jI(e).forEach((function(e){return e.dispose()}))}function $P(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];yR().getBool("IS_TEST")||console.warn.apply(console,e)}function ZP(e,t){var n=e;if($R(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||$R(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&yR().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||$R(t)){IR(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),IR(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else IR(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function QP(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function JP(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof CI)return QP(r,e.dtype,t,n),e;var o=nI(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),QP(r,o,t,n),null==e||!$R(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=ZP(e,o);$R(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?aI(e,o,yR().getBool("DEBUG")):MR(e,[],!0);return WI.makeTensor(s,a,o)}function eN(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return JP(e,t+"["+r+"]",n)}),r)}function tN(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function nN(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function rN(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((function(t){return e[t]}))]}function oN(e,t){return nN(e,t.map((function(e){return 1})),t)}function iN(e,t,n){IR(tN(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function aN(e,t){if(tN(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function sN(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function uN(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function cN(e,t){var n=e[0].length;e.forEach((function(e,t){IR(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),IR(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,o){for(var i=0;i<n;i++)IR(i===t||e[i]===r[i],(function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function lN(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function fN(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];WI.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),WI.endScope(o),o}catch(e){throw WI.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}qP.registerFlag("HAS_WEBGL",(function(){return qP.getNumber("WEBGL_VERSION")>0})),qP.registerFlag("WEBGL_VERSION",(function(){return zP(2)?2:zP(1)?1:0})),qP.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===qP.get("WEBGL_VERSION")})),qP.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),qP.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),qP.registerFlag("WEBGL_PACK",(function(){return qP.getBool("HAS_WEBGL")})),qP.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_CLIP",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),qP.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_PACK_REDUCE",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_CONV_IM2COL",(function(){return qP.getBool("WEBGL_PACK")})),qP.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return FP(qP.getNumber("WEBGL_VERSION"))})),qP.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return LP(qP.getNumber("WEBGL_VERSION"))})),qP.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=qP.getNumber("WEBGL_VERSION");return 0===e?0:jP(e)})),qP.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return qP.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),qP.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return UP(qP.getNumber("WEBGL_VERSION"))})),qP.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!qP.getBool("WEBGL_FORCE_F16_TEXTURES")&&qP.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),qP.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return WP(qP.getNumber("WEBGL_VERSION"))})),qP.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return VP(qP.getNumber("WEBGL_VERSION"))})),qP.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return qP.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),EI=XP;var dN=fN({complex_:function(e,t){var n=JP(e,"real","complex"),r=JP(t,"imag","complex");return PR(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),WI.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),hN=fN({real_:function(e){var t=JP(e,"input","real");return WI.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),pN=fN({imag_:function(e){var t=JP(e,"input","imag");return WI.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function mN(e,t,n){return vN(e,t,ZP(e,n),n)}function vN(e,t,n,r){if(null==r&&(r=nI(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!$R(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){fI(t);var o=DR(t),i=DR(n);IR(o===i,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i}));for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==DR(t.slice(a));IR(n[a]===t[a]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return $R(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?aI(e,r,yR().getBool("DEBUG")):MR(e,[],!0),WI.makeTensor(e,t,r)}function gN(e,t){if(($R(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&$R(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vN(e,[],[],t)}function yN(e,t){NR(e);var n=ZP(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vN(e,null,n,t)}function bN(e,t,n){if(NR(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=ZP(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vN(e,t,r,n)}function wN(e,t,n){if(NR(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=ZP(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vN(e,t,r,n)}function xN(e,t,n){if(NR(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=ZP(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return vN(e,t,r,n)}function kN(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=kN(e,"float32"),r=SN(e,"float32");return dN(n,r)}var o=uI(DR(e),t);return WI.makeTensor(o,e,t)}function SN(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=SN(e,"float32"),r=SN(e,"float32");return dN(n,r)}var o=cI(DR(e),t);return WI.makeTensor(o,e,t)}function _N(e,t,n){return WI.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function EN(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return SN([0],r);var o=cI(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return yN(o,r)}var CN=fN({onesLike_:function(e){var t=JP(e,"x","onesLike");if("complex64"===t.dtype){var n=CN(hN(t)),r=AN(pN(t));return dN(n,r)}return WI.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return AN(e)}}}))}}),AN=fN({zerosLike_:function(e){var t=JP(e,"x","zerosLike");return WI.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return AN(e)}}}))}}),ON=fN({concat_:function(e,t){void 0===t&&(t=0),IR(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=eN(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=HR(t,n[0].shape)[0];var r=lN(n.map((function(e){return e.shape})),t);if(0===DR(r))return mN([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var o=n.map((function(e){return e.shape}));cN(o,t);var i=n,a={axis:t};return WI.runKernelFunc((function(e){return e.concat(n,t)}),i,(function(e){var n=o.map((function(e){return e[t]}));return NN(e,n,t).map((function(e){return function(){return e}}))}),"Concat",a)}}),TN=fN({concat1d_:function(e){return ON(e,0)}}),RN=fN({concat2d_:function(e,t){return ON(e,t)}}),IN=fN({concat3d_:function(e,t){return ON(e,t)}}),PN=fN({concat4d_:function(e,t){return ON(e,t)}}),NN=fN({split_:function(e,t,n){void 0===n&&(n=0);var r,o=JP(e,"x","split");return n=HR(n,o.shape)[0],"number"==typeof t?(IR(o.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(o.shape[n]/t)):(IR(o.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),WI.runKernelFunc((function(e){return e.split(o,r,n)}),{$x:o},(function(e){return{$x:function(){return ON(e,n)}}}))}});function MN(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var DN=MN((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)})),FN=MN((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)})),LN=MN((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)})),jN=MN((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)})),BN=MN((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)})),zN=MN((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)})),UN=MN((function(e){!function(t,r){var o,i=this,a=256,s="random",u=r.pow(a,6),c=r.pow(2,52),l=2*c,f=a-1;function d(e,n,f){var d=[],g=m(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,v(t)]}}():e,3),d),y=new h(d),b=function(){for(var e=y.g(6),t=u,n=0;e<c;)e=(e+n)*a,t*=a,n=y.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(v(y.S),t),(n.pass||f||function(e,t,n,o){return o&&(o.S&&p(o,y),e.state=function(){return p(y,{})}),n?(r[s]=e,t):e})(b,g,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=f&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=f&o+1],n=n*a+s[f&(s[o]=s[i=f&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[f&o]=f&(n^=19*t[f&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,m(r.random(),t),e.exports){e.exports=d;try{o=n(385)}catch(e){}}}([],Math)}));UN.alea=DN,UN.xor128=FN,UN.xorwow=LN,UN.xorshift7=jN,UN.xor4096=BN,UN.tychei=zN;var WN=UN.alea,HN=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=WN(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),VN=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=WN(o.toString()),this.randn=new HN(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),GN=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=WN(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function qN(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",fI(e),new kI(e,t,n)}var XN=fN({batchToSpaceND_:function(e,t,n){var r=JP(e,"x","batchToSpaceND"),o=t.reduce((function(e,t){return e*t}));return IR(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),IR(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),IR(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o})),WI.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),KN=fN({broadcastTo_:function(e,t){var n=JP(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():WI.runKernelFunc((function(e){return e.tile(n,i)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),YN=fN({cast_:function(e,t){var n=JP(e,"x","cast");if(!KR(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return WI.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),$N=fN({clone_:function(e){var t=JP(e,"x","clone",null);return WI.runKernelFunc((function(){return WI.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),ZN=fN({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=JP(e,"x","cumsum"),i=aN([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=uN(1,o.rank)[0],u=WI.runKernelFunc((function(e){return e.cumsum(a,s,n,r)}),{permutedX:a},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=i&&(u=u.transpose(i)),u}}),QN=fN({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=JP(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return IR(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),IR(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),IR(a%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape})),WI.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),JN=fN({expandDims_:function(e,t){void 0===t&&(t=0);var n=JP(e,"x","expandDims",null);IR(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(IR(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),dM(n,r)}}),eM=fN({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=qN([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return vM(JN(s,0),[n[0],1,1]);if(2===n.length)return vM(JN(JN(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return vM(JN(JN(JN(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),tM=fN({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=JP(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,u=WI.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===a?u.as1D():u}}),nM=fN({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=JP(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),WI.runKernelFunc((function(e){return e.oneHot(o,t,n,r)}),{$indices:o},(function(e){return{$indices:function(){return SN(o.shape,"float32")}}})).reshape(i)}}),rM=fN({pad_:function(e,t,n){void 0===n&&(n=0);var r=JP(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return WI.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",o)}}),oM=fN({pad1d_:function(e,t,n){return void 0===n&&(n=0),IR(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),rM(e,[t],n)}}),iM=fN({pad2d_:function(e,t,n){return void 0===n&&(n=0),IR(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),rM(e,t,n)}}),aM=fN({pad3d_:function(e,t,n){return void 0===n&&(n=0),IR(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),rM(e,t,n)}}),sM=fN({pad4d_:function(e,t,n){return void 0===n&&(n=0),IR(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),rM(e,t,n)}}),uM=fN({rand_:function(e,t,n){var r=DR(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return WI.makeTensor(o,e,n)}}),cM=fN({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new HN(t,n,r,!1,o),a=qN(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),lM=fN({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var i=new VN(t,n,r,o),a=qN(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),fM=fN({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=qN(e,r),a=new GN(t,n,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),dM=fN({reshape_:function(e,t){var n=JP(e,"x","reshape",null);t=WR(t,n.size),IR(n.size===DR(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return WI.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),hM=fN({spaceToBatchND_:function(e,t,n){var r=JP(e,"x","spaceToBatchND");return IR(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),IR(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),IR(r.shape.reduce((function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),WI.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),pM=fN({squeeze_:function(e,t){var n=JP(e,"x","squeeze");return dM(n,VR(n.shape,t).newShape)}}),mM=fN({stack_:function(e,t){void 0===t&&(t=0);var n=eN(e,"tensors","stack");if(IR(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;IR(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){PR(o,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){IR(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var a=n.map((function(e){return e.expandDims(t)}));return ON(a,t)}}),vM=fN({tile_:function(e,t){var n=JP(e,"x","tile",null);IR(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],o={reps:t};return WI.runKernelFunc((function(e,r){var o=e.tile(n,t);return r([n]),o}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=AN(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)n=n.add(e.slice([o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",o,r)}}),gM=fN({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new HN(t,n,r,!0,o),a=qN(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),yM=fN({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=JP(e,"x","unstack");IR(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return WI.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return mM(e,t)}}}),"Unpack",r)}});function bM(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function wM(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function xM(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function kM(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function SM(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function _M(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=a[i],s.push(a[i]);var c=iI(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,o,u,c]}Object.freeze({prepareAndValidate:_M});function EM(e){return e<=30?e:oI(e,Math.floor(Math.sqrt(e)))}function CM(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function AM(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}CM(n,t,e)}function OM(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,s=o;s<i;++s)a*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:DR(t.shape)/u,sliceSize:a,strides:iI(n.slice(0,o)).concat([1]),outputSize:DR(n)}}Object.freeze({validateUpdateShape:CM,validateInput:AM,calculateShapes:OM});function TM(e,t,n){IR(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),IR(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){IR(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},o=0;o<e.rank;++o)r(o)}function RM(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function IM(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function PM(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),OR(0,i,s-1)}function NM(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),a>0?OR(0,i,s):OR(-1,i,s-1)}function MM(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function DM(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:TM,maskToAxes:RM,computeOutShape:IM,startForAxis:PM,stopForAxis:NM,isSliceContinous:MM,computeFlatOffset:DM});function FM(e){return WI.customGrad(e)}var LM=fN({softmax_:function(e,t){void 0===t&&(t=-1);var n=JP(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return WI.runKernelFunc((function(e,r){var o=e.softmax(n,t);return r([o]),o}),{logits:n},(function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),jM=fN({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=JP(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return FM((function(e,n){var r=e.max(t,!0),o=e.sub(r),i=o.toFloat().sub(o.exp().sum(t,!0).log());return n([i]),{value:i,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),BM=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),zM=function(){function e(){}return e.prototype.time=function(e){return UM("time")},e.prototype.read=function(e){return UM("read")},e.prototype.readSync=function(e){return UM("readSync")},e.prototype.numDataIds=function(){return UM("numDataIds")},e.prototype.disposeData=function(e){return UM("disposeData")},e.prototype.write=function(e,t,n){return UM("write")},e.prototype.move=function(e,t,n,r){return UM("move")},e.prototype.memory=function(){return UM("memory")},e.prototype.floatPrecision=function(){return UM("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return UM("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,UM("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return UM("slice")},e.prototype.stridedSlice=function(e,t,n,r){return UM("stridedSlice")},e.prototype.unstack=function(e,t){return UM("unstack")},e.prototype.reverse=function(e,t){return UM("reverse")},e.prototype.concat=function(e,t){return UM("concat")},e.prototype.neg=function(e){return UM("neg")},e.prototype.add=function(e,t){return UM("add")},e.prototype.addN=function(e){return UM("addN")},e.prototype.subtract=function(e,t){return UM("subtract")},e.prototype.multiply=function(e,t){return UM("multiply")},e.prototype.realDivide=function(e,t){return UM("realDivide")},e.prototype.floorDiv=function(e,t){return UM("floorDiv")},e.prototype.sum=function(e,t){return UM("sum")},e.prototype.prod=function(e,t){return UM("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return UM("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return UM("argMin")},e.prototype.argMax=function(e,t){return UM("argMax")},e.prototype.equal=function(e,t){return UM("equal")},e.prototype.notEqual=function(e,t){return UM("notEqual")},e.prototype.less=function(e,t){return UM("less")},e.prototype.lessEqual=function(e,t){return UM("lessEqual")},e.prototype.greater=function(e,t){return UM("greater")},e.prototype.greaterEqual=function(e,t){return UM("greaterEqual")},e.prototype.logicalNot=function(e){return UM("logicalNot")},e.prototype.logicalAnd=function(e,t){return UM("logicalAnd")},e.prototype.logicalOr=function(e,t){return UM("logicalOr")},e.prototype.where=function(e){return UM("where")},e.prototype.select=function(e,t,n){return UM("select")},e.prototype.topk=function(e,t,n){return UM("topk")},e.prototype.min=function(e,t){return UM("min")},e.prototype.minimum=function(e,t){return UM("minimum")},e.prototype.mod=function(e,t){return UM("mod")},e.prototype.max=function(e,t){return UM("max")},e.prototype.maximum=function(e,t){return UM("maximum")},e.prototype.all=function(e,t){return UM("all")},e.prototype.any=function(e,t){return UM("any")},e.prototype.squaredDifference=function(e,t){return UM("squaredDifference")},e.prototype.ceil=function(e){return UM("ceil")},e.prototype.floor=function(e){return UM("floor")},e.prototype.round=function(e){return UM("round")},e.prototype.sign=function(e){return UM("sign")},e.prototype.isNaN=function(e){return UM("isNaN")},e.prototype.isInf=function(e){return UM("isInf")},e.prototype.isFinite=function(e){return UM("isFinite")},e.prototype.pow=function(e,t){return UM("pow")},e.prototype.exp=function(e){return UM("exp")},e.prototype.expm1=function(e){return UM("expm1")},e.prototype.softmax=function(e,t){return UM("softmax")},e.prototype.log=function(e){return UM("log")},e.prototype.log1p=function(e){return UM("log1p")},e.prototype.sqrt=function(e){return UM("sqrt")},e.prototype.rsqrt=function(e){return UM("rsqrt")},e.prototype.square=function(e){return UM("square")},e.prototype.reciprocal=function(e){return UM("reciprocal")},e.prototype.relu=function(e){return UM("relu")},e.prototype.relu6=function(e){return UM("relu6")},e.prototype.prelu=function(e,t){return UM("prelu")},e.prototype.elu=function(e){return UM("elu")},e.prototype.eluDer=function(e,t){return UM("eluDer")},e.prototype.selu=function(e){return UM("selu")},e.prototype.int=function(e){return UM("int")},e.prototype.clip=function(e,t,n){return UM("clip")},e.prototype.abs=function(e){return UM("abs")},e.prototype.complexAbs=function(e){return UM("complexAbs")},e.prototype.sigmoid=function(e){return UM("sigmoid")},e.prototype.softplus=function(e){return UM("softplus")},e.prototype.sin=function(e){return UM("sin")},e.prototype.cos=function(e){return UM("cos")},e.prototype.tan=function(e){return UM("tan")},e.prototype.asin=function(e){return UM("asin")},e.prototype.acos=function(e){return UM("acos")},e.prototype.atan=function(e){return UM("atan")},e.prototype.atan2=function(e,t){return UM("atan2")},e.prototype.sinh=function(e){return UM("sinh")},e.prototype.cosh=function(e){return UM("cosh")},e.prototype.tanh=function(e){return UM("tanh")},e.prototype.asinh=function(e){return UM("asinh")},e.prototype.acosh=function(e){return UM("acosh")},e.prototype.atanh=function(e){return UM("atanh")},e.prototype.erf=function(e){return UM("erf")},e.prototype.step=function(e,t){return UM("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,UM("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return UM("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return UM("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return UM("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,UM("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return UM("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return UM("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return UM("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return UM("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return UM("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return UM("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return UM("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return UM("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return UM("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return UM("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return UM("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return UM("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return UM("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return UM("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return UM("reshape")},e.prototype.cast=function(e,t){return UM("cast")},e.prototype.tile=function(e,t){return UM("tile")},e.prototype.pad=function(e,t,n){return UM("pad")},e.prototype.transpose=function(e,t){return UM("transpose")},e.prototype.gather=function(e,t,n){return UM("gather")},e.prototype.gatherND=function(e,t){return UM("gatherND")},e.prototype.scatterND=function(e,t,n){return UM("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return UM("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return UM("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return UM("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return UM("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return UM("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return UM("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,i){return UM("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return UM("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){return UM("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return UM("multinomial")},e.prototype.oneHot=function(e,t,n,r){return UM("oneHot")},e.prototype.cumsum=function(e,t,n,r){return UM("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return UM("nonMaxSuppression")},e.prototype.fft=function(e){return UM("fft")},e.prototype.ifft=function(e){return UM("ifft")},e.prototype.complex=function(e,t){return UM("complex")},e.prototype.real=function(e){return UM("real")},e.prototype.imag=function(e){return UM("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,i){return UM("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return UM("depthToSpace")},e.prototype.split=function(e,t,n){return UM("split")},e.prototype.sparseToDense=function(e,t,n,r){return UM("sparseToDense")},e.prototype.diag=function(e){return UM("diag")},e.prototype.fill=function(e,t,n){return UM("fill")},e.prototype.onesLike=function(e){return UM("onesLike")},e.prototype.zerosLike=function(e){return UM("zerosLike")},e.prototype.linspace=function(e,t,n){return UM("linspace")},e.prototype.dispose=function(){return UM("dispose")},e}();function UM(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function WM(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function HM(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function VM(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function GM(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,u=$M(t),c=u[0],l=u[1];if("channelsLast"===a)s=[c,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[c,l,e[1],e[1]]}return XM(e,s,n,r,o,i,!1,a)}function qM(e,t,n,r,o,i,a){void 0===a&&(a="NDHWC");var s,u,c=ZM(t),l=c[0],f=c[1],d=c[2];if("NDHWC"===a)u="channelsLast",s=[l,f,d,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[l,f,d,e[1],e[1]]}return KM(e,s,n,r,o,!1,u,i)}function XM(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3];if("channelsLast"===s)c=e[0],l=e[1],f=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=e[0],d=e[1],l=e[2],f=e[3]}var h,p=t[0],m=t[1],v=t[3],g=$M(n),y=g[0],b=g[1],w=$M(r),x=w[0],k=w[1],S=QM(p,x),_=QM(m,k),E=function(e,t,n,r,o,i,a,s){var u,c,l;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,o){null==r&&(r=YM(e,t,n));var i=e[1],a=JM((e[0]-t+2*r)/n+1,o);IR(LR(a),(function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"}));var s=JM((i-t+2*r)/n+1,o);return IR(LR(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[a,s]}([t,n],i,r,e,s);c=f[0],l=f[1]}else if("same"===e){c=Math.ceil(t/r),l=Math.ceil(n/o);var d=Math.max(0,(c-1)*r+i-t),h=Math.max(0,(l-1)*o+a-n),p=Math.floor(d/2),m=d-p,v=Math.floor(h/2);u={top:p,bottom:m,left:v,right:h-v,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),l=Math.ceil((n-a+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}(o,l,f,y,b,S,_,i),C=E.padInfo,A=E.outHeight,O=E.outWidth,T=a?v*d:v;return"channelsFirst"===s?h=[c,T,A,O]:"channelsLast"===s&&(h=[c,A,O,T]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:d,outHeight:A,outWidth:O,outChannels:T,padInfo:C,strideHeight:y,strideWidth:b,filterHeight:p,filterWidth:m,effectiveFilterHeight:S,effectiveFilterWidth:_,dilationHeight:x,dilationWidth:k,inShape:e,outShape:h,filterShape:t}}function KM(e,t,n,r,o,i,a,s){void 0===i&&(i=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3],h=u[4];if("channelsLast"===a)c=e[0],l=e[1],f=e[2],d=e[3],h=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);c=e[0],h=e[1],l=e[2],f=e[3],d=e[4]}var p,m=t[0],v=t[1],g=t[2],y=t[4],b=ZM(n),w=b[0],x=b[1],k=b[2],S=ZM(r),_=S[0],E=S[1],C=S[2],A=QM(m,_),O=QM(v,E),T=QM(g,C),R=function(e,t,n,r,o,i,a,s,u,c,l){var f,d,h,p;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,o,i){null==o&&(o=YM(e,t,r));var a=e[1],s=e[2],u=JM((e[0]-t+2*o)/r+1,i);IR(LR(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var c=JM((a-t+2*o)/r+1,i);IR(LR(c),(function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"}));var l=JM((s-t+2*o)/r+1,i);return IR(LR(l),(function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"})),[u,c,l,1]}([t,n,r,1],s,0,o,e,l);d=m[0],h=m[1],p=m[2]}else if("same"===e){var v=((d=Math.ceil(t/o))-1)*o+s-t,g=((h=Math.ceil(n/i))-1)*i+u-n,y=((p=Math.ceil(r/a))-1)*a+c-r,b=Math.floor(v/2),w=v-b,x=Math.floor(g/2),k=g-x,S=Math.floor(y/2);f={top:x,bottom:k,left:S,right:y-S,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/o),h=Math.ceil((n-u+1)/i),p=Math.ceil((r-c+1)/a)}return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}(o,l,f,d,w,x,k,A,O,T,s),I=R.padInfo,P=R.outDepth,N=R.outHeight,M=R.outWidth,D=i?y*h:y;return"channelsFirst"===a?p=[c,D,P,N,M]:"channelsLast"===a&&(p=[c,P,N,M,D]),{batchSize:c,dataFormat:a,inDepth:l,inHeight:f,inWidth:d,inChannels:h,outDepth:P,outHeight:N,outWidth:M,outChannels:D,padInfo:I,strideDepth:w,strideHeight:x,strideWidth:k,filterDepth:m,filterHeight:v,filterWidth:g,effectiveFilterDepth:A,effectiveFilterHeight:O,effectiveFilterWidth:T,dilationDepth:_,dilationHeight:E,dilationWidth:C,inShape:e,outShape:p,filterShape:t}}function YM(e,t,n,r){void 0===r&&(r=1);var o=QM(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function $M(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ZM(e){return"number"==typeof e?[e,e,e]:e}function QM(e,t){return t<=1?e:e+(e-1)*(t-1)}function JM(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function eD(e){var t=$M(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function tD(e,t){return eD(e)||eD(t)}function nD(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function rD(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=SN(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!YR(e.dtype,t))return WI.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=gN(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function oD(e,t){return WI.makeTensorFromDataId(e.dataId,t,e.dtype)}function iD(e,t,n){var r=(t-e)/(n-1),o=cI(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return yN(o,"float32")}Object.freeze({castTensor:rD,reshapeTensor:oD,linspaceImpl:iD,upcastType:MI,axesAreInnerMostDims:tN,combineLocations:nN,computeOutAndReduceShapes:rN,expandShapeToKeepDim:oN,assertAxesAreInnerMostDims:iN,getAxesPermutation:aN,getUndoAxesPermutation:sN,getInnerMostAxes:uN,getBroadcastDims:WM,getReductionAxes:HM,assertAndGetBroadcastShape:VM,assertParamsConsistent:cN,computeOutShape:lN,computePool2DInfo:GM,computePool3DInfo:qM,computeConv2DInfo:XM,computeConv3DInfo:KM,computeDefaultPad:YM,tupleValuesAreOne:eD,eitherStridesOrDilationsAreOne:tD,convertConv2DDataFormat:nD,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:EM});function aD(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function sD(e,t){return{real:e[2*t],imag:e[2*t+1]}}function uD(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function cD(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function lD(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,i=0,a=!1;r<o;){var s=n(t,e[i=r+(o-r>>>1)]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||fD)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function fD(e,t){return e>t?1:e<t?-1:0}function dD(e,t,n,r,o){return pD(e,t,n,r,o,0).selectedIndices}function hD(e,t,n,r,o,i){var a=pD(e,t,n,r,o,i,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function pD(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>o})).sort(gD),c=i>0?-.5/i:0,l=[],f=[];l.length<n&&u.length>0;){var d=u.pop(),h=d.score,p=d.boxIndex,m=d.suppressBeginIndex;if(h<o)break;for(var v=!1,g=l.length-1;g>=m;--g){var y=mD(e,p,l[g]);if(y>=r){v=!0;break}if(d.score=d.score*vD(r,c,y),d.score<=o)break}d.suppressBeginIndex=l.length,v||(d.score===h?(l.push(p),f.push(d.score)):d.score>o&&lD(u,d,gD))}var b=l.length;return s&&(l.fill(0,b),f.fill(0,b)),{selectedIndices:yN(l,"int32"),selectedScores:yN(f,"float32"),numValidOutputs:gN(b,"int32")}}function mD(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),h=(s-i)*(u-a),p=(f-c)*(d-l);if(h<=0||p<=0)return 0;var m=Math.max(i,c),v=Math.max(a,l),g=Math.min(s,f),y=Math.min(u,d),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(h+p-b)}function vD(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function gD(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function yD(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map((function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i}))}function bD(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=qN(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var u=e.locToIndex(a);o.values[r]=e.values[u]}return o.toTensor()}function wD(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],u=a[1],c=GR(n,s*r),l=GR("int32",s*r),f=0;f<s;f++){for(var d=f*u,h=e.subarray(d,d+u),p=[],m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((function(e,t){return t.value-e.value}));var v=f*r,g=c.subarray(v,v+r),y=l.subarray(v,v+r);for(m=0;m<r;m++)g[m]=p[m].value,y[m]=p[m].index}var b=t.slice();return b[b.length-1]=r,[mN(c,b,n),mN(l,b,"int32")]}function xD(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=qN(e,"int32"),i=qN([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var kD=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},SD=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},_D=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function ED(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function CD(e,t){return 1===t?[e]:ED(e,t)}function AD(){var e,t,n,r,o,i,a,s,u,c;return 2===yR().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function OD(e,t,n){void 0===n&&(n="index");var r=iI(t);return r.map((function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"})).join("")}function TD(e){var t=iI(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var RD="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function ID(e,t,n,r){var o=[];e.forEach((function(e){var t=DR(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))}));var i,a,s=o.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?ND(e):PD(e);var o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=WM(e.shapeInfo.logicalShape,t.logicalShape),c=zD(s),l=s-a,f=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+f[e+l]+" = 0;"})).join("\n");var d;d=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+l]})).join(", ");var h="return outputValue;",p=1===DR(e.shapeInfo.logicalShape),m=1===DR(t.logicalShape);if(1!==a||p||m){if(p&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var v=a-2,g=a-1;u.indexOf(v)>-1&&u.indexOf(g)>-1?h="return vec4(outputValue.x);":u.indexOf(v)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(g)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+d+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&FR(a,i))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c,l=zD(u),f=WM(e.shapeInfo.logicalShape,t.logicalShape),d=u-s,h=["x","y","z","w","u","v"];c=0===s?"":u<2&&f.length>=1?"coords = 0;":f.map((function(e){return"coords."+h[e+d]+" = 0;"})).join("\n");var p;return p=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+h[t+d]})).join(", "),"\n    float "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+c+"\n      return get"+r+"("+p+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),c=t.texShape,l=AD(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(l),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+MD+"\n    "+DD+"\n    "+FD+"\n  "}(l);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(FR(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(i=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+i+");\n      int c = imod(index, "+i+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c",u=2;u<e.length-1;u++)a="\n      int b"+u+" = index / "+(i*=e[e.length-u-1])+";\n      index -= b"+u+" * "+i+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,i,a}(t.logicalShape,c),a=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(l)):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return FR(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=OD(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=OD(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=OD(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=OD(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,c),a=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(l)),r&&(d+=LD),[d,f,a,s,i,u,n].join("\n")}function PD(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===o&&1===i)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+a[0]+", "+a[1]+", "+jD(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+BD(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=jD(t);return 1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+i+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&FR(t,o)){var i=o[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+i+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var a=VR(t),s=a.newShape,u=a.keptDims,c=s;if(c.length<t.length)return"\n      "+PD(UD(e,c))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+WD(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+BD(e)+"\n      }\n    ";var l=o[0],f=o[1],d=jD(n);return 1===f?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+l+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===l?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+l+", "+f+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[1]*t[2],i=t[2],a=VR(t),s=a.newShape,u=a.keptDims,c=s;if(c.length<t.length)return"\n        "+PD(UD(e,c))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+WD(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+i+", 1)));\n        "+BD(e)+"\n      }\n    ";var l=e.shapeInfo.texShape,f=l[0],d=l[1],h=e.shapeInfo.flatOffset;return d===o&&null==h?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+i+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+f+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":d===i&&null==h?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+i+" + depth + "+jD(n)+";\n        vec2 uv = uvFromFlat("+f+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[3],i=t[2]*o,a=t[1]*i,s=VR(t),u=s.newShape,c=s.keptDims;if(u.length<t.length)return"\n      "+PD(UD(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+WD(["row","col","depth","depth2"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+i+", "+o+", 1)));\n        "+BD(e)+"\n      }\n    ";var l=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];return h===a&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===o&&null==l?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+a+" + col * "+i+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+h+", index + "+jD(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,u=VR(t),c=u.newShape,l=u.keptDims;if(c.length<t.length)return"\n      "+PD(UD(e,c))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+WD(["row","col","depth","depth2","depth3"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+i+", "+o+")) +\n          depth3;\n        "+BD(e)+"\n      }\n    ";var f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];return p===s&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+a+", "+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===o&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" + depth * "+i+" +\n          depth2 * "+o+" + depth3 + "+jD(n)+";\n      vec2 uv = uvFromFlat("+h+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=VR(t),i=o.newShape,a=o.keptDims;if(i.length<t.length)return"\n      "+PD(UD(e,i))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+WD(["row","col","depth","depth2","depth3","depth4"],a)+");\n      }\n    ";var s=t[5],u=t[4]*s,c=t[3]*u,l=t[2]*c,f=t[1]*l;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+f+", "+l+", "+c+", "+u+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+BD(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],m=h[1];return m===f&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+l+", "+c+", "+u+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===s&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+f+" + col * "+l+" + depth * "+c+" +\n          depth2 * "+u+" + depth3 * "+s+" + depth4 + "+jD(n)+";\n      vec2 uv = uvFromFlat("+p+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function ND(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+AD().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=AD();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],s=AD();if(null!=o&&FR(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===t[0])return"\n        "+ND(UD(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+WD(["b","row","col"],[1,2])+");\n        }\n      ";var a=i[0],s=i[1],u=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+s+", "+u*Math.ceil(t[1]/2)+", "+u+", b, row, col);\n      return "+AD().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=a[0],u=a[1],c=Math.ceil(t[n-1]/2),l=c*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * "+l+" + (row / 2) * "+c+" + (col / 2)",h=2;h<n-1;h++)f="int b"+h+", "+f,d="b"+h+" * "+(l*=t[n-h-1])+" + "+d;return"\n    vec4 "+o+"("+f+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+AD().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var MD="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",DD="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",FD="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",LD="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function jD(e){return"offset"+e}function BD(e){var t=e.name,n=DR(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function zD(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function UD(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function WD(e,t){return t.map((function(t){return e[t]})).join(", ")}var HD=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,IR(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,c=u.length,l=zD(c),f=CD("coords",c);if(1===i){var d=zD(s=c+1);a="\n        "+d+" sourceLocR = "+d+"("+f.join()+", 0);\n        ++"+f[c-1]+";\n        "+d+" sourceLocG = "+d+"("+f.join()+", 0);\n        ++"+f[c-2]+";\n        "+d+" sourceLocA = "+d+"("+f.join()+", 0);\n        --"+f[c-1]+";\n        "+d+" sourceLocB = "+d+"("+f.join()+", 0);\n        --"+f[c-2]+";"}else s=c,a="\n        "+l+" sourceLocR = coords;\n        ++"+f[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+f[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+f[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+f[c-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),p="."+h[s-1],m=h.map((function(e){return"int "+e})),v=CD("sourceLocR",s-1).concat("inIdx.r"),g=CD("sourceLocG",s-1).concat("inIdx.g"),y=CD("sourceLocB",s-1).concat("inIdx.b"),b=CD("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",k="vec4(\n            getAChannel("+v.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",S=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+S+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+f[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+f[c-2]+" < "+(u[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+k+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+x+"\n          vec4 candidate = "+k+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},VD=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,l=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},GD=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=l-1-e.padInfo.front,p=f-1-e.padInfo.top,m=d-1-e.padInfo.left,v=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+p+", "+m+");\n      const float avgMultiplier = float("+v+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qD=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],VM(e,t),VM(e,n);var a="0.0";null!=r&&(VM(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(VM(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},XD=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],VM(e,t),VM(e,n);var a="vec4(0.0)";null!=r&&(VM(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(VM(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},KD=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=VM(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},YD="return a + b;",$D="return a - b;",ZD="return a * b;",QD="return (a < 0.) ? b * a : a;",JD=function(e,t,n){this.variableNames=["A","B"],this.outputShape=VM(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},eF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",tF=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=VM(t,n);var o=this.outputShape.length,i="";if(r)if(0===o||1===DR(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i="\n          "+zD(o)+" coords = getOutputCoords();\n        ",1===o)i+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=CD("coords",o);i+="\n            bool nextRowOutOfBounds =\n              ("+a[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+a[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+i+"\n\n        setOutput(result);\n      }\n    "},nF=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),rF=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),oF=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},iF=function(e){this.outputShape=[],this.outputShape=lN(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},aF=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=lN(e,t);var n=this.outputShape,r=n.length,o=zD(r),i=CD("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var c=a[t],l=a.slice(-2),f=a.join(),d="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var h=s[u-1];d+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+sF(a,c,h)+"),\n            vec2("+sF(l,c,h)+"));\n        }"}var p=s.length,m=s[s.length-1];d+="\n        return getChannel(\n          getT"+p+"("+sF(a,c,m)+"),\n          vec2("+sF(l,c,m)+"));",this.userCode="\n      float getValue("+a.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+i+"), 0., 0., 0.);\n\n        "+i[r-1]+" = "+i[r-1]+" + 1;\n        if ("+i[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+i+");\n        }\n\n        "+i[r-2]+" = "+i[r-2]+" + 1;\n        if ("+i[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+i+");\n        }\n\n        "+i[r-1]+" = "+i[r-1]+" - 1;\n        if ("+i[r-2]+" < "+n[r-2]+" &&\n            "+i[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+i+");\n        }\n        setOutput(result);\n      }\n    "};function sF(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var uF=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+i+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},cF=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,c=i?2:3,l=i?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+i+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},lF=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+i+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},fF=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},dF=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},hF=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},pF=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,p="channelsLast"===e.dataFormat,m=p?1:2,v=p?2:3,g=p?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+v+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},mF=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vF=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=e.outChannels/e.inChannels,m="",v="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",v="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+i+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+v+"\n        setOutput(result);\n      }\n    "},gF=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=h,m="int xR; int xC; int xCOffset;",v=0;v<d;v++)for(var g=0;g<h;g++)m+="\n          vec4 xTexelR"+v+"C"+2*g+" = vec4(0.);\n          vec4 wR"+v+"C"+g+" = vec4(0.);\n          vec4 xR"+v+"C"+g+" = vec4(0.);";for(v=0;v<d;v++)for(var y=0;y<p;y++){if(m+="\n          xR = xRCorner + "+v*l+";\n          xC = xCCorner + "+(g=2*y)*f+";\n        ",1===c){if(g<h&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    xTexelR"+v+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+".xy);\n                } else {\n                  xR"+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = xTexelR"+v+"C"+g+";\n              ",g+1<h)){var b=s%2==0?TR(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+i+") {\n                      xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+v+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+";\n                "}}else g<h&&(m+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+i+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n              ",g+1<h&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+i+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+".xy);\n              ",g+1<h&&(m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n                ")),m+="}");g<h&&(m+="\n            vec4 wTexelR"+v+"C"+g+" = getW("+v+", "+g+", d1, q);\n            wR"+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+".xz);\n          ",g+1<h&&(m+="\n              vec4 wTexelR"+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+", d1, q);\n              wR"+v+"C"+(g+1)+" =\n                vec4(wTexelR"+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<d;v++)for(g=0;g<h;g++)m+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var w="",x="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",x="result = activation(result);");var k=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+k+"\n        "+x+"\n        setOutput(result);\n      }\n    "},yF=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],u=e[3],c=t[0],l=n[0],f=n[1];this.outputShape=[c,l,f,u];var d="bilinear"===r?1:0,h=[a-1+".0",s-1+".0"],p=h[0],m=h[1],v=l>1?[""+(a-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],g=v[0],y=v[1],b=v[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],x=w[0],k=w[1],S=w[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+k+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+S+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},bF=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+zD(r)+" coords = getOutputCoords();\n        int end = "+wF(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+wF(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function wF(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var xF=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=GI.DENSE;var t=JI(e),n=AD();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+OD(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},kF=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=GI.DENSE;var t=JI(e),n=AD();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+OD(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},SF=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),_F=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},EF=function(e){this.variableNames=["A"],this.outTexUsage=qI.DOWNLOAD;var t=AD();this.outputShape=e,this.userCode="\n      "+RD+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},CF=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=qI.DOWNLOAD;var t=AD();this.outputShape=e,this.userCode="\n      "+RD+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},AF=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=AD(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+TD(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},OF=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=AD(),o=t[0],i=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+e[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+TD(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},TF=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},RF=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),IF=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=zD(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},PF=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=zD(t.length),o=zD(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function NF(e,t){var n=AD();return aP(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function MF(e,t){return pP(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function DF(e,t){return mP(e,t,new Uint16Array([0,1,2,2,1,3]))}function FF(e,t,n,r,o,i,a){gP(n,r);var s=vP(e,t),u=e.TEXTURE_2D;return nP(e,t,(function(){return e.bindTexture(u,s)})),nP(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),nP(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),nP(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),nP(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),nP(e,t,(function(){return e.texImage2D(u,0,o,n,r,0,i,a,null)})),nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function LF(e,t,n,r,o){var i=QI(n,r);return FF(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function jF(e,t,n,r,o){var i=QI(n,r);return FF(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function BF(e,t,n,r,o){var i=QI(n,r);return FF(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function zF(e,t,n,r,o){var i=eP(n,r);return FF(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function UF(e,t,n,r,o){var i=eP(n,r);return FF(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function WF(e,t,n,r){return nP(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),bP(e,t,n,"clipSpacePos",r,3,20,0)&&bP(e,t,n,"uv",r,2,20,12)}function HF(e,t,n,r,o,i,a){var s,u,c;nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),i instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,c=a.internalFormatPackedFloat),s.set(i),nP(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,o,0,e.RGBA,u,s)})),nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function VF(e,t,n,r){nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?nP(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):nP(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),nP(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function GF(e,t,n,r,o){var i=e.createBuffer();nP(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*n*r;return nP(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),nP(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),nP(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function qF(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function XF(e,t,n,r,o){var i=QI(n,r),a=i[0],s=i[1],u=new Uint8Array(n*r*4);return nP(e,t,(function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function KF(e,t,n,r,o,i,a,s){var u=e,c=new Float32Array(function(e,t){var n=eP(e,t);return n[0]*n[1]*4}(i,a));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function YF(e,t,n,r){var o=new Float32Array(n*r*4);return nP(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)})),o}var $F=Object.freeze({createVertexShader:NF,createVertexBuffer:MF,createIndexBuffer:DF,createFloat32MatrixTexture:LF,createFloat16MatrixTexture:jF,createUnsignedBytesMatrixTexture:BF,createPackedMatrixTexture:zF,createFloat16PackedMatrixTexture:UF,bindVertexProgramAttributeStreams:WF,uploadDenseMatrixToTexture:HF,uploadPixelDataToTexture:VF,createBufferFromOutputTexture:GF,downloadFloat32MatrixFromBuffer:qF,downloadByteEncodedFloatMatrixFromOutputTexture:XF,downloadPackedMatrixFromBuffer:KF,downloadMatrixFromPackedOutputTexture:YF}),ZF=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=yR().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,$I(t,e)):this.gl=ZI(t);var n="WEBGL_color_buffer_float";if(1===yR().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=iP(this.gl,this.debug,"OES_texture_float"),BP(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=iP(this.gl,this.debug,"OES_texture_half_float");else if(yR().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),BP(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=iP(this.gl,this.debug,"EXT_color_buffer_half_float");else if(yR().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",BP(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!BP(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=MF(this.gl,this.debug),this.indexBuffer=DF(this.gl,this.debug),this.framebuffer=yP(this.gl,this.debug),this.textureConfig=tP(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return yR().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;nP(t,this.debug,(function(){return t.finish()})),nP(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),nP(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),nP(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),nP(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),nP(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),LF(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),jF(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),BF(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),VF(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),HF(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),UF(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),zF(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(EP(this.gl,this.debug,this.framebuffer),this.outputTexture=null),nP(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return XF(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,i){return KF(this.gl,e,0,0,0,o,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return qF(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=GF(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(yR().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return YF(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=sP(t,this.debug,e),r=NF(t,this.debug),o=fP(t,this.debug);return nP(t,this.debug,(function(){return t.attachShader(o,r)})),nP(t,this.debug,(function(){return t.attachShader(o,n)})),dP(t,this.debug,o),this.debug&&hP(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=WF(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&nP(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&hP(this.gl,this.debug,this.program),nP(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?xP(this.gl,this.debug,e,t):kP(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),nP(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),SP(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=eP(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&hP(this.gl,this.debug,this.program),CP(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),nP(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),nP(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=iP(this.gl,this.debug,2===yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return mR(this,void 0,void 0,(function(){var t=this;return vR(this,(function(n){switch(n.label){case 0:return[4,UR((function(){return t.disposed||t.isQueryAvailable(e,yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||UR((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),_P(this.gl,this.debug,e,this.framebuffer),this.debug&&CP(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(_P(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&CP(this.gl)):EP(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;_P(r,this.debug,e,this.framebuffer),this.debug&&CP(r),this.outputTexture=e,nP(r,this.debug,(function(){return r.viewport(0,0,t,n)})),nP(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),nP(this.gl,this.debug,(function(){return o.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function QF(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!FR(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!FR(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}}))}var JF=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,f=n.dataFormat,d=s.left,h=s.top,p=o*r,m=AD(),v="channelsLast"===f,g=v?0:1,y=v?1:2,b="",w=0;w<=1;w++)for(var x=0;x<=1;x++)b+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+h+";\n            d0 = offsetY + "+l+" * (pos / "+p+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+i+". - "+d+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+v+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},eL=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},tL=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},nL=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+i+";\n        setOutput(result);\n      }\n    "},rL=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,u=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},oL=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=c-1-e.padInfo.left,h=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+f+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+i+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},iL=function(e,t,n,r,o,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",p="";i&&(h=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+i+"\n        }":"vec4 activation(vec4 x) {\n          "+i+"\n        }",p="result = activation(result);");var m=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+d[0]+");\n          result += ("+f[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},aL=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),sL=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},uL=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=CD("rc",t),r=zD(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+i+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},cL=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,o=zD(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},lL=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,o=zD(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=CD("rc",r),u=CD("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",p=0,m=1===r?2:4;p<m;p++)h+="\n        "+f[p]+"\n        if ("+d+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+i+");\n      const "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},fL=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,h="0.0";if(d||(h="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+l+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(p="avgValue / count");var m=4*Math.floor(r/4),v=r%4,g="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+l+", "+f+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},dL=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,p=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var v="avg"===t,g="0.0";if(v||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+i+", "+a+");\n        const ivec3 pads = ivec3("+h+", "+p+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+l+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,x="\n      if ("+v+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+h+", "+p+", "+m+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+x+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+x+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},hL=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},pL=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+OD(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+TD(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},mL=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,m=2*Math.ceil(h)+2,v=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},vL=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},gL=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},yL=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,m=2*Math.ceil(h)+2,v=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},bL=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},wL=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),o=zD(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},xL=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=CD("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=zD(n);function s(n){var r=e.map((function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+i+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},kL=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=zD(o.length),u=zD(i.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var d="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},SL=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";o%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},_L=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&a.push(""+i[u]);r=a.join(),o=s.join()}var c=zD(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},EL=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=zD(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return CL.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+CL[t]+" = start["+t+"] + coords."+CL[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),CL=["x","y","z","w","u","v"],AL=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=zD(this.rank),n=CD("coords",this.rank),r=CD("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",i="getChannel(getSource("+r.join()+"), "+o+")",a="\n      result.x = "+i+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+i+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+i+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+i+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),OL=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=zD(n.length),i=zD(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},TL=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=RL(t,n),i=IL(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===XI.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===XI.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===XI.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===XI.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===XI.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=IL(t,RL(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function RL(e,t){if(e===qI.UPLOAD)return XI.PACKED_2X2_FLOAT32;if(e===qI.RENDER||null==e)return function(e){return yR().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?XI.PACKED_2X2_FLOAT32:XI.UNPACKED_FLOAT32:e?XI.PACKED_2X2_FLOAT16:XI.UNPACKED_FLOAT16}(t);if(e===qI.DOWNLOAD||e===qI.PIXELS)return XI.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function IL(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var PL=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=zD(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},NL=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=zD(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "},ML=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=zD(this.rank),i=ED("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var s="vec2("+a.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+i[this.rank-1]+";\n      if(++"+i[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},DL=1.7580993408473768,FL=1.0507009873554805,LL=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},jL="if (isnan(x)) return x;",BL="return abs(x);",zL=jL+"\n  return (x < 0.0) ? 0.0 : x;\n",UL=jL+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",WL="return (x >= 0.0) ? x : (exp(x) - 1.0);",HL="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+DL+";\n  float scale = "+FL+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",VL="return -x;",GL="return ceil(x);",qL="return floor(x);",XL="return exp(x);",KL="return exp(x) - 1.0;",YL=jL+"\n  return sin(x);\n",$L=jL+"\n  return cos(x);\n",ZL=jL+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",QL=jL+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",JL=jL+"\n  return atan(x);\n",ej=jL+"return log(x + sqrt(x * x + 1.0));",tj=jL+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",nj=jL+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",rj="return x;",oj="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ij="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",aj="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",sj=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},uj=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=CD("rc",t),r=zD(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},cj={};function lj(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?oj:zL;if("elu"===e)return t?aj:WL;if("relu6"===e)return t?ij:UL;if("prelu"===e)return t?eF:QD;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var fj=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!yR().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=ZI(yR().getNumber("WEBGL_VERSION"));r.binaryCache=((n=yR().getNumber("WEBGL_VERSION"))in cj||(cj[n]={}),cj[n]),r.gpgpu=new ZF(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new TL(r.gpgpu),r.numMBBeforeWarning=null==yR().global.screen?1024:yR().global.screen.height*yR().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new BM(r,WI),r}return pR(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(yR().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:qI.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(yR().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:qI.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,i=t.slice,a=t.shape,s=t.isPacked;if(null!=i){var u;u=s?new sj(a,rj):new LL(a,rj);var c=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,d,h=null!=this.activeTimers;return h&&(f=lI()),d="complex64"===r?aD(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=lI()-f),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return mR(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x,k;return vR(this,(function(S){switch(S.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,o=n.shape,i=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=i)return void 0,c=u?new sj(o,rj):new LL(o,rj),l=this.runWebGLProgram(c,[{dataId:e,shape:o,dtype:a}],a),f=this.read(l.dataId),this.disposeData(l.dataId),[2,f];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!yR().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===yR().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return d=null,"complex64"!==a&&yR().get("WEBGL_BUFFER_SUPPORTED")&&(h=this.decode(e),p=this.texData.get(h.dataId),d=(k=this.gpgpu).createBufferFromTexture.apply(k,[p.texture].concat(JI(o)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:S.sent(),S.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return v=S.sent(),g=v[0],y=v[1],m=aD(g,y),[3,5];case 4:null==d?m=this.getValuesFromTexture(e):(b=DR(o),m=this.gpgpu.downloadFloat32MatrixFromBuffer(d,b)),S.label=5;case 5:return null!=h&&this.disposeData(h.dataId),w=this.convertAndCacheOnCPU(e,m),x=this.pendingRead.get(e),this.pendingRead.delete(e),x.forEach((function(e){return e(w)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,w]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!rP(n)){if(yR().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.isPacked,a=DR(r);if(yR().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(JI(r))).subarray(0,a);return this.disposeData(s.dataId),c}var l=yR().getBool("WEBGL_PACK")&&!0===i,f=l?PP(r):r,d=l?new CF(f):new EF(f),h=this.runWebGLProgram(d,[{shape:f,dtype:o,dataId:e}],"float32"),p=this.texData.get(h.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]).subarray(0,a);return this.disposeData(h.dataId),m},t.prototype.time=function(e){return mR(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return vR(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=MR(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=MR(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=u.sent(),a.kernelMs=RR(s),a.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:lI(),endMs:null}},t.prototype.endTimer=function(e){return yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=lI(),e)},t.prototype.getQueryTime=function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){return yR().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,i=t.usage,a=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,i,a)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return yR().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=WI.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:WI.keep(e.clone()),imag:WI.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===DR(n))return mN([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=MM(e.shape,t,n);if(r||!o){var i=yR().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new AL(n):new EL(n),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),i=this.texData.get(o.dataId);Object.assign(i,r),i.shape=n,i.dtype=e.dtype;var a=DM(t,e.strides);r.slice&&(a+=r.slice.flatOffset),i.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=IM(t,n,r);if(o.some((function(e){return 0===e})))return mN([],o);var i=new OL(t,r,o);return this.compileAndRun(i,[e])},t.prototype.reverse=function(e,t){var n=yR().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xL(e.shape,t):new wL(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return hN(e)})),r=e.map((function(e){return pN(e)}));return dN(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>yR().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),i=this.concat(e.slice(0,o),t),a=this.concat(e.slice(o),t);return this.concat([i,a],t)}if(yR().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new aF(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=lN(e.map((function(e){return e.shape})),t),c=e.map((function(e){return e.as2D(-1,DR(e.shape.slice(t)))})),l=new iF(c.map((function(e){return e.shape})));return this.compileAndRun(l,c).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,VL,e.dtype);var t=new LL(e.shape,VL);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===i?e:e.as3D(s,a,1),c=1===i?2:1,l=1===i?t.as3D(s,1,a):t;return this.multiply(u,l).sum(c,!0)}var f=MI(e.dtype,t.dtype),d=new iL(e.shape,[s,o,i],n,r);return this.compileAndRun(d,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],c=o?n.shape[1]:n.shape[2],l=t.shape[0],f=MI(t.dtype,n.dtype),d=null!=i,h=null!=s,p=a?lj(a,!0):null,m=new iL(t.shape,[l,u,c],r,o,d,p,h),v=[t,n];return i&&v.push(i),s&&v.push(s),this.compileAndRun(m,v,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new KD("return areal * breal - aimag * bimag;",e.shape,t.shape),i=new KD("return areal * bimag + aimag * breal;",e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),u=this.compileAndRun(i,a),c=this.complex(s,u);return s.dispose(),u.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,ZD,e.dtype);var l=new JD(ZD,e.shape,t.shape);return this.compileAndRun(l,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var u=null;if(null!=o&&(u=o.shape,a.push(o)),yR().getBool("WEBGL_PACK_NORMALIZATION")){var c=new XD(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,a)}var l=new qD(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=yR().getBool("WEBGL_PACK_NORMALIZATION")?new nL(e.shape,t,n,r,o):new eL(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new tL(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return hI(e)}));return bD(qN(e.shape,e.dtype,n),t)}var r=new PL(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=yR().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lL(e.shape,t,n):new cL(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=yR().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ML(e.shape,t):new NL(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new IF(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){IR(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=bM(e.shape,t,r),i=wM(o.length,t.length),a=xM(e.shape,t,r),s=kM(n,t.length),u=SM(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){IR(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=bM(a.shape,t,r,!1),u=wM(s.length,t.length,!1),c=xM(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=EM(o),a=new hL({windowSize:i,inSize:o,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=EM(o),a=new _D({windowSize:i,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=EM(r[r.length-1]),i=new HD(r,o,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(i,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){iN("sum",t,e.rank);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o),a=DI(e.dtype);return this.reduce(i,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o),a=DI(e.dtype);return this.reduce(i,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=aN([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=uN(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=DR([i.shape[r]]),u=i.as2D(-1,s),c=DI(e.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",t,c,n).reshape(a);return null!=o&&(l=l.transpose(sN(o))),l},t.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=oI(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=oI(e,n+1);return n}(a,o),u=new SL({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),c=this.compileAndRun(u,[e,n],r);return c.shape[1]===o?c:(n=EN(0,o).tile([a/s]),this.segOpCompute(c,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(iN("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!yR().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=rN(e.shape,r),i=o[0],a=DR(o[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(i)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new bF(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new JD("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new JD("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new JD("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new JD("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new JD("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new JD("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new LL(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new JD("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new JD("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new _L(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],MI(t.dtype,n.dtype))},t.prototype.where=function(e){$P("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return xD(e.shape,t)},t.prototype.topk=function(e,t,n){return wD(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){iN("min",t,e.rank);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new JD("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new JD("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);iN("max",t,e.rank);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new JD("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){iN("all",t,e.rank);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},t.prototype.any=function(e,t){iN("any",t,e.rank);var n=rN(e.shape,t),r=n[0],o=DR(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new JD("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new JD("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,YD);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=MI(e.dtype,t.dtype);if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,YD,n);var r=new JD(YD,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new sj(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var i=new tF(n,e.shape,t.shape,o);return this.compileAndRun(i,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map((function(o){var i=o[0],a=o[1],s=r.makeComplexComponentTensorInfo(e,i),u=r.makeComplexComponentTensorInfo(t,a),c=new JD(n,e.shape,t.shape);return r.compileAndRun(c,[s,u],MI(i.dtype,a.dtype))})),s=a[0],u=a[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>yR().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map((function(e){return e.dtype})).reduce((function(e,t){return MI(e,t)})),i=e.map((function(e){return e.shape})),a=yR().getBool("WEBGL_PACK")?new SD(e[0].shape,i):new kD(e[0].shape,i);return this.compileAndRun(a,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,$D);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=MI(e.dtype,t.dtype);if(yR().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,$D,e.dtype);var r=new JD($D,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new JD("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=MI(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,GL,e.dtype);var t=new LL(e.shape,GL);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,qL,e.dtype);var t=new LL(e.shape,qL);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new LL(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new LL(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new LL(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new LL(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new LL(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,XL,e.dtype);var t=new LL(e.shape,XL);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,KL,e.dtype);var t=new LL(e.shape,KL);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=HR([t],e.shape),r=this.max(e,n),o=oN(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new LL(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new LL(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new LL(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new LL(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new LL(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=yR().getBool("WEBGL_PACK")?new sj(e.shape,oj):new LL(e.shape,zL),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=yR().getBool("WEBGL_PACK")?new sj(e.shape,ij):new LL(e.shape,UL),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF(eF,e.shape,t.shape):new JD(QD,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,aj,e.dtype);var t=new LL(e.shape,WL);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new JD("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new LL(e.shape,HL);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new LL(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=yR().getBool("WEBGL_PACK_CLIP")?new rF(e.shape):new nF(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(yR().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,BL,e.dtype);var t=new LL(e.shape,BL);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new oF(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new LL(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new LL(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new LL(e.shape,YL);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new LL(e.shape,$L);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new LL(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new LL(e.shape,ZL);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new LL(e.shape,QL);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new LL(e.shape,JL);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new JD("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new LL(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new LL(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new LL(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new LL(e.shape,ej);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new LL(e.shape,tj);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new LL(e.shape,nj);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new LL(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new LL(e.shape,function(e){return void 0===e&&(e=0),jL+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,i){var a=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,c=a[0]*a[1]*a[2],l=n.outChannels,f="channelsLast"===n.dataFormat,d=(1===c||1===l)&&u>1e3,h=a[2]%2!=0&&!!s.isPacked;if(d||!yR().getBool("WEBGL_LAZILY_UNPACK")||!yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!h){var p=f?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],m=this.reshape(e,[1,p,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:v,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),n.outShape)}var g=f?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),y={dataId:e.dataId,shape:[1,g,n.inChannels],dtype:e.dtype},b=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,IR(DP(s.shape,y.shape),(function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"}));var w=this.reshape(t,[1,n.inChannels,n.outChannels]),x=this.fusedBatchMatMul({a:y,b:w,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),k=this.texData.get(x.dataId);return IR(k.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=b,k.shape=n.outShape,WI.makeTensorFromDataId(x.dataId,n.outShape,x.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,i){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,f="channelsLast"===n.dataFormat,d=a*s*u,h=l*c,p=[d,h],m=e.squeeze([0]),v=t.reshape([1,d,-1]),g=new JF(p,m.shape,n),y=this.compileAndRun(g,[m]).reshape([1,p[0],p[1]]),b=null!=r,w=null!=i,x=o?lj(o,!0):null,k=new iL(y.shape,[1,h,n.outChannels],!0,!1,b,x,w),S=[y,v];r&&S.push(r),w&&S.push(i);var _=this.compileAndRun(k,S);return f?_.reshape([1,l,c,n.outChannels]):_.reshape([1,n.outChannels,l,c])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,i,a);if(yR().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,i,a);var s=null!=o,u=null!=a,c=i?lj(i,!1):null,l=new pF(r,s,c,u),f=[t,n];return o&&f.push(o),a&&f.push(a),this.compileAndRun(l,f)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(yR().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new pF(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new cF(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new uF(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=yR().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,c=a?lj(a,u):null,l=[n,r],f=null!=i,d=null!=s;return f&&l.push(i),d&&l.push(s),u?(t=new gF(o,f,c,d),this.compileAndRun(t,l)):(t=new vF(o,f,c,d),this.compileAndRun(t,l))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return yR().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new gF(n),this.compileAndRun(r,[e,t])):(r=new vF(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new hF(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new dF(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new mF(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new fF(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new lF(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new fL(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new fL(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new fL(r,"max",!0),i=this.compileAndRun(o,[t]),a=new rL(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new VD(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return rD(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new dL(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new GD(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new dL(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new dL(r,"max",!0),i=this.compileAndRun(o,[t]),a=new oL(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!DP(e.shape,t)&&(null===n.texture||!DP(n.shape,t))){var r=this.packedReshape(e,t);return WI.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return oD(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=yR().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new gL(e.shape,t,n,r):new vL(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new mL(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new bL(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new yL(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:LM(e),i=o.shape[0],a=o.shape[1],s=new aL(i,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var o=new sL(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new _F(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return $P("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),dD(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new yF(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){IR(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],i="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,u=i*t,c=a/(t*t),l=new SF("NHWC"===n?[r,s,u,c]:[r,c,s,u],t,n);return this.compileAndRun(l,[e])},t.prototype.split=function(e,t,n){return yD(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=OM(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/a,a],l=e.reshape([i,o]),f=t.reshape([i,a]);if(0===u)return oD(mN([]),n);var d=gN(0),h=new kL(i,o,l.rank,f.rank,s,c);return this.compileAndRun(h,[f,l,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=OM(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,u=o.outputSize,c=new kL(a,i,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(c,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new TF("return real * expR - imag * expI;",e.shape,t),o=new TF("return real * expI + imag * expR;",e.shape,t),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),u=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=_M(e,t),i=o[0],a=o[1],s=o[2],u=o[3],c=t.reshape([a,r]),l=e.reshape([e.size/s,s]),f=new PF(r,u,[a,s]);return this.compileAndRun(f,[l,c]).reshape(i)},t.prototype.fill=function(e,t,n){if("string"===(n=n||nI(t))){var r=qR(n,DR(e));return r.fill(t),WI.makeTensor(r,e,n,this)}var o=new RF(e,t),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,i)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return iD(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return WI.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new uj(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new uL(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[RP(e.shape)].concat(IP(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[RP(t)].concat(IP(t)),i=new pL(o,n),a=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,i=n.dtype,a=PP(o);return t=r?new kF(a):new xF(a),{dtype:i,shape:o,dataId:this.runWebGLProgram(t,[{shape:a,dtype:i,dataId:e}],i,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var i=this;void 0===o&&(o=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===GI.DENSE){var u=JI(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===DR(a.shape))return s.values=GR(a.dtype,0),a;var c=[],l=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&DR(t.shape)<=yR().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),c.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!DP(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),c.push(t),n=i.texData.get(t.dataId),r.shape=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);var f,d={shape:a.shape,texData:s,isUniform:!1},h=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,l,d),p=this.getAndSaveBinary(h,(function(){return function(e,t,n,r){var o=t.userCode,i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=ID(i,s,o,t.packedInputs),c=e.createProgram(u),l=null,f=e.getUniformLocation(c,"NAN",!1);1===yR().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(c,"INFINITY",!1));for(var d={},h=0;h<t.variableNames.length;h++){var p=t.variableNames[h];d[p]=e.getUniformLocation(c,p,!1),d["offset"+p]=e.getUniformLocation(c,"offset"+p,!1)}return{program:t,source:u,webGLProgram:c,uniformLocations:d,inShapeInfos:a,outShapeInfo:s,infLoc:l,nanLoc:f}}(i.gpgpu,e,l,d)})),m=null!=this.activeTimers;if(m&&(f=this.startTimer()),function(e,t,n,r,o){QF(t.inShapeInfos,n),QF([t.outShapeInfo],[r]);var i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,a[0],a[1]):e.setOutputMatrixTexture(i,a[0],a[1]),e.setProgram(t.webGLProgram),1===yR().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var o=t.program.variableNames[r],i=t.uniformLocations[o],a=t.uniformLocations["offset"+o];if(null!=i)if(n.isUniform)if(DR(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)})),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,p,l,d,r),c.forEach((function(e){return i.disposeData(e.dataId)})),m&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)})),!yR().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var v=this.unpackTensor(a);return this.disposeData(a.dataId),v}return a},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,o);return WI.makeTensorFromDataId(i.dataId,i.shape,i.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(yR().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=KP((function(){if(!yR().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=yR().getBool("DEBUG");yR().set("DEBUG",!1);var n=e.abs(gN(1e-8)).dataSync()[0];if(yR().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var c,l=null!=this.activeTimers;l&&(c=lI());var f=n.texShape;if(null==f&&(f=NP(r,u),n.texShape=f),null!=i){var d=PP(r),h=void 0,p=f[1],m=f[0],v=i instanceof Uint8Array;u?(p=(t=eP(f[0],f[1]))[0],m=t[1],h=new OF(d,[m,p],v)):h=new AF(d,[m,p],v);var g=this.makeTensorInfo([m,p],o);this.texData.get(g.dataId).usage=v?qI.PIXELS:qI.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),p,m,i);var y=this.runWebGLProgram(h,[g],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=lI()-c)}else{var w=this.acquireTexture(f,s,o,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*ZR(t)},t}(zM);HI()&&WI.registerBackend("webgl",(function(){return new fj}),2);var dj=fN({square_:function(e){var t=JP(e,"x","square"),n=[t];return WI.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),hj="SquaredDifference",pj=fN({squaredDifference_:function(e,t){var n,r=JP(e,"a","squaredDifference"),o=JP(t,"b","squaredDifference");n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return WI.runKernelFunc((function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n}),i,(function(e,t){var n=t[0],r=t[1],o=gN(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}}),hj,{},a,[])}}),mj=fN({abs_:function(e){var t=JP(e,"x","abs");return"complex64"===t.dtype?WI.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):WI.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),vj=fN({acos_:function(e){var t=JP(e,"x","acos");return WI.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(gN(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),gj=fN({acosh_:function(e){var t=JP(e,"x","acosh");return WI.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),yj=fN({asin_:function(e){var t=JP(e,"x","asin");return WI.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(gN(1).sub(n.toFloat().square()).sqrt())}}}))}}),bj=fN({asinh_:function(e){var t=JP(e,"x","asinh");return WI.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(gN(1).add(n.toFloat().square()).sqrt())}}}))}}),wj=fN({atan_:function(e){var t=JP(e,"x","atan");return WI.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),xj=fN({atanh_:function(e){var t=JP(e,"x","atanh");return WI.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(gN(1).sub(n.toFloat().square()))}}}))}}),kj=fN({ceil_:function(e){var t=JP(e,"x","ceil");return WI.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Sj=fN({clipByValue_:function(e,t,n){var r=JP(e,"x","clipByValue");IR(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var o=[r],i={min:t,max:n};return WI.runKernelFunc((function(e,o){var i=e.clip(r,t,n);return o([r]),i}),{x:r},(function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),AN(e))}}}),"ClipByValue",i,o)}}),_j=fN({cos_:function(e){var t=JP(e,"x","cos"),n=[t];return WI.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Ej=fN({cosh_:function(e){var t=JP(e,"x","cosh");return WI.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),Cj=fN({erf_:function(e){var t=JP(e,"x","erf");return IR("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),WI.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Aj=fN({exp_:function(e){var t=JP(e,"x","exp");return WI.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Oj=fN({expm1_:function(e){var t=JP(e,"x","expm1");return WI.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Tj=fN({floor_:function(e){var t=JP(e,"x","floor");return WI.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Rj=fN({log_:function(e){var t=JP(e,"x","log"),n=[t];return WI.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),Ij=fN({log1p_:function(e){var t=JP(e,"x","log1p");return WI.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Pj=fN({logSigmoid_:function(e){var t=JP(e,"x","logSigmoid");return WI.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Nj=fN({neg_:function(e){var t=JP(e,"x","neg"),n=[t];return WI.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Mj=fN({reciprocal_:function(e){var t=JP(e,"x","reciprocal");return WI.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Dj=fN({round_:function(e){var t=JP(e,"x","round");return WI.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Fj=fN({rsqrt_:function(e){var t=JP(e,"x","rsqrt"),n=[t];return WI.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Lj=fN({sigmoid_:function(e){var t=JP(e,"x","sigmoid");return WI.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(gN(1).sub(n)))}}}),"Sigmoid")}}),jj=fN({sign_:function(e){var t=JP(e,"x","sign");return WI.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Bj=fN({isNaN_:function(e){var t=JP(e,"x","isNaN");return WI.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),zj=fN({isInf_:function(e){var t=JP(e,"x","isInf");return WI.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Uj=fN({isFinite_:function(e){var t=JP(e,"x","isFinite");return WI.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return AN(e)}}}))}}),Wj=fN({sin_:function(e){var t=JP(e,"x","sin"),n=[t];return WI.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),Hj=fN({sinh_:function(e){var t=JP(e,"x","sinh");return WI.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Vj=fN({softplus_:function(e){var t=JP(e,"x","softplus");return WI.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),Gj=fN({sqrt_:function(e){var t=JP(e,"x","sqrt");return WI.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),qj=fN({step_:function(e,t){void 0===t&&(t=0);var n=JP(e,"x","step");return WI.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return AN(e)}}}))}}),Xj=fN({tan_:function(e){var t=JP(e,"x","tan");return WI.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),Kj=fN({tanh_:function(e){var t=JP(e,"x","tanh");return WI.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return gN(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function Yj(e,t,n,r,o,i){var a,s,u=JP(e,"x","batchNorm"),c=JP(t,"mean","batchNorm"),l=JP(n,"variance","batchNorm");return null!=o&&(a=JP(o,"scale","batchNorm")),null!=r&&(s=JP(r,"offset","batchNorm")),IR(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),IR(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),IR(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."})),null!=a&&IR(2===a.rank||1===a.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."})),null!=s&&IR(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Qj(u,c,l,s,a,i)}function $j(e,t,n,r,o,i){var a,s,u=JP(e,"x","batchNorm"),c=JP(t,"mean","batchNorm"),l=JP(n,"variance","batchNorm");return null!=o&&(a=JP(o,"scale","batchNorm")),null!=r&&(s=JP(r,"offset","batchNorm")),IR(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),IR(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),IR(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."})),null!=a&&IR(3===a.rank||1===a.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."})),null!=s&&IR(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Qj(u,c,l,s,a,i)}function Zj(e,t,n,r,o,i){var a,s,u=JP(e,"x","batchNorm"),c=JP(t,"mean","batchNorm"),l=JP(n,"variance","batchNorm");return null!=o&&(a=JP(o,"scale","batchNorm")),null!=r&&(s=JP(r,"offset","batchNorm")),IR(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),IR(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),IR(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."})),null!=a&&IR(4===a.rank||1===a.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."})),null!=s&&IR(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Qj(u,c,l,s,a,i)}function Qj(e,t,n,r,o,i){null==i&&(i=.001);var a,s,u,c=JP(e,"x","batchNorm"),l=JP(t,"mean","batchNorm"),f=JP(n,"variance","batchNorm");null!=o&&(a=JP(o,"scale","batchNorm")),null!=r&&(s=JP(r,"offset","batchNorm")),IR(l.rank===f.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),IR(null==s||l.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),IR(null==a||l.rank===a.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var d=[c,l,f,a];return WI.runKernelFunc((function(e,t){var n=e.batchNormalization(u,Jj(l),Jj(f),i,Jj(a),Jj(s));return t([c,l,f,a]),n}),{x:c,mean:l,variance:f,scale:a,offset:s},(function(e,t){var n=t,r=n[0],o=n[1],a=n[2],s=n[3],c=null==s?gN(1):s,l=HM(o.shape,u.shape),f=[];if(1===o.rank){for(var d=0;d<u.shape.length-1;++d)f.push(u.shape[d]);f.push(1)}var h=r.sub(o),p=e.mul(c),m=Fj(a.add(gN(i))),v=m.mul(m).mul(m).mul(gN(-.5));return{x:function(){return 1===o.rank?e.mul(vM(m.as4D(1,1,1,o.shape[0]),f)).mul(c).reshape(r.shape):e.mul(m).mul(c).reshape(r.shape)},mean:function(){var e=m.mul(gN(-1)).mul(p);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},variance:function(){var e=v.mul(h).mul(p);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},scale:function(){var t=h.mul(m),n=e.mul(t);return 1===o.rank&&(n=n.sum(l)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(l)),t.reshape(o.shape)}}}),"BatchNormalization",{varianceEpsilon:i},d).reshape(c.shape)}function Jj(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function eB(){XP("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var tB=fN({batchNormalization2d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),eB(),Yj(e,t,n,i,o,r)}}),nB=fN({batchNormalization3d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),eB(),$j(e,t,n,i,o,r)}}),rB=fN({batchNormalization4d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),eB(),Zj(e,t,n,i,o,r)}}),oB=fN({batchNormalization_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),eB(),Qj(e,t,n,i,o,r)}}),iB=fN({batchNorm_:Qj}),aB=fN({batchNorm2d_:Yj}),sB=fN({batchNorm3d_:$j}),uB=fN({batchNorm4d_:Zj}),cB=fN({logicalAnd_:function(e,t){var n=JP(e,"a","logicalAnd","bool"),r=JP(t,"b","logicalAnd","bool");return VM(n.shape,r.shape),WI.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),lB=fN({logicalNot_:function(e){var t=JP(e,"x","logicalNot","bool");return WI.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),fB=fN({logicalOr_:function(e,t){var n=JP(e,"a","logicalOr","bool"),r=JP(t,"b","logicalOr","bool");return VM(n.shape,r.shape),WI.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),dB=fN({logicalXor_:function(e,t){var n=JP(e,"a","logicalXor","bool"),r=JP(t,"b","logicalXor","bool");return VM(n.shape,r.shape),fB(e,t).logicalAnd(cB(e,t).logicalNot())}}),hB=fN({where_:function(e,t,n){var r=JP(t,"a","where"),o=JP(n,"b","where"),i=JP(e,"condition","where","bool");return PR(r.shape,o.shape,"Error in where: "),1===i.rank?IR(i.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):PR(i.shape,o.shape,"Error in where: "),WI.runKernelFunc((function(e,t){var n=e.select(i,r,o);return t([i]),n}),{$condition:i,$a:r,$b:o},(function(e,t){var n=t[0];return{$condition:function(){return AN(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),pB=function(e){return mR(this,void 0,void 0,(function(){var t,n,r;return vR(this,(function(o){switch(o.label){case 0:return[4,(t=JP(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=xD(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},mB=fN({add_:function(e,t){var n,r=JP(e,"a","add"),o=JP(t,"b","add");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e){return e.add(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=HM(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=HM(o.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}}),"Add")}}),vB=fN({addN_:function(e){IR(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),IR(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return JP(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!FR(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return WI.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),gB=fN({addStrict_:function(e,t){var n=JP(e,"a","addStrict"),r=JP(t,"b","addStrict");return PR(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),yB=fN({atan2_:function(e,t){var n,r=JP(e,"a","atan2"),o=JP(t,"b","atan2");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e,t){var n=e.atan2(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=mB(n.square(),r.square()),o=e.mul(r.div(t)),a=HM(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$b:function(){var t=mB(n.square(),r.square()),o=Nj(e.mul(n.div(t))),a=HM(r.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(r.shape)}}}))}}),bB=fN({div_:function(e,t){var n,r=JP(e,"a","div"),o=JP(t,"b","div");if(n=FI(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return kB(r,o);var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e,t){var n=e.realDivide(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=HM(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=HM(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"Div")}}),wB=fN({divNoNan_:function(e,t){var n,r=JP(e,"a","div"),o=JP(t,"b","div");r=(n=FI(r,o))[0],o=n[1];var i=bB(r,o),a=AN(i),s=o.equal(a);return hB(s,a,i)}}),xB=fN({divStrict_:function(e,t){var n=JP(e,"a","div"),r=JP(t,"b","div");return PR(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),kB=fN({floorDiv_:function(e,t){var n,r=JP(e,"a","floorDiv"),o=JP(t,"b","floorDiv");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=HM(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=HM(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"FloorDiv")}}),SB=fN({maximum_:function(e,t){var n,r=JP(e,"a","maximum"),o=JP(t,"b","maximum");return n=FI(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),VM(r.shape,o.shape),WI.runKernelFunc((function(e,t){var n=e.maximum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),_B=fN({maximumStrict_:function(e,t){var n=JP(e,"a","maximumStrict"),r=JP(t,"b","maximumStrict");return PR(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),EB=fN({minimum_:function(e,t){var n,r=JP(e,"a","minimum"),o=JP(t,"b","minimum");return n=FI(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),VM(r.shape,o.shape),WI.runKernelFunc((function(e,t){var n=e.minimum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),CB=fN({minimumStrict_:function(e,t){var n=JP(e,"a","minimumStrict"),r=JP(t,"b","minimumStrict");return PR(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),AB=fN({mod_:function(e,t){var n,r=JP(e,"a","mod"),o=JP(t,"b","mod");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e,t){var n=e.mod(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=HM(n.shape,i);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=HM(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}))}}),OB=fN({modStrict_:function(e,t){var n=JP(e,"a","modStrict"),r=JP(t,"b","modStrict");return PR(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),TB=fN({mul_:function(e,t){var n,r=JP(e,"a","mul"),o=JP(t,"b","mul");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e,t){var n=e.multiply(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=HM(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=HM(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}),"Mul")}}),RB=fN({mulStrict_:function(e,t){var n=JP(e,"a","mul"),r=JP(t,"b","mul");return PR(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),IB=fN({pow_:function(e,t){var n,r=JP(e,"base","pow"),o=JP(t,"exp","pow");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape),a=[r,o];return WI.runKernelFunc((function(e,t){var n=e.pow(r,o);return t([r,o,n]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(gN(1))))),a=HM(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,AN(n)),s=e.mul(o.mul(a)),u=HM(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},a,[!0])}}),PB=fN({powStrict_:function(e,t){return PR(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),NB=fN({squaredDifferenceStrict_:function(e,t){var n=JP(e,"a","squaredDifferenceStrict"),r=JP(t,"b","squaredDifferenceStrict");return PR(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),MB=fN({sub_:function(e,t){var n,r=JP(e,"a","sub"),o=JP(t,"b","sub");n=FI(r,o),r=n[0],o=n[1];var i=VM(r.shape,o.shape);return WI.runKernelFunc((function(e){return e.subtract(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=HM(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=HM(o.shape,i);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}}),"Sub")}}),DB=fN({subStrict_:function(e,t){var n=JP(e,"a","subStrict"),r=JP(t,"b","subStrict");return PR(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),FB=fN({equal_:function(e,t){var n,r=JP(e,"a","equal"),o=JP(t,"b","equal");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e){return e.equal(r,o)}),{$a:r,$b:o})}}),LB=fN({equalStrict_:function(e,t){var n=JP(e,"a","equalStrict"),r=JP(t,"b","equalStrict");return PR(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),jB=fN({greater_:function(e,t){var n,r=JP(e,"a","greater"),o=JP(t,"b","greater");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e){return e.greater(r,o)}),{a:r,b:o},null,"Greater")}}),BB=fN({greaterEqual_:function(e,t){var n,r=JP(e,"a","greaterEqual"),o=JP(t,"b","greaterEqual");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return AN(n)},b:function(){return AN(r)}}}),"GreaterEqual")}}),zB=fN({greaterEqualStrict_:function(e,t){var n=JP(e,"a","greaterEqualStrict"),r=JP(t,"b","greaterEqualStrict");return PR(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),UB=fN({greaterStrict_:function(e,t){var n=JP(e,"a","greaterStrict"),r=JP(t,"b","greaterStrict");return PR(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),WB=fN({less_:function(e,t){var n,r=JP(e,"a","less"),o=JP(t,"b","less");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e){return e.less(r,o)}),{a:r,b:o},null,"Less")}}),HB=fN({lessEqual_:function(e,t){var n,r=JP(e,"a","lessEqual"),o=JP(t,"b","lessEqual");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n}),{a:r,b:o},null,"LessEqual")}}),VB=fN({lessEqualStrict_:function(e,t){var n=JP(e,"a","lessEqualStrict"),r=JP(t,"b","lessEqualStrict");return PR(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),GB=fN({lessStrict_:function(e,t){var n=JP(e,"a","lessStrict"),r=JP(t,"b","lessStrict");return PR(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),qB=fN({notEqual_:function(e,t){var n,r=JP(e,"a","notEqual"),o=JP(t,"b","notEqual");return n=FI(r,o),r=n[0],o=n[1],VM(r.shape,o.shape),WI.runKernelFunc((function(e){return e.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),XB=fN({notEqualStrict_:function(e,t){var n=JP(e,"a","notEqualStrict"),r=JP(t,"b","notEqualStrict");return PR(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function KB(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function YB(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var $B=fN({gather_:function(e,t,n){void 0===n&&(n=0);var r=JP(e,"x","gather"),o=JP(t,"indices","gather","int32");n=HR(n,r.shape)[0];var i=function(e,t,n){for(var r=e.shape[n],o=[],i=1,a=1,s=0;s<n;s++)o.push(e.shape[s]),i*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),a*=e.shape[s];return{batchSize:i,sliceSize:a,dimSize:r,outputShape:o}}(r,o,n);return WI.runKernelFunc((function(e,t){var i=e.gather(r,o.flatten(),n);return t([o]),i}),{x:r,indices:o},(function(e,t){var o=t[0];return{x:function(){var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,u=t.slice(n,t.length).slice(1),c=u.length,l=KB(0,s),f=KB(s+1,s+1+c),d=YB([a,[i],u]),h=e.reshape(d),p=o.reshape([i]),m=YB([[s],l,f]),v=h.transpose(m),g=ZB(v,p,r.shape[n]),y=sN(m);return g.transpose(y)},indices:function(){return o}}}),"Gather",{axis:n}).reshape(i.outputShape)}}),ZB=fN({unsortedSegmentSum_:function(e,t,n){var r=JP(e,"x","unsortedSegmentSum"),o=JP(t,"segmentIds","unsortedSegmentSum","int32");return IR(LR(n),(function(){return"numSegments must be of dtype int"})),WI.runKernelFunc((function(e,t){var i=e.unsortedSegmentSum(r,o,n);return t([o]),i}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=SB(t,AN(t)),r=$B(e,n),o=BB(t,gN(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=JN(o,a+1);o=cB(o,kN(r.shape,"bool"));var s=AN(r);return hB(o,r,s)}(e,n)}}}))}});function QB(e,t,n,r,o,i,a){void 0===i&&(i="NHWC"),IR(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),IR(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),IR(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),IR(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var l="NHWC"===i?s[3]:s[1],f="NHWC"===i?u.shape[3]:u.shape[1];IR(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."})),IR(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."})),null!=a&&IR(LR(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var d=nD(i),h=XM(s,n.shape,r,1,o,a,!1,d),p=WI.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,h);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return nz(e,n,r,o,i,1,a)},filter:function(){return oz(e,s,n.shape,r,o,i,a)}}}));return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function JB(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function ez(e,t,n,r,o){IR(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var i=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],c=a.shape[4];IR(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."})),IR(5===a.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank})),IR(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),IR(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),IR(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."}));var l=KM(i,n.shape,r,1,o),f=WI.runKernelFunc((function(e){return e.conv3dDerInput(a,n,l)}),{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var tz=fN({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=JP(e,"x","conv1d"),u=JP(t,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),IR(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),IR(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=a&&IR(LR(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."})),IR(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),IR(tD(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"})),IR("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),h=nz(d,f,[1,n],r,"NHWC",[1,i],a);return l?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),nz=fN({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=JP(e,"x","conv2d"),u=JP(t,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),IR(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),IR(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=a&&IR(LR(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var f="NHWC"===o?c.shape[3]:c.shape[1];IR(f===u.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."})),IR(tD(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}));var d=nD(o),h=XM(c.shape,u.shape,n,i,r,a,!1,d),p=[u,c],m=WI.runKernelFunc((function(e,t){var n=e.conv2d(c,u,h);return t([u,c]),n}),{x:c,filter:u},(function(e,t){var a=t,s=a[0],u=a[1];return IR(eD(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"})),{x:function(){return iz(u.shape,e,s,n,r,o)},filter:function(){return oz(u,e,s.shape,n,r,o)}}}),"Conv2D",h,p);return l?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),rz=fN({conv3d_:function(e,t,n,r,o,i){void 0===o&&(o="NDHWC"),void 0===i&&(i=[1,1,1]);var a=JP(e,"x","conv3d"),s=JP(t,"filter","conv3d"),u=a,c=!1;4===a.rank&&(c=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),IR(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),IR(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),IR(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),IR(function(e,t){return JB(e)||JB(t)}(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),IR("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var l=KM(u.shape,s.shape,n,i,r),f=WI.runKernelFunc((function(e,t){var n=e.conv3d(u,s,l);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){IR(JB(i),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}));var o=t[0],a=t[1];return{x:function(){return ez(o.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,o){var i=e;4===e.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),IR(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+i.shape+"."})),IR(5===a.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."})),IR(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),IR(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+i.shape[4]+") must match input depth in filter ("+n[3]+"."})),IR(a.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=KM(i.shape,n,r,1,o);return WI.runKernelFunc((function(e){return e.conv3dDerFilter(i,a,s)}),{x5D:i,dy5D:a})}(o,e,a.shape,n,r)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),oz=fN({conv2dDerFilter_:function(e,t,n,r,o,i,a){void 0===i&&(i="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),IR(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),IR(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),IR(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var c="NHWC"===i?s.shape[3]:s.shape[1],l="NHWC"===i?u.shape[3]:u.shape[1];IR(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."})),IR(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."})),null!=a&&IR(LR(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var f=nD(i),d=XM(s.shape,n,r,1,o,a,!1,f);return WI.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),iz=fN({conv2dDerInput_:QB}),az=fN({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=JP(e,"x","depthwiseConv2d"),u=JP(t,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),IR(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),IR(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),IR(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==i&&(i=[1,1]),IR(tD(n,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&IR(LR(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var f=XM(c.shape,u.shape,n,i,r,a,!0),d=[c,u],h=WI.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(c,u,f);return t([c,u]),n}),{x:c,filter:u},(function(e,t){IR(eD(i),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"}));var n=t[0],r=t[1];return{x:function(){return sz(n.shape,e,r,f)},filter:function(){return uz(n,e,r.shape,f)}}}),"DepthwiseConv2dNative",f,d);return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),sz=fN({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=WI.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),uz=fN({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),WI.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(o,i,r)}),{x4D:o,dy4D:i})}}),cz=fN({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=JP(e,"x","separableConv2d"),u=JP(t,"depthwiseFilter","separableConv2d"),c=JP(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");IR(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."})),IR(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),IR(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),IR(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),IR(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var d=u.shape[2],h=u.shape[3];IR(c.shape[2]===d*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+c.shape[2]+"."}));var p=az(l,u,r,o,a,i),m=nz(p,c,1,"valid",a);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),lz=fN({conv2dTranspose_:function(e,t,n,r,o,i){return QB(n,JP(e,"x","conv2dTranspose"),JP(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),fz=fN({conv3dTranspose_:function(e,t,n,r,o){return ez(n,JP(e,"x","conv3dTranspose"),JP(t,"filter","conv3dTranspose"),r,o)}}),dz=fN({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=JP(e,"a","matMul"),a=JP(t,"b","matMul");o=FI(i,a),i=o[0],a=o[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=n?i.shape[i.rank-1]:i.shape[i.rank-2],l=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=i.shape.slice(0,-2),d=a.shape.slice(0,-2),h=DR(f),p=DR(d);IR(i.rank>=2&&a.rank>=2&&i.rank===a.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."})),IR(FR(f,d),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."})),IR(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=i.shape.slice(0,-2).concat([c,l]),v=n?i.as3D(h,s,c):i.as3D(h,c,s),g=r?a.as3D(p,l,u):a.as3D(p,u,l),y={transposeA:n,transposeB:r};return WI.runKernelFunc((function(e,t){var o=e.batchMatMul(v,g,n,r);return t([v,g]),o}),{a:v,b:g},(function(e,t){var o=t,i=o[0],a=o[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(i,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return i.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(i,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return i.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(m)}}),hz=fN({dot_:function(e,t){var n=JP(e,"t1","dot"),r=JP(t,"t2","dot");IR(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return IR(o===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),pz=fN({outerProduct_:function(e,t){var n=JP(e,"v1","outerProduct"),r=JP(t,"v2","outerProduct");return IR(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),mz=fN({reverse_:function(e,t){var n=JP(e,"x","reverse");if(0===n.rank)return n.clone();var r=HR(t,n.shape);return WI.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),vz=fN({reverse1d_:function(e){var t=JP(e,"x","reverse");return IR(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),mz(t,0)}}),gz=fN({reverse2d_:function(e,t){var n=JP(e,"x","reverse");return IR(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),mz(n,t)}}),yz=fN({reverse3d_:function(e,t){var n=JP(e,"x","reverse");return IR(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),mz(n,t)}}),bz=fN({reverse4d_:function(e,t){var n=JP(e,"x","reverse");return IR(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),mz(n,t)}});function wz(e,t,n,r,o,i){var a=JP(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),IR(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),IR(tD(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=i&&IR(LR(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var c=GM(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&FR(c.inShape,c.outShape))return a.clone();var l=[s],f=WI.runKernelFunc((function(e,t){var n=e.maxPool(s,c);return t([s,n]),n}),{x:s},(function(e,i){var a=i[0],s=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=JP(e,"dy","maxPoolBackprop"),c=JP(t,"input","maxPoolBackprop"),l=JP(n,"output","maxPoolBackprop");IR(c.rank===u.rank,(function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"})),null==i&&(i=[1,1]),IR(tD(o,i),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),IR(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),IR(4===c.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."}));var f=GM(c.shape,r,o,i,a,s);return WI.runKernelFunc((function(e){return e.maxPoolBackprop(u,c,l,f)}),{$dy:u,$input:c})}(e,a,s,t,n,r,o)}}}),"MaxPool",c,l);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function xz(e,t,n,r,o,i){var a=JP(e,"x","avgPool","float32");null==r&&(r=[1,1]),IR(tD(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),IR(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=i&&IR(LR(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var c=GM(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&FR(c.inShape,c.outShape))return a.clone();var l=WI.runKernelFunc((function(e){return e.avgPool(s,c)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,o,i){var a=JP(e,"dy","avgPoolBackprop"),s=JP(t,"input","avgPoolBackprop");IR(s.rank===a.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"})),null==o&&(o=[1,1]),IR(tD(r,o),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}));var u=s,c=a,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),IR(4===c.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."})),IR(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var f=GM(u.shape,n,r,o,i),d=WI.runKernelFunc((function(e){return e.avgPoolBackprop(c,u,f)}),{dy4D:c,input4D:u});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,o)}}}),"AvgPool",c);return l=l.cast(a.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var kz=fN({maxPool_:function(e,t,n,r,o){return wz(e,t,n,1,r,o)}}),Sz=fN({avgPool_:function(e,t,n,r,o){return xz(e,t,n,1,r,o)}}),_z=fN({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=JP(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),IR(tD(i,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}));var c,l=GM(s.shape,t,i,o,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),o=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],o[t]]}))}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var d=1===f[0]&&1===f[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),o=n.map((function(e){return e[1]})),i=e.concat(r,o),a=t.map((function(e,t){return(e-i[t]%e)%e})),s=o.map((function(e,t){return e+a[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,a[t]]}))]}([l.inHeight,l.inWidth],f,c),p=h[0],m=h[1],v=d?r:"valid",g=d?s:hM(s,f,p),y=("avg"===n?function(){return xz(g,t,i,1,v)}:function(){return wz(g,t,i,1,v)})(),b=d?y:XN(y,f,m);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Ez=fN({maxPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=JP(e,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),IR(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),IR("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),IR(tD(n,a),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&IR(LR(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=qM(u.shape,t,n,a,r,o,i),f=WI.runKernelFunc((function(e,t){var n=e.maxPool3d(u,l);return t([u,n]),n}),{x:u},(function(e,i){var s=i[0],u=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=JP(e,"dy","maxPool3dBackprop"),c=JP(t,"input","maxPool3dBackprop"),l=JP(n,"output","maxPool3dBackprop"),f=u,d=c,h=l,p=!1;4===c.rank&&(p=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),h=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),IR(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),IR(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),IR(5===h.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."})),null==i&&(i=[1,1,1]),IR(tD(o,i),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),null!=s&&IR(LR(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var m=qM(d.shape,r,o,i,a,s),v=WI.runKernelFunc((function(e){return e.maxPool3dBackprop(f,d,h,m)}),{dy5D:f,input5D:d});return p?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}(e,s,u,t,n,a,r,o)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Cz=fN({avgPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=JP(e,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),IR(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),IR("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),IR(tD(n,a),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&IR(LR(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l=qM(u.shape,t,n,a,r,o,i),f=WI.runKernelFunc((function(e){return e.avgPool3d(u,l)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,o,i,a){var s=JP(e,"dy","avgPool3dBackprop"),u=JP(t,"input","avgPool3dBackprop"),c=s,l=u,f=!1;4===u.rank&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),IR(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."})),IR(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."})),null==o&&(o=[1,1,1]),IR(tD(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=a&&IR(LR(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var d=qM(l.shape,n,r,o,i,a),h=WI.runKernelFunc((function(e){return e.avgPool3dBackprop(c,l,d)}),{dy5D:c,input5D:l});return f?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,u,t,n,a,r,o)}}}));return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Az=fN({slice_:function(e,t,n){var r,o,i=JP(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach((function(e){IR(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(IR(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),i.shape[t]-r[t])})),TM(i,r,o);var a=i.shape,s={begin:r,size:o};return WI.runKernelFunc((function(e){return e.slice(i,r,o)}),{x:i},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Oz=fN({slice1d_:function(e,t,n){var r=JP(e,"x","slice1d");return IR(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Az(r,[t],[n])}}),Tz=fN({slice2d_:function(e,t,n){var r=JP(e,"x","slice2d");return IR(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Az(r,t,n)}}),Rz=fN({slice3d_:function(e,t,n){var r=JP(e,"x","slice3d");return IR(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Az(r,t,n)}}),Iz=fN({slice4d_:function(e,t,n){var r=JP(e,"x","slice4d");return IR(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Az(r,t,n)}});function Pz(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(oN(t.shape,r))),e.rank<n.rank&&(e=e.reshape(oN(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var Nz=fN({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","all","bool"),o=HR(t,r.shape),i=o,a=aN(i,r.rank);null!=a&&(r=r.transpose(a),i=uN(i.length,r.rank));var s=WI.runKernelFunc((function(e){return e.all(r,i)}),{$x:r});if(n){var u=oN(s.shape,o);return s.reshape(u)}return s}}),Mz=fN({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","any","bool"),o=HR(t,r.shape),i=o,a=aN(i,r.rank);null!=a&&(r=r.transpose(a),i=uN(i.length,r.rank));var s=WI.runKernelFunc((function(e){return e.any(r,i)}),{$x:r});if(n){var u=oN(s.shape,o);return s.reshape(u)}return s}}),Dz=fN({argMax_:function(e,t){void 0===t&&(t=0);var n=JP(e,"x","argMax");null==t&&(t=0);var r=HR(t,n.shape),o=aN(r,n.rank);null!=o&&(n=n.transpose(o),r=uN(r.length,n.rank));var i={axis:r[0]},a=[n];return WI.runKernelFunc((function(e,t){var o=e.argMax(n,r[0]);return t([n]),o}),{x:n},(function(e,t){var n=t[0];return{x:function(){return AN(n)}}}),"ArgMax",i,a)}}),Fz=fN({argMin_:function(e,t){void 0===t&&(t=0);var n=JP(e,"x","argMin");null==t&&(t=0);var r=HR(t,n.shape),o=aN(r,n.rank);return null!=o&&(n=n.transpose(o),r=uN(r.length,n.rank)),WI.runKernelFunc((function(e,t){var o=e.argMin(n,r[0]);return t([n]),o}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return AN(n)}}}))}}),Lz=fN({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","logSumExp"),o=HR(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var u=oN(s.shape,o);return s.reshape(u)}return s}}),jz=fN({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","max"),o=r,i=HR(t,r.shape),a=i,s=aN(a,r.rank);null!=s&&(r=r.transpose(s),a=uN(a.length,r.rank));var u=[r],c=WI.runKernelFunc((function(e,t){var n=e.max(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Pz(e,t[1],t[0],i,s)}),"Max",{axes:a},u,[!0]);if(n){var l=oN(c.shape,i);c=c.reshape(l)}return c}}),Bz=fN({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","mean"),o=HR(t,r.shape),i=DR(rN(r.shape,o)[1]);return FM((function(e){var r=gN(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(kN(e.shape,"float32")).div(i)}}}))(r)}}),zz=fN({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","min"),o=r,i=HR(t,r.shape),a=i,s=aN(a,r.rank);null!=s&&(r=r.transpose(s),a=uN(a.length,r.rank));var u=[r],c=WI.runKernelFunc((function(e,t){var n=e.min(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Pz(e,t[1],t[0],i,s)}),"Min",{axes:a},u,[!0]);if(n){var l=oN(c.shape,i);c=c.reshape(l)}return c}}),Uz=fN({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=HR(t,(e=JP(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=oN(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),Wz=fN({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=HR(t,r.shape);return FM((function(e){var t=aN(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=uN(r.length,e.rank));var a=function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(kN(e.shape,"float32"))},s={axes:r},u=WI.runKernelFunc((function(e){return e.sum(i,r)}),{x:i},(function(e){return{x:function(){return a(e)}}}),"Sum",s);if(n){var c=oN(u.shape,o);u=u.reshape(c)}return{value:u,gradFunc:a}}))(r)}}),Hz=fN({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=JP(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=HR(t,r.shape),i=aN(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=uN(a.length,r.rank));var u=WI.runKernelFunc((function(e){return e.prod(s,a)}),{permutedX:s});if(n){var c=oN(u.shape,o);u=u.reshape(c)}return u}}),Vz=fN({elu_:function(e){var t=JP(e,"x","elu");return WI.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return WI.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Gz=fN({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=JP(e,"x","leakyRelu");return SB(gN(t).mul(n),n)}}),qz=fN({prelu_:function(e,t){var n=JP(e,"x","prelu"),r=JP(t,"alpha","prelu");return WI.runKernelFunc((function(e,t){var o=e.prelu(n,r);return t([n,r]),o}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return hB(o,e,e.mul(r))},alpha:function(){var t=hB(o,AN(e),e.mul(n)),i=HM(r.shape,e.shape);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)}}}),"Prelu")}}),Xz=fN({relu_:function(e){var t=JP(e,"x","relu");return"bool"===t.dtype?t.toInt():WI.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),Kz=fN({relu6_:function(e){var t=JP(e,"x","relu6");return"bool"===t.dtype?t.toInt():WI.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),Yz=fN({selu_:function(e){var t=JP(e,"x","selu");return WI.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(gN(0)),r=gN(DL),o=gN(FL),i=e.mul(o),a=e.mul(r).mul(n.toFloat().exp());return hB(t,i,a)}}}))}}),$z=fN({transpose_:function(e,t){var n=JP(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),IR(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){IR(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return WI.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=sN(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),Zz=fN({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=JP(e,"x","localResponseNormalization");IR(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."})),IR(LR(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=WI.runKernelFunc((function(e,i){var s=e.localResponseNormalization4D(a,t,n,r,o);return i([a,s]),s}),{x4D:a},(function(e,i){var a=i[0],s=i[1];return{x4D:function(){return WI.runKernelFunc((function(i){return i.LRNGrad(e,a,s,t,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Qz=fN({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(gN(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=JP(e,"x","norm"),t,n),i=o.shape;if(r){var a=HR(n,e.shape);i=oN(o.shape,a)}return o.reshape(i)}}),Jz=fN({basicLSTMCell_:function(e,t,n,r,o,i){var a=JP(e,"forgetBias","basicLSTMCell"),s=JP(t,"lstmKernel","basicLSTMCell"),u=JP(n,"lstmBias","basicLSTMCell"),c=JP(r,"data","basicLSTMCell"),l=JP(o,"c","basicLSTMCell"),f=JP(i,"h","basicLSTMCell"),d=c.concat(f,1).matMul(s).add(u),h=d.shape[0],p=d.shape[1]/4,m=[h,p],v=d.slice([0,0],m),g=d.slice([0,p],m),y=d.slice([0,2*p],m),b=d.slice([0,3*p],m),w=v.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(a.add(y).sigmoid())),x=w.tanh().mulStrict(b.sigmoid());return[w,x]}}),eU=fN({multiRNNCell_:function(e,t,n,r){for(var o=JP(t,"data","multiRNNCell"),i=eN(n,"c","multiRNNCell"),a=eN(r,"h","multiRNNCell"),s=o,u=[],c=0;c<e.length;c++){var l=e[c](s,i[c],a[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var f=[],d=[];for(c=0;c<u.length;c+=2)f.push(u[c]),d.push(u[c+1]);return[f,d]}}),tU=fN({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=JP(e,"v","movingAverage"),a=JP(t,"x","movingAverage"),s=JP(n,"decay","movingAverage");LI(i,a),IR(FR(i.shape,a.shape),(function(){return"Shape mismatch in v and x"}));var u=gN(1),c=u.sub(s),l=a.sub(i).mul(c);if(o){IR(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=JP(r,"step","movingAverage");l=l.div(u.sub(IB(s,f)))}return i.add(l)}}),nU=fN({stridedSlice_:function(e,t,n,r,o,i,a,s,u){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var c=JP(e,"x","stridedSlice"),l=RM(s),f=c.shape.slice();l.forEach((function(e){t[e]=0,n[e]=1,f.splice(e,0,1)})),c=c.reshape(f);for(var d=0;d<c.rank;d++)t[d]=PM(o,t,r,c.shape,d),n[d]=NM(i,n,r,c.shape,d),r[d]=r[d]||1;var h=RM(u);h.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var p=IM(t,n,r),m=p.filter((function(e,t){return-1===h.indexOf(t)}));return r.every((function(e){return 1===e}))?Az(c,t,p).reshape(m):WI.runKernelFunc((function(e){return e.stridedSlice(c,t,n,r)}),{$x:c}).reshape(m)}}),rU=fN({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=JP(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=WI.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:i[0],indices:i[1]}}}),oU=fN({scatterND_:function(e,t,n){var r=JP(e,"indices","scatterND","int32"),o=JP(t,"updates","scatterND");return AM(o,r,n),WI.runKernelFunc((function(e){return e.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),iU=fN({fft_:function(e){IR("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return WI.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),aU=fN({ifft_:function(e){IR("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return WI.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),sU=fN({rfft_:function(e,t){IR("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),a=e.shape.map((function(e){return e}));a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(SN(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),c=dN(n,u).as2D(o,r),l=iU(c),f=Math.floor(r/2)+1,d=hN(l),h=pN(l),p=d.split([f,r-f],d.shape.length-1),m=h.split([f,r-f],h.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=f,dN(p[0],m[0]).reshape(v)}}),uU=fN({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=aU(r);return hN(o)}var i=[n,2*(t-1)],a=hN(e).as2D(n,t),s=pN(e).as2D(n,t),u=a.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(gN(-1)),l=a.concat(u,1),f=s.concat(c,1);return r=dN(l,f).as2D(i[0],i[1]),o=aU(r),hN(o)}}),cU=Object.freeze({fft:iU,ifft:aU,rfft:sU,irfft:uU}),lU=fN({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=JP(e,"sparseIndices","sparseToDense","int32"),i=JP(t,"sparseValues","sparseToDense"),a=JP(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),WI.runKernelFunc((function(e){return e.sparseToDense(o,i,n,a)}),{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),fU=fN({gatherND_:function(e,t){var n=JP(t,"indices","gatherND","int32"),r=JP(e,"x","gatherND");return WI.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),dU=fN({diag_:function(e){var t=JP(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return WI.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),hU=fN({dropout_:function(e,t,n,r){var o=JP(e,"x","dropout");if(IR("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),IR(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof CI?o.clone():o;var i=function(e,t){if(null==t)return e.shape.slice();if(FR(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=fM(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(s)}});function pU(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return yN(o,"float32")}var mU,vU=fN({hannWindow_:function(e){return pU(e,.5,.5)}}),gU=fN({hammingWindow_:function(e){return pU(e,.54,.46)}}),yU=fN({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(Az(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=ON([Az(e,i,t-s),_N([s],o)]);a.push(u),i+=n}return 0===a.length?bN([],[0,t]):ON(a).as2D(a.length,t)}}),bU=fN({stft_:function(e,t,n,r,o){var i;void 0===o&&(o=vU),null==r&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=yU(e,t,n),s=TB(a,o(t)),u=[],c=0;c<a.shape[0];c++)u.push(sU(s.slice([c,0],[1,t]),r));return ON(u)}}),wU=Object.freeze({hannWindow:vU,hammingWindow:gU,frame:yU,stft:bU});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(mU||(mU={}));var xU=fN({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=mU.SUM_BY_NONZERO_WEIGHTS);var o=JP(e,"labels","absoluteDifference"),i=JP(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=JP(n,"weights","absoluteDifference")),PR(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return kU(s,a,r)}}),kU=fN({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=mU.SUM_BY_NONZERO_WEIGHTS);var r=JP(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=JP(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===mU.NONE)return i;if(n===mU.SUM)return i.sum();if(n===mU.MEAN){if(null==o)return i.mean();var a=r.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(gN(a)):s}if(n===mU.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(gN(r.size));var u=o.mul(kN(r.shape)).notEqual(gN(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),SU=fN({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=mU.SUM_BY_NONZERO_WEIGHTS);var i=JP(e,"labels","cosineDistance"),a=JP(t,"predictions","cosineDistance"),s=null;null!=r&&(s=JP(r,"weights","cosineDistance")),PR(i.shape,a.shape,"Error in cosineDistance: ");var u=gN(1).sub(i.mul(a).sum(n,!0));return kU(u,s,o)}}),_U=fN({hingeLoss_:function(e,t,n,r){void 0===r&&(r=mU.SUM_BY_NONZERO_WEIGHTS);var o=JP(e,"labels","hingeLoss"),i=JP(t,"predictions","hingeLoss"),a=null;null!=n&&(a=JP(n,"weights","hingeLoss")),PR(o.shape,i.shape,"Error in hingeLoss: ");var s=gN(1);o=gN(2).mul(o).sub(s);var u=s.sub(o.mul(i)).relu();return kU(u,a,r)}}),EU=fN({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=mU.SUM_BY_NONZERO_WEIGHTS);var i=JP(e,"labels","huberLoss"),a=JP(t,"predictions","huberLoss"),s=null;null!=n&&(s=JP(n,"weights","huberLoss")),PR(i.shape,a.shape,"Error in huberLoss: ");var u=gN(r),c=a.sub(i).abs(),l=EB(c,u),f=c.sub(l),d=gN(.5).mul(l.square()).add(u.mul(f));return kU(d,s,o)}}),CU=fN({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=mU.SUM_BY_NONZERO_WEIGHTS);var i=JP(e,"labels","logLoss"),a=JP(t,"predictions","logLoss"),s=null;null!=n&&(s=JP(n,"weights","logLoss")),PR(i.shape,a.shape,"Error in logLoss: ");var u=gN(1),c=gN(r),l=i.mul(a.add(c).log()).neg().sub(u.sub(i).mul(u.sub(a).add(c).log()));return kU(l,s,o)}}),AU=fN({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=mU.SUM_BY_NONZERO_WEIGHTS);var o=JP(e,"labels","meanSquaredError"),i=JP(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=JP(n,"weights","meanSquaredError")),PR(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return kU(s,a,r)}}),OU=fN({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=mU.SUM_BY_NONZERO_WEIGHTS);var i=JP(e,"multiClassLabels","sigmoidCrossEntropy"),a=JP(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=JP(n,"weights","sigmoidCrossEntropy")),PR(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=gN(r),c=gN(1),l=gN(.5);i=i.mul(c.sub(u)).add(l.mul(u))}var f=function(e,t){var n=JP(e,"labels","sigmoidCrossEntropyWithLogits"),r=JP(t,"logits","sigmoidCrossEntropyWithLogits");PR(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return kU(f,s,o)}}),TU=fN({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=mU.SUM_BY_NONZERO_WEIGHTS);var i=JP(e,"onehotLabels","softmaxCrossEntropy"),a=JP(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=JP(n,"weights","softmaxCrossEntropy")),PR(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=gN(r),c=gN(1),l=gN(i.shape[1]);i=i.mul(c.sub(u)).add(u.div(l))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return FM((function(e,t,r){var o=t.logSumExp([n],!0),i=t.toFloat().sub(o);return r([e,i]),{value:i.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],i=oN(e.shape,[n]);return[e.reshape(i).mul(r.toFloat().sub(o.exp())),e.reshape(i).mul(o.exp().sub(r.toFloat()))]}}}))(e,t)}(i,a);return kU(f,s,o)}}),RU=Object.freeze({get Reduction(){return mU},absoluteDifference:xU,computeWeightedLoss:kU,cosineDistance:SU,hingeLoss:_U,huberLoss:EU,logLoss:CU,meanSquaredError:AU,sigmoidCrossEntropy:OU,softmaxCrossEntropy:TU});function IU(e,t){return void 0===t&&(t=!1),WI.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=eM(n),i=e.clone(),a=bN([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,c=function(e){var t,u=i,c=s,l=o;t=WI.tidy((function(){var t=i.slice([e,e],[n-e,1]),u=t.norm(),c=i.slice([e,e],[1,1]),l=bN([[-1]]).where(c.greater(0),bN([[1]])),f=c.sub(l.mul(u)),d=t.div(f);s=1===d.shape[0]?a.clone():a.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var h=l.matMul(f).div(u).neg(),p=i.slice([e,0],[n-e,r]),m=h.mul(s);if(0===e)i=p.sub(m.matMul(s.transpose().matMul(p)));else{var v=p.sub(m.matMul(s.transpose().matMul(p)));i=i.slice([0,0],[e,r]).concat(v,0)}var g=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=g.sub(g.matMul(s).matMul(m.transpose()));else{var y=g.sub(g.matMul(s).matMul(m.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,i,o]})),s=t[0],i=t[1],o=t[2],YP([u,c,l])},l=0;l<u;++l)c(l);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]}))}var PU=fN({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=JP(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],s=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var u=EN(0,a,1,"int32").reshape([-1,1]),c=EN(0,s,1,"int32"),l=MB(u,c),f=cB(l.lessEqual(gN(+t,"int32")),l.greaterEqual(gN(-n,"int32"))),d=SN([a,s],r.dtype);return mM(yM(r.reshape([-1,a,s])).map((function(e){return hB(f,e,d)}))).reshape(o)}}),NU=fN({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,IR(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){IR(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},o=1;o<e.length;++o)r(o)}else t=!0,e=NN(e,e.shape[0],0).map((function(e){return pM(e,[0])}));IR(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var i=[],a=e,s=function(e){i.push(WI.tidy((function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Wz(i[n].mulStrict(t)).mul(i[n]);t=t.sub(r)}return t.div(Qz(t,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return t?mM(i,0):i}}),MU=fN({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return IU(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=yM(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach((function(e){var n=IU(e,t),r=n[0],a=n[1];o.push(r),i.push(a)})),[mM(o,0).reshape(e.shape),mM(i,0).reshape(e.shape)]}}),DU=Object.freeze({bandPart:PU,gramSchmidt:NU,qr:MU});function FU(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);var a=e.shape[0];return n=Math.min(n,a),IR(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),IR(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),IR(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),IR(1===t.rank,(function(){return"scores must be a 1D tensor"})),IR(t.shape[0]===a,(function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]})),IR(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var LU=fN({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=JP(e,"images","resizeBilinear");IR(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),IR(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=WI.runKernelFunc((function(e,t){return t([o]),e.resizeBilinear(o,a,s,n)}),{x:o},(function(e,t){return{x:function(){return WI.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),jU=fN({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=JP(e,"images","resizeNearestNeighbor");IR(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),IR(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),IR("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=WI.runKernelFunc((function(e,t){return t([o]),e.resizeNearestNeighbor(o,a,s,n)}),{batchImages:o},(function(e,t){return{batchImages:function(){return WI.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),BU=fN({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=JP(e,"boxes","nonMaxSuppression"),a=JP(t,"scores","nonMaxSuppression"),s=FU(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return WI.runKernelFunc((function(e){return e.nonMaxSuppression(i,a,n,r,o)}),{boxes:i,scores:a},null,"NonMaxSuppressionV3",u)}}),zU=fN({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0);var a=JP(e,"boxes","nonMaxSuppression"),s=JP(t,"scores","nonMaxSuppression"),u=FU(a,s,n,r,o,i),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},l=WI.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),UU=fN({cropAndResize_:function(e,t,n,r,o,i){var a=JP(e,"image","cropAndResize"),s=JP(t,"boxes","cropAndResize","float32"),u=JP(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var c=s.shape[0];return IR(4===a.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."})),IR(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),IR(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),IR(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),IR(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),IR("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o})),WI.runKernelFunc((function(e,t){return e.cropAndResize(a,s,u,r,o,i)}),{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),WU=Object.freeze({resizeBilinear:LU,resizeNearestNeighbor:jU,nonMaxSuppression:BU,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),mR(this,void 0,void 0,(function(){var i,a,s,u,c,l,f;return vR(this,(function(d){switch(d.label){case 0:return i=JP(e,"boxes","nonMaxSuppressionAsync"),a=JP(t,"scores","nonMaxSuppressionAsync"),s=FU(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return u=d.sent(),c=u[0],l=u[1],f=dD(c,l,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,f]}}))}))},nonMaxSuppressionWithScore:zU,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,i){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0),mR(this,void 0,void 0,(function(){var a,s,u,c,l,f,d;return vR(this,(function(h){switch(h.label){case 0:return a=JP(e,"boxes","nonMaxSuppressionAsync"),s=JP(t,"scores","nonMaxSuppressionAsync"),u=FU(a,s,n,r,o,i),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return c=h.sent(),l=c[0],f=c[1],d=hD(l,f,n,r,o,i),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,d]}}))}))},cropAndResize:UU}),HU=function(e,t){return!(e>0)||"linear"===t},VU=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},GU=function(e,t){var n=t,r=HM(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},qU=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Xz(e);if("elu"===t)return Vz(e);if("relu6"===t)return Kz(e);if("prelu"===t)return qz(e,n);throw new Error("Unknown fused activation "+t+".")},XU=fN({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=void 0!==o&&o,a=e.transposeB,s=void 0!==a&&a,u=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights;if(!1===HU(WI.state.gradientDepth,l)){var d=dz(n,r,i,s);return null!=u&&(d=mB(d,u)),qU(d,l,f)}var h=JP(n,"a","fused matMul"),p=JP(r,"b","fused matMul");t=FI(h,p),h=t[0],p=t[1];var m=i?h.shape[h.rank-2]:h.shape[h.rank-1],v=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=i?h.shape[h.rank-1]:h.shape[h.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],b=h.shape.slice(0,-2),w=p.shape.slice(0,-2),x=DR(b),k=DR(w);IR(h.rank>=2&&p.rank>=2&&h.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+p.rank+"."})),IR(FR(b,w),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+h.shape+" and "+p.shape+" must match."})),IR(m===v,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+v+") of Tensors with shapes "+h.shape+" and "+p.shape+" and transposeA="+i+" and transposeB="+s+" must match."}));var S,_,E=h.shape.slice(0,-2).concat([g,y]),C=i?h.as3D(x,m,g):h.as3D(x,g,m),A=s?p.as3D(k,y,v):p.as3D(k,v,y);null!=u&&VM(E,(S=FI(S=JP(u,"bias","fused matMul"),h)[0]).shape),null!=f&&(_=JP(f,"prelu weights","fused matMul"));var O={a:C,b:A};null!=u&&(O.bias=S),null!=f&&(O.preluActivationWeights=_);var T=[C,A];return WI.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:C,b:A,transposeA:i,transposeB:s,bias:S,activation:l,preluActivationWeights:_});return t([C,A,n]),n}),O,(function(e,t){var n=t[0],r=t[1],o=t[2],a=VU(e,o,l),c={};return null!=u&&(c={bias:function(){return GU(S,a)}}),i||s?!i&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},c):i&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},c):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},c):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},c)}),"_FusedMatMul",{transposeA:i,transposeB:s,activation:l},T,[!0]).reshape(E)}}),KU=fN({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(d=d||"linear",!1===HU(WI.state.gradientDepth,d)){var p=nz(t,n,r,o,a,u,c);return null!=l&&(p=mB(p,l)),qU(p,d,h)}var m=JP(t,"x","conv2d"),v=JP(n,"filter","conv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),IR(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),IR(4===v.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."})),null!=c&&IR(LR(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),IR(g.shape[3]===v.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."})),IR(tD(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),IR("NHWC"===a,(function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."}));var b,w,x=XM(g.shape,v.shape,r,u,o,c);null!=l&&(b=FI(b=JP(l,"bias","fused conv2d"),m)[0],VM(x.outShape,b.shape)),null!=h&&(w=JP(h,"prelu weights","fused conv2d"));var k={x:g,filter:v};null!=l&&(k.bias=b),null!=h&&(k.preluActivationWeights=w);var S=[v,g],_=WI.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:g,filter:v,convInfo:x,bias:b,activation:d,preluActivationWeights:w});return t([v,g,n]),n}),k,(function(e,t){var n=t,i=n[0],a=n[1],s=n[2],c=VU(e,s,d);IR(eD(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var f={};return null!=l&&(f={bias:function(){return GU(b,c)}}),Object.assign({x:function(){return iz(a.shape,c,i,r,o)},filter:function(){return oz(a,c,i.shape,r,o)}},f)}),"FusedConv2D",{convInfo:x,activation:d},S,[!0]);return y?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}}),YU=fN({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(!1===HU(WI.state.gradientDepth,d)){var p=az(t,n,r,o,a,u,c);return null!=l&&(p=mB(p,l)),qU(p,d,h)}var m=JP(t,"x","depthwiseConv2d"),v=JP(n,"filter","depthwiseConv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),IR(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),IR(4===v.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."})),IR(g.shape[3]===v.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."})),null==u&&(u=[1,1]),IR(tD(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=c&&IR(LR(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var b,w,x=XM(g.shape,v.shape,r,u,o,c,!0);null!=l&&(b=FI(b=JP(l,"bias","fused conv2d"),m)[0],VM(x.outShape,b.shape)),null!=h&&(w=JP(h,"prelu weights","fused depthwiseConv2d"));var k={x:g,filter:v};null!=l&&(k.bias=b),null!=h&&(k.preluActivationWeights=w);var S=[v,g],_=WI.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:v,convInfo:x,bias:b,activation:d,preluActivationWeights:w});return t([v,g,n]),n}),k,(function(e,t){IR(eD(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],o=t[2],i=VU(e,o,d),a={};return null!=l&&(a={bias:function(){return GU(b,i)}}),Object.assign({x:function(){return sz(r.shape,i,n,x)},filter:function(){return uz(r,i,n.shape,x)}},a)}),"FusedDepthwiseConv2D",{convInfo:x,activation:d},S,[!0]);return y?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}}),$U=Object.freeze({matMul:XU,conv2d:KU,depthwiseConv2d:YU}),ZU=Object.freeze({image:WU,linalg:DU,losses:RU,spectral:cU,fused:$U,signal:wU,square:dj,squaredDifference:pj,conv1d:tz,conv2d:nz,conv3d:rz,depthwiseConv2d:az,separableConv2d:cz,conv2dTranspose:lz,conv3dTranspose:fz,op:fN,batchNormalization2d:tB,batchNormalization3d:nB,batchNormalization4d:rB,batchNormalization:oB,batchNorm:iB,batchNorm2d:aB,batchNorm3d:sB,batchNorm4d:uB,booleanMaskAsync:function(e,t,n){return mR(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,h,p,m;return vR(this,(function(v){switch(v.label){case 0:for(r=JP(e,"tensor","boolMask"),o=JP(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape,IR(a>0,(function(){return"mask cannot be scalar"})),PR(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=i;c<i+a;c++)u*=s[c];return l=s.slice(0,i).concat([u],s.slice(i+a)),f=r.reshape(l),d=o.reshape([-1]),[4,pB(d)];case 1:return h=v.sent(),p=h.squeeze([1]),m=$B(f,p,i),e!==r&&r.dispose(),t!==o&&o.dispose(),p.dispose(),f.dispose(),d.dispose(),h.dispose(),[2,m]}}))}))},complex:dN,real:hN,imag:pN,concat:ON,concat1d:TN,concat2d:RN,concat3d:IN,concat4d:PN,split:NN,matMul:dz,dot:hz,outerProduct:pz,reverse:mz,reverse1d:vz,reverse2d:gz,reverse3d:yz,reverse4d:bz,maxPool:kz,avgPool:Sz,pool:_z,maxPool3d:Ez,avgPool3d:Cz,slice:Az,slice1d:Oz,slice2d:Tz,slice3d:Rz,slice4d:Iz,abs:mj,acos:vj,acosh:gj,asin:yj,asinh:bj,atan:wj,atanh:xj,ceil:kj,clipByValue:Sj,cos:_j,cosh:Ej,erf:Cj,exp:Aj,expm1:Oj,floor:Tj,log:Rj,log1p:Ij,logSigmoid:Pj,neg:Nj,reciprocal:Mj,round:Dj,rsqrt:Fj,sigmoid:Lj,sign:jj,isNaN:Bj,isInf:zj,isFinite:Uj,sin:Wj,sinh:Hj,softplus:Vj,sqrt:Gj,step:qj,tan:Xj,tanh:Kj,all:Nz,any:Mz,argMax:Dz,argMin:Fz,logSumExp:Lz,max:jz,mean:Bz,min:zz,moments:Uz,sum:Wz,prod:Hz,equal:FB,equalStrict:LB,greater:jB,greaterEqual:BB,greaterEqualStrict:zB,greaterStrict:UB,less:WB,lessEqual:HB,lessEqualStrict:VB,lessStrict:GB,notEqual:qB,notEqualStrict:XB,add:mB,addN:vB,addStrict:gB,atan2:yB,div:bB,divNoNan:wB,divStrict:xB,floorDiv:kB,maximum:SB,maximumStrict:_B,minimum:EB,minimumStrict:CB,mod:AB,modStrict:OB,mul:TB,mulStrict:RB,pow:IB,powStrict:PB,squaredDifferenceStrict:NB,sub:MB,subStrict:DB,elu:Vz,leakyRelu:Gz,prelu:qz,relu:Xz,relu6:Kz,selu:Yz,logicalAnd:cB,logicalNot:lB,logicalOr:fB,logicalXor:dB,where:hB,whereAsync:pB,buffer:qN,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:XN,broadcastTo:KN,cast:YN,clone:$N,cumsum:ZN,depthToSpace:QN,expandDims:JN,eye:eM,multinomial:tM,oneHot:nM,pad:rM,pad1d:oM,pad2d:iM,pad3d:aM,pad4d:sM,rand:uM,randomNormal:cM,randomGamma:lM,randomUniform:fM,reshape:dM,spaceToBatchND:hM,squeeze:pM,stack:mM,tile:vM,truncatedNormal:gM,unstack:yM,setdiff1dAsync:function(e,t){return mR(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f;return vR(this,(function(d){switch(d.label){case 0:return n=JP(e,"x","setdiff1d"),r=JP(t,"y","setdiff1d"),IR(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),IR(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),IR(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return o=d.sent(),[4,r.data()];case 2:for(i=d.sent(),a=new Set(i),s=0,l=0;l<o.length;l++)a.has(o[l])||s++;for(u=new kI([s],n.dtype),c=new kI([s],"int32"),l=0,f=0;l<o.length;l++)a.has(o[l])||(u.values[f]=o[l],c.values[f]=l,f++);return[2,[u.toTensor(),c.toTensor()]]}}))}))},fill:_N,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return WI.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:kN,range:EN,scalar:gN,tensor:mN,tensor1d:yN,tensor2d:bN,tensor3d:wN,tensor4d:xN,tensor5d:function(e,t,n){if(NR(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=ZP(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return vN(e,t,r,n)},tensor6d:function(e,t,n){if(NR(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=ZP(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return vN(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),WI.makeVariable(e,t,n,r)},zeros:SN,onesLike:CN,zerosLike:AN,transpose:$z,softmax:LM,logSoftmax:jM,localResponseNormalization:Zz,norm:Qz,gather:$B,unsortedSegmentSum:ZB,basicLSTMCell:Jz,multiRNNCell:eU,movingAverage:tU,stridedSlice:nU,topk:rU,scatterND:oU,fft:iU,ifft:aU,rfft:sU,irfft:uU,sparseToDense:lU,gatherND:fU,diag:dU,dropout:hU,hannWindow:vU,hammingWindow:gU,frame:yU,stft:bU,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),mR(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,h,p,m,v;return vR(this,(function(g){switch(g.label){case 0:return r=JP(e,"predictions","inTopK"),o=JP(t,"targets","inTopK"),IR(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),IR(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),PR(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],IR(n>0&&n<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n})),[4,r.data()];case 1:return a=g.sent(),[4,o.data()];case 2:for(s=g.sent(),u=[a.length/i,i],l=u[1],f=GR("bool",c=u[0]),d=0;d<c;d++){for(h=d*l,p=a.subarray(h,h+l),m=[],v=0;v<p.length;v++)m.push({value:p[v],index:v});for(m.sort((function(e,t){return t.value-e.value})),f[d]=0,v=0;v<n;v++)if(m[v].index===s[d]){f[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,mN(f,o.shape,"bool")]}}))}))}});function QU(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&IR("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function JU(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var eW=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new BM(t,WI),t}return pR(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,yR().get("IS_NODE")&&$P("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?aD(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return hI(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return qN(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return WI.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){return t=lI(),e(),[2,{kernelMs:lI()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:WI.keep(e.clone()),imag:WI.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(QU(e,"slice"),MM(e.shape,t,n)){var r=DM(t,e.strides),o=DR(n);return mN(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var i=qN(n,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s).map((function(e,n){return e+t[n]}));i.values[s]=a.get.apply(a,u)}return i.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){QU(e,"stridedSlice");var o=IM(t,n,r);if(o.some((function(e){return 0===e})))return mN([],o);for(var i=qN(o,e.dtype),a=this.bufferSync(e),s=0;s<i.size;s++){for(var u=i.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+t[l];i.set.apply(i,[a.get.apply(a,c)].concat(u))}return i.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=qN([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.reverse=function(e,t){QU(e,"reverse");for(var n=qN(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach((function(t){return a[t]=e.shape[t]-1-a[t]})),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return hN(e)})),o=e.map((function(e){return pN(e)}));return dN(this.concat(r,t),this.concat(o,t))}var i=e.map((function(e){var n=DR(e.shape.slice(t));return e.as2D(-1,n)})),a=lN(i.map((function(e){return e.shape})),1),s=qN(a,e[0].dtype).values;if(1===i[0].shape[0]){var u=0;i.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var c=0;i.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var i=o*a[1]+c,u=0;u<e.shape[1];++u)s[i+u]=t[r++];c+=e.shape[1]}))}var l=lN(e.map((function(e){return e.shape})),t);return mN(s,l,e[0].dtype)},t.prototype.neg=function(e){return QU(e,"neg"),this.multiply(gN(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,MI(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;QU(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=qN(e[0].shape,e[0].dtype),o=r.values,i=0;i<e.length;i++)for(var a=n[i],s=0;s<o.length;s++)o[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=HR([t],e.shape),r=this.max(e,n),o=oN(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,MI(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return QU([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){QU([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=l[0],d=l[1],h=l[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=p[0],v=p[1],g=p[2],y=i*a,b=qN([s,i,a],e.dtype),w=b.values,x=this.blockSize,k=0;k<s;k++)for(var S=0;S<i;S+=x)for(var _=0;_<a;_+=x)for(var E=0;E<o;E+=x)for(var C=Math.min(S+x,i),A=Math.min(_+x,a),O=Math.min(E+x,o),T=S;T<C;T++)for(var R=_;R<A;R++){for(var I=0,P=E;P<O;P++)I+=u[k*f+T*d+P*h]*c[P*m+R*v+k*g];w[k*y+(T*a+R)]+=I}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,o);return i&&(u=this.add(u,i)),a&&(u=JU(this,u,a,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,MI(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return QU([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return QU([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){QU(e,"sum"),iN("sum",t,e.rank);for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,MI(e.dtype,"int32")),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=0,d=0;d<a;++d)f+=u[l+d];s[c]=f}return i},t.prototype.prod=function(e,t){QU(e,"sum");for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,MI(e.dtype,"int32")),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=1,d=0;d<a;++d)f*=u[l+d];s[c]=f}return i},t.prototype.unsortedSegmentSum=function(e,t,n){QU(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=gN(i,"int32"),s=FB(a,t).asType("float32").mul(e).sum(0);r.push(s)}return mM(r)},t.prototype.argMin=function(e,t){QU(e,"argMin");var n=[t];iN("argMin",n,e.rank);for(var r=rN(e.shape,n),o=r[0],i=r[1],a=SN(o,"int32"),s=DR(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var m=c[f+p];m<d&&(d=m,h=p)}u[l]=h}return a},t.prototype.argMax=function(e,t){QU(e,"argMax");var n=[t];iN("argMax",n,e.rank);for(var r=rN(e.shape,n),o=r[0],i=r[1],a=SN(o,"int32"),s=DR(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var m=c[f+p];m>d&&(d=m,h=p)}u[l]=h}return a},t.prototype.cumsum=function(e,t,n,r){if(QU(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=MI(e.dtype,"int32"),i=SN(e.shape,o),a=this.readSync(i.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],c=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},l=0;l<s.length;l+=u)for(var f=0;f<u;f++){var d=c(l,f);if(0===f)a[d]=n?0:s[d];else{var h=c(l,f-1);a[d]=n?s[h]+a[h]:s[d]+a[h]}}return i},t.prototype.equal=function(e,t){return QU([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return QU([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return QU([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return QU([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return QU([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return QU([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){QU(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return QU([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return QU([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){QU([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),a=SN(t.shape,MI(t.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,c=0===e.rank||e.rank>1||1===t.rank?1:DR(t.shape.slice(1)),l=0;l<r.length;l++)for(var f=0;f<c;f++)1===r[l]?s[u++]=o[l]:s[u++]=i[l];return a},t.prototype.where=function(e){QU([e],"where");var t=this.readSync(e.dataId);return xD(e.shape,t)},t.prototype.topk=function(e,t,n){return QU(e,"topk"),wD(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){QU(e,"min"),iN("min",t,e.rank);for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,e.dtype),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];h<f&&(f=h)}s[c]=f}return i},t.prototype.minimum=function(e,t){return QU([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return QU([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){QU(e,"max"),iN("max",t,e.rank);for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,e.dtype),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];h>f&&(f=h)}s[c]=f}return i},t.prototype.maximum=function(e,t){return QU([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){QU(e,"all"),iN("all",t,e.rank);for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,e.dtype),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];f=f&&h}s[c]=f}return i},t.prototype.any=function(e,t){QU(e,"any"),iN("any",t,e.rank);for(var n=rN(e.shape,t),r=n[0],o=n[1],i=SN(r,e.dtype),a=DR(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var h=u[l+d];f=f||h}s[c]=f}return i},t.prototype.squaredDifference=function(e,t){return QU([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){QU(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){QU(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){QU(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){QU(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){QU(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){QU(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){QU(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){QU(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){QU(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){QU(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){QU(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){QU(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){QU(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){QU(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){QU(e,"relu");for(var t=SN(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){QU(e,"relu");for(var t=SN(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return QU([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){QU(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){QU([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){QU(e,"selu");for(var t=DL,n=FL,r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>=0?n*a:t*(Math.exp(a)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){QU(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){QU(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){QU(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){QU(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,u=Math.exp(r[o]);i=s?u:a?r[o]:Math.log(1+u),n[o]=i}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){QU(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){QU(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){QU(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){QU(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){QU(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){QU(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return QU([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){QU(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){QU(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){QU(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=jR(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){QU(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){QU(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){QU(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){QU(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),i=Math.abs(n[r]),a=1/(1+.3275911*i);t[r]=o*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),QU(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),i&&(s=JU(this,s,i,a)),s},t.prototype.conv2d=function(e,t,n){QU([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=qN(n.outShape,e.dtype),f=e.strides[0],d=c?e.strides[1]:e.strides[2],h=c?e.strides[2]:1,p=c?1:e.strides[1],m=l.strides[0],v=c?l.strides[1]:l.strides[2],g=c?l.strides[2]:1,y=c?1:l.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),x=l.values,k=0;k<n.batchSize;++k)for(var S=k*f,_=k*m,E=0;E<n.outHeight;++E)for(var C=_+E*v,A=E*n.strideHeight-u,O=0;O<r;O++){var T=A+O*i;if(!(T<0||T>=n.inHeight))for(var R=O*t.strides[0],I=S+T*d,P=0;P<n.outWidth;++P)for(var N=C+P*g,M=P*n.strideWidth-s,D=0;D<o;D++){var F=M+D*a;if(!(F<0||F>=n.inWidth))for(var L=I+F*h,j=R+D*t.strides[1],B=0;B<n.inChannels;++B){for(var z=b[L+B*p],U=0;U<n.outChannels;++U)x[N+U*y]+=z*w[j+U];j+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,i=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,f=n.padInfo.top,d=qN(n.outShape,e.dtype),h=this.readSync(e.dataId),p=this.readSync(t.dataId),m=d.values,v=0;v<n.batchSize;++v)for(var g=v*e.strides[0],y=v*d.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*d.strides[1],x=b*n.strideDepth-c,k=0;k<r;k++){var S=x+k*a;if(!(S<0||S>=n.inDepth))for(var _=k*t.strides[0],E=g+S*e.strides[1],C=0;C<n.outHeight;++C)for(var A=w+C*d.strides[2],O=C*n.strideHeight-f,T=0;T<o;T++){var R=O+T*s;if(!(R<0||R>=n.inHeight))for(var I=_+T*t.strides[1],P=E+R*e.strides[2],N=0;N<n.outWidth;++N)for(var M=A+N*n.outChannels,D=N*n.strideWidth-l,F=0;F<i;F++){var L=D+F*u;if(!(L<0||L>=n.inWidth))for(var j=I+F*t.strides[2],B=P+L*n.inChannels,z=j,U=0;U<n.inChannels;++U){for(var W=h[B+U],H=0;H<n.outChannels;++H)m[M+H]+=W*p[z+H];z+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){QU([e,t],"conv2dDerInput");for(var r=qN(n.inShape,"float32"),o=r.values,i=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,u=s[0],c=s[1],l=s[2],f=n.batchSize,d=n.filterHeight,h=n.filterWidth,p=n.inChannels,m=n.inHeight,v=n.inWidth,g=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,x=n.strideWidth,k=n.dataFormat,S=d-1-n.padInfo.top,_=h-1-n.padInfo.left,E="channelsLast"===k,C=r.strides[0],A=E?r.strides[1]:r.strides[2],O=E?r.strides[2]:1,T=E?1:r.strides[1],R=e.strides[0],I=E?e.strides[1]:e.strides[2],P=E?e.strides[2]:1,N=E?1:e.strides[1],M=0;M<f;++M)for(var D=0;D<p;++D)for(var F=0;F<m;++F)for(var L=F-S,j=Math.max(0,Math.ceil(L/w)),B=Math.min(y,(d+L)/w),z=0;z<v;++z){for(var U=z-_,W=Math.max(0,Math.ceil(U/x)),H=Math.min(b,(h+U)/x),V=0,G=j;G<B;++G)for(var q=G*w-L,X=W;X<H;++X)for(var K=R*M+I*G+P*X,Y=u*(d-1-q)+c*(h-1-(X*x-U))+l*D,$=0;$<g;++$)V+=i[K+N*$]*a[Y+$];o[C*M+A*F+O*z+T*D]=V}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=qN(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=i[3],l=this.readSync(e.dataId),f=e.strides,d=f[0],h=f[1],p=f[2],m=f[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],x=g[3],k=n.batchSize,S=n.filterDepth,_=n.filterHeight,E=n.filterWidth,C=n.inChannels,A=n.inDepth,O=n.inHeight,T=n.inWidth,R=n.outChannels,I=n.outDepth,P=n.outHeight,N=n.outWidth,M=n.strideDepth,D=n.strideHeight,F=n.strideWidth,L=S-1-n.padInfo.front,j=_-1-n.padInfo.top,B=E-1-n.padInfo.left,z=0;z<k;++z)for(var U=0;U<C;++U)for(var W=0;W<A;++W)for(var H=W-L,V=Math.max(0,Math.ceil(H/M)),G=Math.min(I,(S+H)/M),q=0;q<O;++q)for(var X=q-j,K=Math.max(0,Math.ceil(X/D)),Y=Math.min(P,(_+X)/D),$=0;$<T;++$){for(var Z=$-B,Q=Math.max(0,Math.ceil(Z/F)),J=Math.min(N,(E+Z)/F),ee=0,te=V;te<G;++te)for(var ne=te*M-H,re=K;re<Y;++re)for(var oe=re*D-X,ie=Q;ie<J;++ie)for(var ae=d*z+h*te+p*re+m*ie,se=y*(S-1-ne)+b*(_-1-oe)+w*(E-1-(ie*F-Z))+x*U,ue=0;ue<R;++ue)ee+=l[ae+ue]*v[se+ue];o[a*z+s*W+u*q+c*$+U]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){QU([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=qN(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var p=Math.max(0,Math.ceil((l-h)/r)),m=Math.min(n.outHeight,(n.inHeight+l-h)/r),v=0;v<a;++v)for(var g=Math.max(0,Math.ceil((c-v)/o)),y=Math.min(n.outWidth,(n.inWidth+c-v)/o),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var x=0,k=0;k<n.batchSize;++k)for(var S=p;S<m;++S)for(var _=h+S*r-l,E=g;E<y;++E){var C=v+E*o-c;x+=s?f.get(k,_,C,b)*d.get(k,S,E,w):f.get(k,b,_,C)*d.get(k,w,S,E)}u.set(x,h,v,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=qN(n.filterShape,"float32"),l=c.values,f=c.strides,d=f[0],h=f[1],p=f[2],m=f[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],x=g[3],k=this.readSync(e.dataId),S=e.strides,_=S[0],E=S[1],C=S[2],A=S[3],O=n.padInfo.front,T=n.padInfo.left,R=n.padInfo.top,I=0;I<a;++I)for(var P=Math.max(0,Math.ceil((O-I)/r)),N=Math.min(n.outDepth,(n.inDepth+O-I)/r),M=I*d,D=0;D<s;++D)for(var F=Math.max(0,Math.ceil((R-D)/o)),L=Math.min(n.outHeight,(n.inHeight+R-D)/o),j=D*h+M,B=0;B<u;++B)for(var z=Math.max(0,Math.ceil((T-B)/i)),U=Math.min(n.outWidth,(n.inWidth+T-B)/i),W=B*p+j,H=0;H<n.inChannels;++H)for(var V=H*m+W,G=0;G<n.outChannels;++G){for(var q=0,X=0;X<n.batchSize;++X)for(var K=X*_,Y=X*y,$=P;$<N;++$)for(var Z=(I+$*r-O)*E+K,Q=$*b+Y,J=F;J<L;++J)for(var ee=(D+J*o-R)*C+Z,te=J*w+Q,ne=z;ne<U;++ne){var re=ne*x+te;q+=k[(B+ne*i-T)*A+ee+H]*v[re+G]}l[V+G]=q}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),i&&(s=JU(this,s,i,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){QU([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=qN(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),h=l.values,p=0;p<n.batchSize;++p)for(var m=p*e.strides[0],v=p*l.strides[0],g=0;g<n.outHeight;++g)for(var y=v+g*l.strides[1],b=g*n.strideHeight-s,w=0;w<r;++w){var x=b+w*i;if(!(x<0||x>=n.inHeight))for(var k=w*t.strides[0],S=m+x*e.strides[1],_=0;_<n.outWidth;++_)for(var E=y+_*l.strides[2],C=_*n.strideWidth-u,A=0;A<o;++A){var O=C+A*a;if(!(O<0||O>=n.inWidth))for(var T=k+A*t.strides[1],R=S+O*n.inChannels,I=E,P=T,N=0;N<n.inChannels;++N){for(var M=f[R+N],D=0;D<c;++D)h[I+D]+=M*d[P+D];I+=c,P+=c}}}return l.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){QU([e,t],"depthwiseConv2DDerInput");for(var r=qN(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=this.readSync(e.dataId),l=e.strides,f=l[0],d=l[1],h=l[2],p=this.readSync(t.dataId),m=t.strides,v=m[0],g=m[1],y=m[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,k=n.inChannels,S=n.inHeight,_=n.inWidth,E=n.outChannels,C=n.outHeight,A=n.outWidth,O=n.strideHeight,T=n.strideWidth,R=w-1-n.padInfo.top,I=x-1-n.padInfo.left,P=E/k,N=0;N<b;++N)for(var M=0;M<k;++M)for(var D=0;D<S;++D)for(var F=D-R,L=Math.max(0,Math.ceil(F/O)),j=Math.min(C,(w+F)/O),B=0;B<_;++B){for(var z=B-I,U=Math.max(0,Math.ceil(z/T)),W=Math.min(A,(x+z)/T),H=0,V=L;V<j;++V)for(var G=V*O-F,q=U;q<W;++q)for(var X=f*N+d*V+h*q,K=v*(w-1-G)+g*(x-1-(q*T-z))+y*M,Y=0;Y<P;++Y)H+=c[X+(M*P+Y)]*p[K+Y];o[a*N+s*D+u*B+M]=H}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){QU([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=qN(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var p=Math.max(0,Math.ceil((c-h)/r)),m=Math.min(n.outHeight,(n.inHeight+c-h)/r),v=0;v<a;++v)for(var g=Math.max(0,Math.ceil((u-v)/o)),y=Math.min(n.outWidth,(n.inWidth+u-v)/o),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/l),x=b%l,k=0,S=0;S<n.batchSize;++S)for(var _=p;_<m;++_)for(var E=h+_*r-c,C=g;C<y;++C){var A=v+C*o-u;k+=f.get(S,E,A,w)*d.get(S,_,C,b)}s.set(k,h,v,w,x)}return s.toTensor()},t.prototype.tile=function(e,t){return QU(e,"tile"),bD(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){QU(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),o=t.map((function(e){return e[0]})),i=this.bufferSync(e),a=qN(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var u=i.indexToLoc(s),c=u.map((function(e,t){return e+o[t]}));a.set.apply(a,[i.get.apply(i,u)].concat(c))}return a.toTensor()},t.prototype.transpose=function(e,t){QU(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),i=qN(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[t[c]];var l=i.locToIndex(u);i.values[l]=o[r]}return i.toTensor()},t.prototype.gather=function(e,t,n){QU([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var i=qN(r,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s),c=u.slice();c[n]=o[u[n]];var l=a.locToIndex(c);i.values[s]=a.values[l]}return i.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){QU([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),o=bM(e.shape,t,r),i=wM(o.length,t.length),a=xM(e.shape,t,r),s=kM(n,t.length),u=SM(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){QU([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=bM(a.shape,t,r,!1),u=wM(s.length,t.length,!1),c=xM(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.pool=function(e,t,n){QU(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),h=qN(t.outShape,e.dtype),p=h.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],v=t.outShape[2]*t.outShape[3],g=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,w=y*e.strides[0],x=0;x<t.inChannels;++x)for(var k=0;k<t.outHeight;++k)for(var S=k*r-c,_=Math.max(0,S),E=Math.min(t.inHeight,s+S),C=b+k*v,A=0;A<t.outWidth;++A){for(var O=A*o-l,T=Math.max(0,O),R=Math.min(t.inWidth,u+O),I=f,P=0,N=0,M=_;M<E;M+=i){for(var D=w+M*e.strides[1],F=T;F<R;F+=a){var L=d[D+F*e.strides[2]+x];"max"===n&&L>I?I=L:"avg"===n&&(P+=L,N++)}if(isNaN(I))break}p[C+A*g+x]="avg"===n?P/N:I}return h.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=qN(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var h=0;h<t.inChannels;++h)for(var p=0;p<t.outHeight;++p){for(var m=p*r-c,v=m;v<0;)v+=i;for(var g=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*o-l,w=b;w<0;)w+=a;for(var x=Math.min(t.inWidth,u+b),k=Number.NEGATIVE_INFINITY,S=-1,_=v;_<g;_+=i)for(var E=_-m,C=w;C<x;C+=a){var A=C-b,O=f.get(d,_,C,h);O>k&&(k=O,S=E*u+A)}n.set(S,d,p,y,h)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){QU([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,l=r.effectiveFilterWidth,f=l-1-r.padInfo.left,d=c-1-r.padInfo.top,h=qN(t.shape,"float32"),p=this.bufferSync(o),m=this.bufferSync(e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-d,x=b-f,k=0,S=0;S<c;S+=s){var _=(w+S)/i;if(!(_<0||_>=r.outHeight||Math.floor(_)!==_))for(var E=0;E<l;E+=u){var C=(x+E)/a;if(!(C<0||C>=r.outWidth||Math.floor(C)!==C)){var A=c*l-1-p.get(v,_,C,g)===S*l+E?1:0;0!==A&&(k+=m.get(v,_,C,g)*A)}}}h.set(k,v,y,b,g)}return h.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){QU([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,f=l-1-n.padInfo.left,d=c-1-n.padInfo.top,h=qN(t.shape,"float32"),p=1/(i*a),m=this.bufferSync(e),v=0;v<n.batchSize;++v)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-d,x=b-f,k=0,S=0;S<c;S+=s){var _=(w+S)/r;if(!(_<0||_>=n.outHeight||Math.floor(_)!==_))for(var E=0;E<l;E+=u){var C=(x+E)/o;C<0||C>=n.outWidth||Math.floor(C)!==C||(k+=m.get(v,_,C,g))}}h.set(k*p,v,y,b,g)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){QU(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(e.dataId),g=qN(t.outShape,e.dtype),y=g.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],k=t.outShape[4],S=0;S<t.batchSize;++S)for(var _=S*b,E=S*e.strides[0],C=0;C<t.inChannels;++C)for(var A=0;A<t.outDepth;++A){for(var O=A*r-d,T=O;T<0;)T+=a;for(var R=Math.min(t.inDepth,c+O),I=_+A*w,P=0;P<t.outHeight;++P){for(var N=P*o-h,M=N;M<0;)M+=s;for(var D=Math.min(t.inHeight,l+N),F=I+P*x,L=0;L<t.outWidth;++L){for(var j=L*i-p,B=j;B<0;)B+=u;for(var z=Math.min(t.inWidth,f+j),U=F+L*k,W=m,H=0,V=0,G=T;G<R;G+=a){for(var q=E+G*e.strides[1],X=M;X<D;X+=s){for(var K=q+X*e.strides[2],Y=B;Y<z;Y+=u){var $=v[K+Y*e.strides[3]+C];if("max"===n&&$>W?W=$:"avg"===n&&(H+=$,V++),isNaN(W))break}if(isNaN(W))break}if(isNaN(W))break}y[U+C]="avg"===n?H/V:W}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return QU(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){QU([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,f=n.dilationWidth,d=n.effectiveFilterDepth,h=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=d-1-n.padInfo.front,v=p-1-n.padInfo.left,g=h-1-n.padInfo.top,y=qN(t.shape,"float32"),b=1/(a*s*u),w=this.bufferSync(e),x=0;x<n.batchSize;++x)for(var k=0;k<n.inChannels;++k)for(var S=0;S<n.inDepth;++S)for(var _=0;_<n.inHeight;++_)for(var E=0;E<n.inWidth;++E){for(var C=S-m,A=_-g,O=E-v,T=0,R=0;R<d;R+=c){var I=(C+R)/r;if(!(I<0||I>=n.outDepth||Math.floor(I)!==I))for(var P=0;P<h;P+=l){var N=(A+P)/o;if(!(N<0||N>=n.outHeight||Math.floor(N)!==N))for(var M=0;M<p;M+=f){var D=(O+M)/i;D<0||D>=n.outWidth||Math.floor(D)!==D||(T+=w.get(x,I,N,D,k))}}}y.set(T*b,x,S,_,E,k)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return QU(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=qN(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,m=this.bufferSync(e),v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-d,w=b;w<0;)w+=a;for(var x=Math.min(t.inDepth,c+b),k=0;k<t.outHeight;++k){for(var S=k*o-h,_=S;_<0;)_+=s;for(var E=Math.min(t.inHeight,l+S),C=0;C<t.outWidth;++C){for(var A=C*i-p,O=A;O<0;)O+=u;for(var T=Math.min(t.inWidth,f+A),R=Number.NEGATIVE_INFINITY,I=-1,P=w;P<x;P+=a)for(var N=P-b,M=_;M<E;M+=s)for(var D=M-S,F=O;F<T;F+=u){var L=F-A,j=m.get(v,P,M,F,g);j>=R&&(R=j,I=N*l*f+D*l+L)}n.set(I,v,y,k,C,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){QU([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),i=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=f-1-r.padInfo.front,m=h-1-r.padInfo.left,v=d-1-r.padInfo.top,g=qN(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var k=0;k<r.inDepth;++k)for(var S=0;S<r.inHeight;++S)for(var _=0;_<r.inWidth;++_){for(var E=k-p,C=S-v,A=_-m,O=0,T=0;T<f;T+=u){var R=(E+T)/i;if(!(R<0||R>=r.outDepth||Math.floor(R)!==R))for(var I=0;I<d;I+=c){var P=(C+I)/a;if(!(P<0||P>=r.outHeight||Math.floor(P)!==P))for(var N=0;N<h;N+=l){var M=(A+N)/s;if(!(M<0||M>=r.outWidth||Math.floor(M)!==M)){var D=f*d*h-1-y.get(w,R,P,M,x)===T*d*h+I*h+N?1:0;0!==D&&(O+=b.get(w,R,P,M,x)*D)}}}}g.set(O,w,k,S,_,x)}return g.toTensor()},t.prototype.cast=function(e,t){return rD(e,t,this)},t.prototype.reshape=function(e,t){return oD(e,t)},t.prototype.avgPool=function(e,t){return QU(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){QU(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(DR([i,t,n,u])),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,p=f[0]/d[0],m=f[1]/d[1],v=0;v<i;v++)for(var g=0;g<t;g++)for(var y=p*g,b=Math.floor(y),w=y-b,x=Math.min(a-1,Math.ceil(y)),k=v*e.strides[0]+b*e.strides[1],S=v*e.strides[0]+x*e.strides[1],_=0;_<n;_++)for(var E=m*_,C=Math.floor(E),A=E-C,O=Math.min(s-1,Math.ceil(E)),T=k+C*e.strides[2],R=S+C*e.strides[2],I=k+O*e.strides[2],P=S+O*e.strides[2],N=0;N<u;N++){var M=c[T+N],D=c[R+N],F=M+(c[I+N]-M)*A,L=F+(D+(c[P+N]-D)*A-F)*w;l[h++]=L}return mN(l,[i,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){QU([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=[n&&c>1?i-1:i,n&&l>1?a-1:a],h=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=d[0]/h[0],m=d[1]/h[1],v=this.readSync(e.dataId),g=0,y=0;y<o;y++)for(var b=y*t.strides[0],w=0;w<c;w++)for(var x=w*p,k=Math.floor(x),S=Math.min(Math.ceil(x),i-1),_=b+k*t.strides[1],E=b+S*t.strides[1],C=x-k,A=1-C,O=0;O<l;O++)for(var T=O*m,R=Math.floor(T),I=Math.min(Math.ceil(T),a-1),P=T-R,N=1-P,M=_+R*t.strides[2],D=_+I*t.strides[2],F=E+R*t.strides[2],L=E+I*t.strides[2],j=A*N,B=A*P,z=C*N,U=C*P,W=0;W<s;W++){var H=v[g++];f[M+W]+=H*j,f[D+W]+=H*B,f[F+W]+=H*z,f[L+W]+=H*U}return xN(f,[o,a,i,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){QU(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(i*t*n*u),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=f[0]/d[0],p=f[1]/d[1],m=0,v=0;v<i;v++)for(var g=v*e.strides[0],y=0;y<t;y++)for(var b=h*y,w=g+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],x=0;x<n;x++)for(var k=p*x,S=w+Math.min(s-1,r?Math.round(k):Math.floor(k))*e.strides[2],_=0;_<u;_++){var E=c[S+_];l[m++]=E}return mN(l,[i,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){QU([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=this.readSync(e.dataId),h=[n&&c>1?i-1:i,n&&l>1?a-1:a],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],m=h[0]/p[0],v=h[1]/p[1],g=1/m,y=1/v,b=2*Math.ceil(g)+2,w=2*Math.ceil(y)+2,x=0;x<o;x++)for(var k=x*t.strides[0],S=0;S<i;S++)for(var _=k+S*t.strides[1],E=Math.floor(S*g),C=Math.floor(E-b/2),A=0;A<a;A++)for(var O=_+A*t.strides[2],T=Math.floor(A*y),R=Math.floor(T-w/2),I=0;I<s;I++){for(var P=0,N=0;N<b;N++){var M=N+C;if(!(M<0||M>=c)){var D=k+M*e.strides[1],F=M*m;if(S===Math.min(i-1,n?Math.round(F):Math.floor(F)))for(var L=0;L<w;L++){var j=L+R;if(!(j<0||j>=l)){var B=D+j*e.strides[2],z=j*v;A===Math.min(a-1,n?Math.round(z):Math.floor(z))&&(P+=d[B+I])}}}}f[O+I]=P}return xN(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){QU([e,t,n,o,i],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),c=o?this.readSync(o.dataId):new Float32Array([1]),l=i?this.readSync(i.dataId):new Float32Array([0]),f=new Float32Array(a.length),d=l.length,h=c.length,p=u.length,m=s.length,v=0,g=0,y=0,b=0,w=0;w<a.length;++w)f[w]=l[v++]+(a[w]-s[g++])*c[y++]/Math.sqrt(u[b++]+r),v>=d&&(v=0),g>=m&&(g=0),y>=h&&(y=0),b>=p&&(b=0);return xN(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){QU(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=this.readSync(e.dataId),u=e.size,c=new Float32Array(u);function l(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),u=0;r<=o;r++){var c=s[r];u+=c*c}return u}for(var f=0;f<u;f++){var d=l(f),h=s[f]*Math.pow(n+r*d,-o);c[f]=h}return xN(c,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){QU(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=this.readSync(n.dataId),f=new Float32Array(e.size),d=e.size,h=0;h<d;h++){for(var p=h%s,m=h-p+Math.max(0,p-r),v=h-p+Math.min(s,p+r+1),g=0,y=m;y<v;y++)g+=Math.pow(c[y],2);for(g=i*g+o,y=m;y<v;y++){var b=-2*i*a*c[y]*l[h]/g;h===y&&(b+=Math.pow(g,-a)),b*=u[h],f[y]+=b}}return xN(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){QU(e,"multinomial");for(var o=t?e:LM(e),i=o.shape[0],a=o.shape[1],s=SN([i,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(o.dataId),l=0;l<i;++l){var f=l*a,d=new Float32Array(a-1);d[0]=c[f];for(var h=1;h<d.length;++h)d[h]=d[h-1]+c[f+h];for(var p=WN(r.toString()),m=l*n,v=0;v<n;++v){var g=p();u[m+v]=d.length;for(var y=0;y<d.length;y++)if(g<d[y]){u[m+v]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){QU(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=this.readSync(e.dataId),a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return bN(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return QU(e,"nonMaxSuppression"),dD(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=qN(e.shape,"float32"),i=qN(e.shape,"float32"),a=hN(e).as2D(n,r),s=pN(e).as2D(n,r),u=0;u<n;u++)for(var c=a.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),f=dN(c,l),d=this.readSync(this.fftImpl(f,t).dataId),h=0;h<r;h++){var p=sD(d,h);o.values[u*r+h]=p.real,i.values[u*r+h]=p.imag}return dN(o.toTensor(),i.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=dN(hN(o).div(gN(r)),pN(o).div(gN(r)))),o}var i=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return dN(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=dN(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),u=dN(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),u=this.fftRadix2(u,o,n);var c=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),l=dN(c.real,c.imag).mul(u),f=a.add(l),d=a.sub(l),h=hN(f).concat(hN(d)),p=pN(f).concat(pN(d));return dN(h,p).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var u=cD(o*s,t,n),c=sD(e,s);i+=c.real*u.real-c.imag*u.imag,a+=c.real*u.imag+c.imag*u.real}n&&(i/=t,a/=t),uD(r,i,a,o)}return r},t.prototype.depthToSpace=function(e,t,n){IR("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),IR(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,u=i*t,c=a/(t*t),l=this.readSync(e.dataId),f=new Float32Array(r*s*u*c),d=0,h=0;h<r;++h)for(var p=0;p<s;++p)for(var m=Math.floor(p/t),v=p%t,g=0;g<u;++g)for(var y=Math.floor(g/t),b=(v*t+g%t)*c,w=0;w<c;++w){var x=w+b+a*(y+i*(m+o*h));f[d++]=l[x]}return xN(f,[r,s,u,c])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=VM(e.shape,t.shape),i=qN(o,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=WM(e.shape,o),c=WM(t.shape,o),l=i.values;if(u.length+c.length===0)for(var f=0;f<l.length;++f)l[f]=r(a[f%a.length],s[f%s.length]);else{var d=this.bufferSync(e),h=this.bufferSync(t),p=function(n){var o=i.indexToLoc(n),f=o.slice(-e.rank);u.forEach((function(e){return f[e]=0}));var p=d.locToIndex(f),m=o.slice(-t.rank);c.forEach((function(e){return m[e]=0}));var v=h.locToIndex(m);l[n]=r(a[p],s[v])};for(f=0;f<l.length;++f)p(f)}return i.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=VM(e.shape,t.shape),o=qN(r,"float32"),i=qN(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=WM(e.shape,r),c=WM(t.shape,r),l=o.values,f=i.values;if(u.length+c.length===0)for(var d=0;d<l.length;d++){var h=d%a.length,p=d%s.length,m=n(a[2*h],a[2*h+1],s[2*p],s[2*p+1]);l[d]=m.real,f[d]=m.imag}else{var v=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var i=o.indexToLoc(r),d=i.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var h=v.locToIndex(d),p=i.slice(-t.rank);c.forEach((function(e){return p[e]=0}));var m=g.locToIndex(p),y=n(a[2*h],a[2*h+1],s[2*m],s[2*m+1]);l[r]=y.real,f[r]=y.imag};for(d=0;d<l.length;d++)y(d)}return this.complex(o.toTensor(),i.toTensor())},t.prototype.split=function(e,t,n){return yD(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],u=a[1],c=a[2],l=a[3],f=t.shape[0],d=r[0],h=r[1],p=qN([f,d,h,l],"float32"),m=this.readSync(t.dataId),v=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=p.strides,w=0;w<f;w++){var x=4*w,k=m[x],S=m[x+1],_=m[x+2],E=m[x+3],C=v[w];if(!(C>=s))for(var A=d>1?(_-k)*(u-1)/(d-1):0,O=h>1?(E-S)*(c-1)/(h-1):0,T=0;T<d;T++){var R=d>1?k*(u-1)+T*A:.5*(k+_)*(u-1);if(R<0||R>u-1)for(var I=0;I<h;I++)for(var P=0;P<l;P++){var N=P+I*b[2]+T*b[1]+w*b[0];p.values[N]=i}else if("bilinear"===o){var M=Math.floor(R),D=Math.ceil(R),F=R-M;for(I=0;I<h;I++)if((G=h>1?S*(c-1)+I*O:.5*(S+E)*(c-1))<0||G>c-1)for(P=0;P<l;P++)N=P+I*b[2]+T*b[1]+w*b[0],p.values[N]=i;else{var L=Math.floor(G),j=Math.ceil(G),B=G-L;for(P=0;P<l;P++){var z=g[N=P+L*y[2]+M*y[1]+C*y[0]],U=g[N=P+j*y[2]+M*y[1]+C*y[0]],W=g[N=P+L*y[2]+D*y[1]+C*y[0]],H=z+(U-z)*B,V=W+(g[N=P+j*y[2]+D*y[1]+C*y[0]]-W)*B;N=P+I*b[2]+T*b[1]+w*b[0],p.values[N]=H+(V-H)*F}}}else for(I=0;I<h;++I){var G;if((G=h>1?S*(c-1)+I*O:.5*(S+E)*(c-1))<0||G>c-1)for(P=0;P<l;P++)N=P+I*b[2]+T*b[1]+w*b[0],p.values[N]=i;else{var q=Math.round(G),X=Math.round(R);for(P=0;P<l;P++){var K=P+q*y[2]+X*y[1]+C*y[0],Y=P+I*b[2]+T*b[1]+w*b[0];p.values[Y]=g[K]}}}}}return p.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=OM(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,u=o.strides,c=o.outputSize;return this.scatter(e,t,n,c,s,a,i,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=_M(e,t),i=o[0],a=o[1],s=o[2],u=o[3];if(0===a)return mN([],i,e.dtype);for(var c=new kI([a,s],e.dtype),l=this.readSync(t.dataId),f=this.readSync(e.dataId),d=0;d<a;d++){for(var h=[],p=0,m=0;m<r;m++){var v=l[d*r+m];p+=v*u[m],h.push(v)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var g=0;g<s;g++)c.values[d*s+g]=f[p*s+g]}return c.toTensor().reshape(i)},t.prototype.scatterND=function(e,t,n){var r=OM(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=gN(0);return this.scatter(e,t,n,u,a,i,o,s,c,!0)},t.prototype.fill=function(e,t,n){var r=qR(n=n||nI(t),DR(e));return r.fill(t),WI.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=qR(e.dtype,DR(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return iD(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,i,a,s,u,c){var l=[r/o,o],f=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return mN([],n,t.dtype);var h=new kI(l,t.dtype);h.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<i;p++){for(var m=[],v=0,g=0;g<a;g++){var y=f[p*a+g];m.push(y),v+=y*s[g]}if(v<0||v>=r/o)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<o;b++)c?h.values[v*o+b]+=d[p*o+b]:h.values[v*o+b]=0===t.rank?d[0]:d[p*o+b]}return h.toTensor().reshape(n)},t}(zM);WI.registerBackend("cpu",(function(){return new eW}),1);for(var tW=0,nW=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n;QU(i,"NonMaxSuppressionWithScore");var h=hD(d.data.get(i.dataId).values,d.data.get(a.dataId).values,u,c,l,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;QU(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];a[s]=u*u}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:hj,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;QU([o,i],hj);var s=a.data.get(o.dataId).values,u=a.data.get(i.dataId).values,c=function(e,t,n,r,o,i){var a=VM(e,t),s=a.length,u=iI(a),c=GR(o,DR(a)),l=e.length,f=t.length,d=iI(e),h=iI(t),p=WM(e,a),m=WM(t,a);if(p.length+m.length===0)for(var v=0;v<c.length;++v)c[v]=i(n[v%n.length],r[v%r.length]);else{var g=function(e){var t=mI(e,s,u),o=t.slice(-l);p.forEach((function(e){return o[e]=0}));var a=pI(o,l,d),v=t.slice(-f);m.forEach((function(e){return v[e]=0}));var g=pI(v,f,h);c[e]=i(n[a],r[g])};for(v=0;v<c.length;++v)g(v)}return[c,a]}(o.shape,i.shape,s,u,o.dtype,(function(e,t){var n=e-t;return n*n})),l=c[0],f=c[1];return{dataId:a.write(l,f,o.dtype),shape:f,dtype:o.dtype}}}];tW<nW.length;tW++)_R(nW[tW]);for(var rW,oW=function(e){this.variableNames=["A"];var t=AD(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},iW=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=AD(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},aW=0,sW=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,u=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=u[0],l=u[1],f=[l,c],d=[l,c,i];(s||a)&&(null==rW&&(rW=document.createElement("canvas").getContext("2d")),rW.canvas.width=c,rW.canvas.height=l,rW.drawImage(o,0,0,c,l),o=rW.canvas);var h=n.makeTensorInfo(f,"int32");n.texData.get(h.dataId).usage=qI.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),o);var p=yR().getBool("WEBGL_PACK")?new iW(d):new oW(d),m=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;$P("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n,h=hD(d.readSync(i.dataId),d.readSync(a.dataId),u,c,l,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new LL(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:hj,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,s=yR().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new tF("return (a - b) * (a - b);",o.shape,i.shape):new JD("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];aW<sW.length;aW++)_R(sW[aW]);for(var uW=0,cW=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:hj,gradFunc:function(e,t){var n=t[0],r=t[1],o=gN(2);return{a:function(){return TB(e,TB(o,MB(n,r)))},b:function(){return TB(e,TB(o,MB(r,n)))}}}}];uW<cW.length;uW++)ER(cW[uW]);var lW=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();yR().get("IS_BROWSER")&&yR().setPlatform("browser",new lW);var fW,dW=function(){function e(){this.util=n(3886),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=yR().global.fetch?yR().global.fetch(e,t):(null==fW&&(fW=n(1065)),fW(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();yR().get("IS_NODE")&&yR().setPlatform("node",new dW);var hW={float32:4,int32:4,uint16:2,uint8:1,bool:1},pW=4;function mW(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=DR(a),u=void 0;if("quantization"in t){var c=t.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=hW[c.dtype],f=e.slice(r,r+s*l),d="uint8"===c.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===i)u=Float32Array.from(d,(function(e){return e*c.scale+c.min}));else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=Int32Array.from(d,(function(e){return Math.round(e*c.scale+c.min)}))}r+=s*l}else if("string"===i){var h=DR(t.shape);u=[];for(var p=0;p<h;p++){var m=new Uint32Array(e.slice(r,r+pW))[0];r+=pW;var v=new Uint8Array(e.slice(r,r+m));u.push(v),r+=m}}else{var g=hW[i];if(f=e.slice(r,r+s*g),"float32"===i)u=new Float32Array(f);else if("int32"===i)u=new Int32Array(f);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=new Uint8Array(f)}r+=s*g}n[o]=mN(u,a,i)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function vW(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),o=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}var gW="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function yW(e){return gW?Buffer.byteLength(e):new Blob([e]).size}function bW(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function wW(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function xW(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:yW(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:yW(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var kW=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&o.push(n)})),o},e}(),SW="://",_W=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){IR(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(SW)&&(t=t.slice(0,t.indexOf(SW))),IR(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();IR(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function EW(e){if(-1===e.indexOf(SW))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+_W.getSchemes().join(","));return{scheme:e.split(SW)[0],path:e.split(SW)[1]}}function CW(e,t,n){return void 0===n&&(n=!1),mR(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f;return vR(this,(function(d){switch(d.label){case 0:return IR(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),IR((r=kW.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),IR(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],IR((i=kW.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),IR(i.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),a=i[0],s=EW(e).scheme,u=EW(e).path,c=s===EW(e).scheme,[4,o.load()];case 1:return l=d.sent(),n&&c?[4,_W.getManager(s).removeModel(u)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,a.save(l)];case 4:return f=d.sent(),!n||c?[3,6]:[4,_W.getManager(s).removeModel(u)];case 5:d.sent(),d.label=6;case 6:return[2,f.modelArtifactsInfo]}}))}))}var AW="models_store",OW="model_info_store";function TW(){if(!yR().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function RW(e){var t=e.result;t.createObjectStore(AW,{keyPath:"modelPath"}),t.createObjectStore(OW,{keyPath:"modelPath"})}var IW=function(){function e(e){if(this.indexedDB=TW(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return RW(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(AW,"readonly"),s=a.objectStore(AW).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var u,c=xW(t),l=i.transaction(OW,"readwrite"),f=l.objectStore(OW),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var o=(u=i.transaction(AW,"readwrite")).objectStore(AW).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});o.onsuccess=function(){return e({modelArtifactsInfo:c})},o.onerror=function(e){var t=(f=l.objectStore(OW)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},d.onerror=function(e){return i.close(),r(d.error)},l.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}}))},e.URL_SCHEME="indexeddb://",e}(),PW=function(e){return yR().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(IW.URL_SCHEME)?(t=e.slice(IW.URL_SCHEME.length),new IW(t)):null;var t};kW.registerSaveRouter(PW),kW.registerLoadRouter(PW);var NW=function(){function e(){this.indexedDB=TW()}return e.prototype.listModels=function(){return mR(this,void 0,void 0,(function(){var e=this;return vR(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return RW(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(OW,"readonly"),i=o.objectStore(OW).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return mR(this,void 0,void 0,(function(){var t=this;return vR(this,(function(n){var r;return e=(r=e).startsWith(IW.URL_SCHEME)?r.slice(IW.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return RW(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(OW,"readwrite"),s=a.objectStore(OW),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(AW,"readwrite")).objectStore(AW).delete(e);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(e){return r(u.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}}))]}))}))},e}();if(yR().getBool("IS_BROWSER"))try{_W.registerManager(IW.URL_SCHEME,new NW)}catch(BK){}var MW="/",DW="tensorflowjs_models",FW="info",LW="model_topology",jW="weight_specs",BW="weight_data",zW="model_metadata";function UW(e){return{info:[DW,e,FW].join(MW),topology:[DW,e,LW].join(MW),weightSpecs:[DW,e,jW].join(MW),weightData:[DW,e,BW].join(MW),modelMetadata:[DW,e,zW].join(MW)}}function WW(e){var t=e.split(MW);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(MW)}var HW=function(){function e(e){if(!yR().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=UW(this.modelPath)}return e.prototype.save=function(e){return mR(this,void 0,void 0,(function(){var t,n,r;return vR(this,(function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=xW(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(gW)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return mR(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return vR(this,(function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),t.format=i.format,t.generatedBy=i.generatedBy,t.convertedBy=i.convertedBy,t.userDefinedMetadata=i.userDefinedMetadata),null==(a=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(gW){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(a),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),VW=function(e){return yR().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(HW.URL_SCHEME)?(t=e.slice(HW.URL_SCHEME.length),new HW(t)):null;var t};kW.registerSaveRouter(VW),kW.registerLoadRouter(VW);var GW=function(){function e(){IR(yR().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),IR("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return mR(this,void 0,void 0,(function(){var e,t,n,r,o,i;return vR(this,(function(a){for(e={},t=DW+MW,n=MW+FW,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=WW(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]}))}))},e.prototype.removeModel=function(e){return mR(this,void 0,void 0,(function(){var t,n;return vR(this,(function(r){var o;if(e=(o=e).startsWith(HW.URL_SCHEME)?o.slice(HW.URL_SCHEME.length):o,t=UW(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(yR().getBool("IS_BROWSER"))try{_W.registerManager(HW.URL_SCHEME,new GW)}catch(BK){}function qW(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var XW=function(){function e(t){if(!yR().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return mR(this,void 0,void 0,(function(){var t,n,r,o,i,a;return vR(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,qW((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,qW((function(){return a.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:xW(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),KW=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return mR(this,void 0,void 0,(function(){var e,t,n=this;return vR(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,t)}catch(e){return void o(e)}var l=[],f=[],d=[];u.forEach((function(e){e.paths.forEach((function(e){f.push(e),d.push(null)})),l.push.apply(l,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=f.indexOf(e);d[o]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:bW(d),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])}))}))}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return wW(e.name)})),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach((function(e){var i=wW(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function YW(e,t,n,r){!function(e){IR(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){IR(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),IR(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),IR(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map((function(i){return i.then((function(i){var a=n+ ++o/e.length*(r-n);return t(a),i})),i})))}function $W(e,t){return mR(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return vR(this,(function(f){switch(f.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?yR().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),o=0,i=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=f.sent(),[3,4];case 2:return[4,YW(r,t.onProgress,o,i)];case 3:a=f.sent(),f.label=4;case 4:return s=a.map((function(e){return e.arrayBuffer()})),u=.5,c=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return l=f.sent(),[3,8];case 6:return[4,YW(s,t.onProgress,u,c)];case 7:l=f.sent(),f.label=8;case 8:return[2,l]}}))}))}function ZW(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),mR(t,void 0,void 0,(function(){var t,i,a,s,u,c,l,f,d,h;return vR(this,(function(p){switch(p.label){case 0:if(t=n.map((function(){return!1})),i={},a=null!=o?o.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,c=hW[u]*DR(e.shape),l=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:c})};null!=o?o.forEach((function(t,n){t===e.name&&(l(),a[n]=!0)})):l(),s.push(e.name),r+=c}))})),!a.every((function(e){return e})))throw u=o.filter((function(e,t){return!a[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),l=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;l.push(t)}))})),[4,e(l)];case 1:return f=p.sent(),d={},h=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=f[h+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(f[h+c]);s.set(l,u),u+=l.byteLength}i[e].forEach((function(e){var t=mW(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]})),h+=t})),[2,d]}}))}))}}kW.registerSaveRouter((function(e){return yR().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(XW.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new XW(e)}(e.slice(XW.URL_SCHEME.length)):null}));var QW=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(IR("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=yR().platform.fetch,IR(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&IR(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return mR(this,void 0,void 0,(function(){var t,n,r,o;return vR(this,(function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:xW(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},e.prototype.load=function(){return mR(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l,f;return vR(this,(function(d){switch(d.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=d.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");d.label=2;case 2:return d.trys.push([2,4,,5]),[4,e.json()];case 3:return t=d.sent(),[3,5];case 4:throw d.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,a=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:f=d.sent(),c=f[0],l=f[1],d.label=7;case 7:return[2,{modelTopology:r,weightSpecs:c,weightData:l,userDefinedMetadata:u,generatedBy:i,convertedBy:a,format:s}]}}))}))},e.prototype.loadWeights=function(e){return mR(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f;return vR(this,(function(d){switch(d.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,u=e;s<u.length;s++)c=u[s],a.push.apply(a,c.weights);return l=[],e.forEach((function(e){e.paths.forEach((function(e){l.push(i+e+o)}))})),[4,$W(l,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return f=d.sent(),[2,[a,bW(f)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function JW(e){return null!=e.match(QW.URL_SCHEME_REGEX)}var eH=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return JW(e)})):JW(e))?tH(e,{onProgress:t}):null};function tH(e,t){return new QW(e,t)}kW.registerSaveRouter(eH),kW.registerLoadRouter(eH);var nH,rH=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),oH=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),iH=Object.freeze({browserFiles:function(e){return new KW(e)},browserHTTPRequest:function(e,t){return tH(e,t)},concatenateArrayBuffers:bW,decodeWeights:mW,encodeWeights:function(e,t){return mR(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return vR(this,(function(u){switch(u.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),i=function(i){var a=o[i],u=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+u.dtype);var c={name:a,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var l=new Promise((function(e){return mR(s,void 0,void 0,(function(){var t,n,r,o,i,a,s;return vR(this,(function(c){switch(c.label){case 0:return[4,u.bytes()];case 1:for(t=c.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+pW*t.length,r=new Uint8Array(n),o=0,i=0;i<t.length;i++)a=t[i],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,o),o+=pW,r.set(a,o),o+=a.length;return e(r),[2]}}))}))}));r.push(l)}else r.push(u.data());null!=t&&(c.group=t),n.push(c)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:vW(u.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new rH(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new rH({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new rH({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return kW.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:xW,getSaveHandlers:function(e){return kW.getSaveHandlers(e)},http:tH,isHTTPScheme:JW,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),mR(this,void 0,void 0,(function(){return vR(this,(function(o){return[2,ZW((function(e){return $W(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return kW.registerLoadRouter(e)},registerSaveRouter:function(e){return kW.registerSaveRouter(e)},weightsLoaderFactory:ZW,withSaveHandler:function(e){return new oH(e)},copyModel:function(e,t){return mR(this,void 0,void 0,(function(){return vR(this,(function(n){return[2,CW(e,t,!1)]}))}))},listModels:function(){return mR(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return vR(this,(function(s){switch(s.label){case 0:e=_W.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,_W.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+SW+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return mR(this,void 0,void 0,(function(){return vR(this,(function(n){return[2,CW(e,t,!0)]}))}))},removeModel:function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){return t=EW(e),[2,_W.getManager(t.scheme).removeModel(t.path)]}))}))}}),aH=fN({confusionMatrix_:function(e,t,n){var r=JP(e,"labels","confusionMatrix"),o=JP(t,"predictions","confusionMatrix");IR(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),IR(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),IR(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),IR(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),IR(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var i=nM(r.asType("int32"),n),a=nM(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),sH=(Object.freeze({confusionMatrix:aH}),fN({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=kR("FromPixels",WI.backendName))return WI.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,c=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=c[0],f=c[1];if(a?s=e.getContext("2d").getImageData(0,0,l,f).data:r||n?s=e.data:(i||o)&&(null==nH&&(nH=document.createElement("canvas").getContext("2d")),nH.canvas.width=l,nH.canvas.height=f,nH.drawImage(e,0,0,l,f),s=nH.getImageData(0,0,l,f).data),4===t)u=new Int32Array(s);else{var d=l*f;u=new Int32Array(d*t);for(var h=0;h<d;h++)for(var p=0;p<t;++p)u[h*t+p]=s[4*h+p]}return wN(u,[f,l,t],"int32")}})),uH=Object.freeze({toPixels:function(e,t){return mR(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x,k,S,_;return vR(this,(function(E){switch(E.label){case 0:if(n=JP(e,"img","toPixels"),e instanceof CI||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=E.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(l=E.sent(),f=l[0],d=l[1],h=f[0],p=d[0],u.dispose(),c.dispose(),"float32"===n.dtype){if(h<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+p+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+p+"].")}for(m="float32"===n.dtype?255:1,v=new Uint8ClampedArray(i*o*4),g=0;g<o*i;++g)y=void 0,b=void 0,w=void 0,x=void 0,1===a?(y=s[g]*m,b=s[g]*m,w=s[g]*m,x=255):3===a?(y=s[3*g]*m,b=s[3*g+1]*m,w=s[3*g+2]*m,x=255):4===a&&(y=s[4*g]*m,b=s[4*g+1]*m,w=s[4*g+2]*m,x=s[4*g+3]*m),v[0+(k=4*g)]=Math.round(y),v[k+1]=Math.round(b),v[k+2]=Math.round(w),v[k+3]=Math.round(x);return null!=t&&(t.width=i,t.height=o,S=t.getContext("2d"),_=new ImageData(v,i,o),S.putImageData(_,0,0)),n!==e&&n.dispose(),[2,v]}}))}))},fromPixels:sH}),cH=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),lH=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function fH(e){IR(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),IR("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),IR(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),lH.register(e)}Object.freeze({Serializable:cH,SerializationMap:lH,registerClass:fH});function dH(){return 32===WI.backend.floatPrecision()?.001:.1}function hH(e,t,n){var r=!0;if(($R(e)||$R(t))&&(r=!1),$R(e)&&$R(t)&&(r=!0),r){var o=e.constructor.name,i=t.constructor.name;if(o!==i)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+i)}if(Array.isArray(e)&&Array.isArray(t)){var a=ZP(e),s=ZP(t);if(!FR(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=$R(e)?e:MR(e),c=$R(t)?t:MR(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+d+".\nActual:   "+u+".\nExpected: "+c+".")}}function pH(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=dH()),hH(e,t,(function(e,t){return pH(e,t,n)}))},testEpsilon:dH,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return JR(e)||JR(e[0])||JR(t)||JR(t[0])?hH(e,n,(function(e,t){return e==t})):hH(e,t,(function(e,t){return pH(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=dH()),!pH(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:$F,webgl_util:GP,forceHalfFloat:function(){yR().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:fj,setWebGLContext:$I,GPGPUContext:ZF});var mH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pR(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;if(null!=n){var a=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(a)}else this.applyGradients(i);return YP(i),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){IR(rI(e),(function(){return"The f passed in variableGrads(f) must be a function"})),IR(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof PI})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],WI.registeredVariables)t.push(WI.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,i=t.length;IR((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."}));var a=WI.gradients(e,t,null,!0),s=a.value,u=a.grads;IR(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),IR(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return t.forEach((function(e,t){null!=u[t]&&(c[e.name]=u[t])})),null!=o&&o.forEach((function(e){return c[e.name]=null})),{value:s,grads:c}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&YP(this.iterations_)},t.prototype.saveIterations=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:gN(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(cH);Object.defineProperty(mH,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var vH=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=WI.backend.epsilon()),o}return pR(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=WI.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:KP((function(){return AN(o).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:KP((function(){return AN(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;KP((function(){var e=a.mul(t.rho).add(i.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(i),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(o);o.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(YP(this.accumulatedGrads.map((function(e){return e.variable}))),YP(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(mH);fH(vH);var gH=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return pR(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=WI.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:KP((function(){return _N(o.shape,t.initialAccumulatorValue).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable;KP((function(){var e=a.add(i.square());a.assign(e);var n=i.div(e.add(WI.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&YP(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(mH);fH(gH);var yH=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],KP((function(){i.accBeta1=gN(n).variable(),i.accBeta2=gN(r).variable()})),null==o&&(i.epsilon=WI.backend.epsilon()),i}return pR(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);KP((function(){var r=MB(1,t.accBeta1),o=MB(1,t.accBeta2);n.forEach((function(n,i){var a=WI.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:KP((function(){return AN(a).variable(!1)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:n+"/v",variable:KP((function(){return AN(a).variable(!1)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=l.div(r),h=f.div(o);u.assign(l),c.assign(f);var p=d.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(p)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&YP(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&YP(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){var t,n=this;return vR(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),KP((function(){n.accBeta1.assign(IB(n.beta1,n.iterations_+1)),n.accBeta2.assign(IB(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(mH);fH(yH);var bH=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],KP((function(){a.iteration=gN(0).variable(),a.accBeta1=gN(n).variable()})),null==o&&(a.epsilon=WI.backend.epsilon()),a}return pR(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);KP((function(){var r=MB(1,t.accBeta1),o=bB(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,i){var a=WI.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:AN(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:n+"/v",variable:AN(a).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2),d=s.abs(),h=f.maximum(d);u.assign(l),c.assign(h);var p=o.div(r).mul(l.div(h.add(t.epsilon))).add(a);a.assign(p)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&YP(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&YP(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(mH);fH(bH);var wH=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return pR(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=WI.registeredVariables[n];KP((function(){var e=t.c.mul(o).add(i);i.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return WI.keep(e)}(gN(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(mH);fH(wH);var xH=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=gN(o.momentum),o}return pR(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=WI.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:KP((function(){return AN(o).variable(!1)}))});var i=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&KP((function(){var e,n=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),i.assign(n),o.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&YP(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){return vR(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){return vR(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(wH);fH(xH);var kH=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=i,null==o&&(a.epsilon=WI.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return pR(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=WI.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:KP((function(){return AN(o).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:KP((function(){return AN(o).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:KP((function(){return AN(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;KP((function(){var e=a.mul(t.decay).add(i.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(i.mul(1-t.decay)),c=s.mul(t.momentum).add(i.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(u),s.assign(c);var l=o.sub(c);o.assign(l)}else{var f=a.mul(t.decay).add(i.square().mul(1-t.decay));c=s.mul(t.momentum).add(i.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),a.assign(f),s.assign(c),l=o.sub(c),o.assign(l)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&YP(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&YP(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&YP(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return mR(this,void 0,void 0,(function(){var e;return vR(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return mR(this,void 0,void 0,(function(){var t;return vR(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(mH);fH(kH);var SH=function(){function e(){}return e.sgd=function(e){return new wH(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new xH(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new kH(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new yH(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new vH(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new bH(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new gH(e,t)},e}();SH.sgd,SH.momentum,SH.adadelta,SH.adagrad,SH.rmsprop,SH.adamax,SH.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;CI.prototype.squaredDifference=function(e){return pj(this,e)},_I=ZU;var _H=function(e,t){return _H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_H(e,t)};function EH(e,t){function n(){this.constructor=e}_H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var CH=function(){return CH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CH.apply(this,arguments)};function AH(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(jK){i(jK)}}function s(e){try{u(r.throw(e))}catch(jK){i(jK)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function OH(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(jK){i=[6,jK],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function TH(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var RH=function(){function e(e,t){if(!jH(e)||!jH(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function IH(e,t){return e instanceof CI&&e.shape.length===t}function PH(e){return IH(e,3)}function NH(e){return IH(e,4)}function MH(e){return e%2===0}function DH(e){return e&&e.width&&e.height}function FH(e){return e.reduce((function(e,t){return e.add(t)}),new zH(0,0)).div(new zH(e.length,e.length))}function LH(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function jH(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function BH(e){return jH(e)&&0<=e&&e<=1}var zH=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),UH=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(jH),i=[r.x,r.y,r.width,r.height].every(jH);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],u=a[1],c=a[2],l=a[3];e.assertIsValidBox({x:s,y:u,width:c,height:l},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=l}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(jH)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new zH(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new zH(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new zH(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new zH(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,i=t.height,a=Math.abs(o-i);return o<i&&(n-=a/2,o+=a),i<o&&(r-=a/2,i+=a),new e({x:n,y:r,width:o,height:i})},e.prototype.rescale=function(t){var n=DH(t)?t.width:t,r=DH(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,i=r.y,a=r.right,s=r.bottom,u=Math.max(o,0),c=Math.max(i,0),l=a-u,f=s-c;return new e({x:u,y:c,width:Math.min(l,t-u),height:Math.min(f,n-c)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,i=r,a=this.left,s=this.top,u=this.right,c=this.bottom;return u>t&&(o=-u+t+n,u=t),c>e&&(i=-c+e+r,c=e),a<1&&(i=2-a,a=1),s<1&&(i=2-s,s=1),{dy:1,edy:i,dx:1,edx:o,y:s,ey:c,x:a,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),WH=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{left:t,top:n,right:r,bottom:o},i)||this}return EH(t,e),t}(UH),HH=function(){function e(e,t,n,r,o){this._imageDims=new RH(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new UH(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new UH(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),VH=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return EH(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(HH);function GH(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function qH(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),i=[],a=function(){var t=o.pop();i.push(t);for(var a=o,s=[],u=0;u<a.length;u++){var c=a[u],l=e[t],f=e[c];s.push(GH(l,f,r))}o=o.filter((function(e,t){return s[t]<=n}))};o.length>0;)a();return i}function XH(e,t){return KP((function(){var n=t[0],r=t[1],o=t[2],i=_N(TH(e.shape.slice(0,3),[1]),n),a=_N(TH(e.shape.slice(0,3),[1]),r),s=_N(TH(e.shape.slice(0,3),[1]),o),u=ON([i,a,s],3);return MB(e,u)}))}function KH(e){return 1/(1+Math.exp(-e))}var YH,$H=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{x:t,y:n,width:r,height:o},i)||this}return EH(t,e),t}(UH),ZH=function(){function e(e,t,n){void 0===n&&(n=new zH(0,0));var r=t.width,o=t.height;this._imgDims=new RH(r,o),this._shift=n,this._positions=e.map((function(e){return e.mul(new zH(r,o)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new zH(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new zH(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new zH(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof VH?e.box.floor():new UH(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,i=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},i=(o(t)+o(n))/2,a=Math.floor(i/.45),s=FH(e),u=Math.floor(Math.max(0,s.x-.5*a)),c=Math.floor(Math.max(0,s.y-.43*a));return new $H(u,c,Math.min(a,this.imageWidth+u),Math.min(a,this.imageHeight+c))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y})),r=t.reduce((function(e,t){return t<e?t:e}),1/0),o=n.reduce((function(e,t){return t<e?t:e}),1/0),i=t.reduce((function(e,t){return e<t?t:e}),0),a=n.reduce((function(e,t){return e<t?t:e}),0);return new WH(r,o,i,a)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),QH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],FH([e[3],e[4]])]},t}(ZH),JH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(FH)},t}(ZH),eV=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}(this.distance)+")":"")},e}(),tV=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return EH(t,e),t.assertIsValidLabeledBox=function(e,t){if(UH.assertIsValidBox(e,t),!jH(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(UH),nV=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._score=r,i._classScore=o,i}EH(t,e),t.assertIsValidPredictedBox=function(e,t){if(tV.assertIsValidLabeledBox(e,t),!BH(e.score)||!BH(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(tV);function rV(e){return e.detection instanceof VH}function oV(e,t){var n={detection:t};return Object.assign({},e,n)}function iV(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function aV(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(r){t=r.toString()}return{readFile:e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}function sV(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=aV();return CH({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},o)}function uV(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function cV(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function lV(e){YH=e}function fV(){uV()&&lV(iV()),cV()&&lV(sV())}var dV,hV={getEnv:function(){if(!YH)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return YH},setEnv:lV,initialize:fV,createBrowserEnv:iV,createFileSystem:aV,createNodejsEnv:sV,monkeyPatch:function(e){if(YH||fV(),!YH)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?YH.Canvas:t,r=e.Image,o=void 0===r?YH.Image:r;YH.Canvas=n,YH.Image=o,YH.createCanvasElement=e.createCanvasElement||function(){return new n},YH.createImageElement=e.createImageElement||function(){return new o},YH.ImageData=e.ImageData||YH.ImageData,YH.Video=e.Video||YH.Video,YH.fetch=e.fetch||YH.fetch,YH.readFile=e.readFile||YH.readFile},isBrowser:uV,isNodejs:cV};function pV(e){return hV.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function mV(e){var t=hV.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=pV(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}fV(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(dV||(dV={}));var vV=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,i=e.fontStyle,a=e.padding;this.anchorPosition=t||dV.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=a||4},gV=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new vV(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===dV.BOTTOM_RIGHT||n===dV.TOP_RIGHT,o=n===dV.BOTTOM_LEFT||n===dV.BOTTOM_RIGHT,i=this.measureWidth(e),a=this.measureHeight(),s=r?this.anchor.x-i:this.anchor.x,u=o?this.anchor.y-a:this.anchor.y;if(t){var c=t.width,l=t.height;return{x:Math.max(Math.min(s,c-i),0),y:Math.max(Math.min(u,l-a),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=pV(e),n=mV(t),r=this.options,o=r.backgroundColor,i=r.fontColor,a=r.fontSize,s=r.fontStyle,u=r.padding;n.font=a+"px "+s;var c=this.measureWidth(n),l=this.measureHeight();n.fillStyle=o;var f=this.getUpperLeft(n,t);n.fillRect(f.x,f.y,c,l),n.fillStyle=i,this.text.forEach((function(e,t){var r=u+f.x,o=u+f.y+(t+1)*a;n.fillText(e,r,o)}))},e}(),yV=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var i={anchorPosition:dV.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new vV(Object.assign({},i,o))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new UH(e),this.options=new yV(t)}e.prototype.draw=function(e){var t=mV(e),n=this.options,r=n.boxColor,o=n.lineWidth,i=this.box,a=i.x,s=i.y,u=i.width,c=i.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(a,s,u,c);var l=this.options.label;l&&new gV([l],{x:a-o/2,y:s},this.options.drawLabelOptions).draw(e)}}();function bV(e){var t=hV.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function wV(e){var t=hV.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new RH(e.naturalWidth,e.naturalHeight):e instanceof r?new RH(e.videoWidth,e.videoHeight):new RH(e.width,e.height)}function xV(e){var t=e.width,n=e.height,r=(0,hV.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function kV(e,t){var n=hV.getEnv().ImageData;if(!(e instanceof n)&&!bV(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||wV(e),o=r.width,i=r.height,a=xV({width:o,height:i});return e instanceof n?mV(a).putImageData(e,0,0):mV(a).drawImage(e,0,0,o,i),a}function SV(e,t){return AH(this,void 0,void 0,(function(){var n,r,o,i,a,s;return OH(this,(function(u){switch(u.label){case 0:return n=t||hV.getEnv().createCanvasElement(),r=e.shape.slice(NH(e)?1:0),o=r[0],i=r[1],a=r[2],s=KP((function(){return e.as3D(o,i,a).toInt()})),[4,uH.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}}))}))}function _V(e){var t=hV.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var EV=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(PH(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(NH(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof hV.getEnv().Canvas?e:kV(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return LH(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new RH(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,KP((function(){var r=LH(n.batchSize,0,1).map((function(r){var o=n.getInput(r);if(o instanceof CI){var i=NH(o)?o:o.expandDims();return i=function(e,t){return void 0===t&&(t=!1),KP((function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var i=Math.abs(r-o),a=Math.round(i*(t?.5:1)),s=r>o?2:1,u=function(t){var n=e.shape.slice();return n[s]=t,_N(n,0)},c=u(a),l=i-c.shape[s],f=[t&&l?u(l):null,e,c].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return ON(f,s)}))}(i,t),i.shape[1]===e&&i.shape[2]===e||(i=WU.resizeBilinear(i,[e,e])),i.as3D(e,e,3)}if(o instanceof hV.getEnv().Canvas)return uH.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=hV.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=wV(e),s=t/Math.max(a.height,a.width),u=s*a.width,c=s*a.height,l=xV({width:t,height:t}),f=e instanceof i?e:kV(e),d=Math.abs(u-c)/2,h=n&&u<c?d:0,p=n&&c<u?d:0;return mV(l).drawImage(f,h,p,u,c),l}(o,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)}));return mM(r.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3)}))},e}();function CV(e){return AH(this,void 0,void 0,(function(){var t,n,r;return OH(this,(function(o){switch(o.label){case 0:if(e instanceof EV)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(pV)).forEach((function(e,r){if(!_V(e)&&!PH(e)&&!NH(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(NH(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return _V(e)&&(t=e,new Promise((function(e,n){if(t instanceof hV.getEnv().Canvas||bV(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)})));var t})))];case 1:return o.sent(),[2,new EV(r,Array.isArray(e))]}}))}))}function AV(e,t){return AH(this,void 0,void 0,(function(){var n,r,o,i,a,s;return OH(this,(function(u){switch(u.label){case 0:return n=hV.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,CV(e)];case 1:if((o=u.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(i=o.getInput(0))instanceof n?(a=i,[3,4]):[3,2];case 2:return[4,SV(i)];case 3:a=u.sent(),u.label=4;case 4:r=a,u.label=5;case 5:return s=mV(r),[2,t.map((function(e){return e instanceof VH?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=xV({width:r,height:o});return mV(i).putImageData(s.getImageData(t,n,r,o),0,0),i}))]}}))}))}function OV(e,t){return AH(this,void 0,void 0,(function(){return OH(this,(function(n){if(!PH(e)&&!NH(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(NH(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,KP((function(){var n=e.shape.slice(NH(e)?1:0),r=n[0],o=n[1],i=n[2],a=t.map((function(e){return e instanceof VH?e.forSize(o,r).box:e})).map((function(e){return e.clipAtImageBorders(o,r)})).map((function(t){var n=t.x,a=t.y,s=t.width,u=t.height;return Rz(e.as3D(r,o,i),[a,n,0],[u,s,i])}));return a}))]}))}))}function TV(e,t){return AH(this,void 0,void 0,(function(){var n;return OH(this,(function(r){switch(r.label){case 0:return[4,(0,hV.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function RV(e){return AH(this,void 0,void 0,(function(){return OH(this,(function(t){switch(t.label){case 0:return[4,TV(e)];case 1:return[2,t.sent().json()]}}))}))}function IV(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter((function(e){return e})),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:a=e.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+i:a+"/"+i}}function PV(e,t){return AH(this,void 0,void 0,(function(){var n,r,o,i;return OH(this,(function(a){switch(a.label){case 0:return n=IV(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,RV(r)];case 1:return i=a.sent(),[2,iH.loadWeights(i,o)]}}))}))}var NV=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof PI}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof PI)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,r=t.tensor,o=mN(r.dataSync());r.dispose(),e.reassignParamFromPath(n,o)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return AH(this,void 0,void 0,(function(){return OH(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,PV(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return AH(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l;return OH(this,(function(f){switch(f.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=hV.getEnv().readFile,n=IV(e,this.getDefaultModelName()),r=n.manifestUri,o=n.modelBaseUri,i=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},a=iH.weightsLoaderFactory(i),c=(u=JSON).parse,[4,t(r)];case 1:return s=c.apply(u,[f.sent().toString()]),[4,a(s,o)];case 2:return l=f.sent(),this.loadFromWeightMap(l),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof CI))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function MV(e,t,n){return KP((function(){var r=cz(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=mB(r,t.bias)}))}function DV(e,t,n){return void 0===n&&(n=!1),KP((function(){var r=Xz(n?mB(nz(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):MV(e,t.conv0,[2,2])),o=MV(r,t.conv1,[1,1]),i=MV(Xz(mB(r,o)),t.conv2,[1,1]);return Xz(mB(r,mB(o,i)))}))}function FV(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),KP((function(){var o=Xz(n?mB(nz(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):MV(e,t.conv0,r?[2,2]:[1,1])),i=MV(o,t.conv1,[1,1]),a=MV(Xz(mB(o,i)),t.conv2,[1,1]),s=MV(Xz(mB(o,mB(i,a))),t.conv3,[1,1]);return Xz(mB(o,mB(i,mB(a,s))))}))}function LV(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),KP((function(){var o=mB(nz(e,t.filters,[1,1],n),t.bias);return r?Xz(o):o}))}function jV(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function BV(e,t){return function(n,r,o,i){var a=xN(e(n*r*o*o),[o,o,n,r]),s=yN(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}}function zV(e,t){return function(n,r,o){var i=bN(e(n*r),[n,r]),a=yN(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:i,bias:a}}}var UV=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function WV(e,t){return function(n,r,o){var i=xN(e(9*n),[3,3,n,1]),a=xN(e(n*r),[1,1,n,r]),s=yN(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new UV(i,a,s)}}function HV(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new UV(n,r,o)}}function VV(e,t){return function(n,r,o){var i=e[n];if(!IH(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function GV(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function qV(e,t){var n=BV(e,t),r=WV(e,t);function o(e,t,o,i){return void 0===i&&(i=!1),{conv0:i?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,i){void 0===i&&(i=!1);var a=o(e,t,n,i);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(t,t,n+"/conv3")}}}}function XV(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function KV(e,t){var n=VV(e,t),r=XV(n),o=HV(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var YV=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return EH(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return KP((function(){var n=FV(XH(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(gN(255)),t.dense0,!0);return n=FV(n,t.dense1),n=FV(n,t.dense2),n=FV(n,t.dense3),n=Sz(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=KV(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return jV(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=GV(e),r=n.extractWeights,o=n.getRemainingWeights,i=qV(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),c=i(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u,dense3:c}}}(e)},t}(NV);function $V(e,t){return KP((function(){return mB(dz(e,t.weights),t.bias)}))}function ZV(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var QV=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return EH(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return KP((function(){var r=e instanceof EV?t.faceFeatureExtractor.forwardInput(e):e;return $V(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=GV(e),i=o.extractWeights,a=o.getRemainingWeights,s=zV(i,r)(t,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=ZV(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=VV(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return jV(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(NV),JV=["neutral","happy","sad","angry","fearful","disgusted","surprised"],eG=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);JV.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return JV.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),tG=function(e){function t(t){return void 0===t&&(t=new YV),e.call(this,"FaceExpressionNet",t)||this}return EH(t,e),t.prototype.forwardInput=function(e){var t=this;return KP((function(){return LM(t.runNet(e))}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return AH(this,void 0,void 0,(function(){var t,n,r,o,i=this;return OH(this,(function(a){switch(a.label){case 0:return[4,CV(e)];case 1:return t=a.sent(),[4,this.forwardInput(t)];case 2:return n=a.sent(),[4,Promise.all(yM(n).map((function(e){return AH(i,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return r=a.sent(),n.dispose(),o=r.map((function(e){return new eG(e)})),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(QV);function nG(e,t){var n={expressions:t};return Object.assign({},e,n)}function rG(e){return rV(e)&&e.landmarks instanceof ZH&&e.unshiftedLandmarks instanceof ZH&&e.alignedRect instanceof VH}function oG(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a={landmarks:r,unshiftedLandmarks:t,alignedRect:new VH(e.detection.score,o.rescale(i.reverse()),i)};return Object.assign({},e,a)}function iG(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var o=n.x,i=n.y,a=t[r];e.moveTo(a.x,a.y),e.lineTo(o,i)})),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var aG=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,i=e.lineWidth,a=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new aG(t)}e.prototype.draw=function(e){var t=mV(e),n=this.options,r=n.drawLines,o=n.drawPoints,i=n.lineWidth,a=n.lineColor,s=n.pointSize,u=n.pointColor;if(r&&this.faceLandmarks instanceof JH&&(t.strokeStyle=a,t.lineWidth=i,iG(t,this.faceLandmarks.getJawOutline()),iG(t,this.faceLandmarks.getLeftEyeBrow()),iG(t,this.faceLandmarks.getRightEyeBrow()),iG(t,this.faceLandmarks.getNose()),iG(t,this.faceLandmarks.getLeftEye(),!0),iG(t,this.faceLandmarks.getRightEye(),!0),iG(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=u,t.fillStyle=u;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()}))}}}();function sG(e,t){var n=[],r=GV(e),o=r.extractWeights,i=r.getRemainingWeights,a=function(e,t){var n=BV(e,t),r=WV(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=a.extractConvParams,u=a.extractSeparableConvParams,c=a.extractReductionBlockParams,l=a.extractMainBlockParams,f={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:c(32,64,"entry_flow/reduction_block_0"),reduction_block_1:c(64,128,"entry_flow/reduction_block_1")},d={};LH(t,0,1).forEach((function(e){d["main_block_"+e]=l(128,"middle_flow/main_block_"+e)}));var h={reduction_block:c(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:f,middle_flow:d,exit_flow:h}}}function uG(e,t){var n=[],r=function(e,t){var n=VV(e,t),r=XV(n),o=HV(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:o("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},c={};LH(t,0,1).forEach((function(e){c["main_block_"+e]=s("middle_flow/main_block_"+e)}));var l={reduction_block:a("exit_flow/reduction_block"),separable_conv:i("exit_flow/separable_conv")};return jV(e,n),{params:{entry_flow:u,middle_flow:c,exit_flow:l},paramMappings:n}}function cG(e,t,n){return mB(nz(e,t.filters,n,"same"),t.bias)}function lG(e,t,n){void 0===n&&(n=!0);var r=n?Xz(e):e;return r=MV(r,t.separable_conv0,[1,1]),r=MV(Xz(r),t.separable_conv1,[1,1]),r=kz(r,[3,3],[2,2],"same"),r=mB(r,cG(e,t.expansion_conv,[2,2]))}var fG,dG=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return EH(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return KP((function(){var r=XH(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(gN(256)),o=Xz(cG(r,n.entry_flow.conv_in,[2,2]));return o=lG(o,n.entry_flow.reduction_block_0,!1),o=lG(o,n.entry_flow.reduction_block_1),LH(t._numMainBlocks,0,1).forEach((function(e){o=function(e,t){var n=MV(Xz(e),t.separable_conv0,[1,1]);return n=MV(Xz(n),t.separable_conv1,[1,1]),n=MV(Xz(n),t.separable_conv2,[1,1]),mB(n,e)}(o,n.middle_flow["main_block_"+e])})),o=lG(o,n.exit_flow.reduction_block),o=Xz(MV(o,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return uG(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return sG(e,this._numMainBlocks)},t}(NV);!function(e){e.FEMALE="female",e.MALE="male"}(fG||(fG={}));var hG=function(e){function t(t){void 0===t&&(t=new dG(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return EH(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return KP((function(){var r=e instanceof EV?t.faceFeatureExtractor.forwardInput(e):e,o=Sz(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:$V(o,n.fc.age).as1D(),gender:$V(o,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return KP((function(){var n=t.runNet(e),r=n.age,o=n.gender;return{age:r,gender:LM(o)}}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return AH(this,void 0,void 0,(function(){var t,n,r,o,i,a,s=this;return OH(this,(function(u){switch(u.label){case 0:return[4,CV(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),r=yM(n.age),o=yM(n.gender),i=r.map((function(e,t){return{ageTensor:e,genderTensor:o[t]}})),[4,Promise.all(i.map((function(e){var t=e.ageTensor,n=e.genderTensor;return AH(s,void 0,void 0,(function(){var e,r,o,i,a;return OH(this,(function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],i=(o=r>.5)?fG.MALE:fG.FEMALE,a=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:i,genderProbability:a}]}}))}))})))];case 3:return a=u.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?a:a[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=GV(e),r=n.extractWeights,o=n.getRemainingWeights,i=zV(r,t),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=ZV(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=VV(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return jV(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(NV),pG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map((function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}})),o=r.length;return KP((function(){var n=function(e,t){return mM([_N([68],e),_N([68],t)],1).as2D(1,136).as1D()},i=function(e,t){var n=r[e],o=n.width,i=n.height;return t(o,i)?Math.abs(o-i)/2:0},a=e.mul(_N([o,136],t)).sub(mM(Array.from(Array(o),(function(e,t){return n(function(e){return i(e,(function(e,t){return e<t}))}(t),function(e){return i(e,(function(e,t){return t<e}))}(t))})))).div(mM(Array.from(Array(o),(function(e,t){return n(r[t].width,r[t].height)}))));return a}))},t.prototype.forwardInput=function(e){var t=this;return KP((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return AH(this,void 0,void 0,(function(){var t,n,r,o=this;return OH(this,(function(i){switch(i.label){case 0:return[4,CV(e)];case 1:return t=i.sent(),n=KP((function(){return yM(o.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return AH(o,void 0,void 0,(function(){var r,o,i,a,s;return OH(this,(function(u){switch(u.label){case 0:return i=(o=Array).from,[4,e.data()];case 1:return r=i.apply(o,[u.sent()]),a=r.filter((function(e,t){return MH(t)})),s=r.filter((function(e,t){return!MH(t)})),[2,new JH(Array(68).fill(0).map((function(e,t){return new zH(a[t],s[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(QV),mG=function(e){function t(t){return void 0===t&&(t=new YV),e.call(this,"FaceLandmark68Net",t)||this}return EH(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(pG);var vG=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return EH(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return KP((function(){var n=DV(XH(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(gN(255)),t.dense0,!0);return n=DV(n,t.dense1),n=DV(n,t.dense2),n=Sz(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=KV(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return jV(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=GV(e),r=n.extractWeights,o=n.getRemainingWeights,i=qV(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u}}}(e)},t}(NV),gG=function(e){function t(t){return void 0===t&&(t=new vG),e.call(this,"FaceLandmark68TinyNet",t)||this}return EH(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(pG);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}EH(t,e)}(mG);function yG(e,t,n,r,o){void 0===o&&(o="same");var i=t.conv,a=i.filters,s=i.bias,u=nz(e,a,n,o);return u=function(e,t){return mB(TB(e,t.weights),t.biases)}(u=mB(u,s),t.scale),r?Xz(u):u}function bG(e,t){return yG(e,t,[1,1],!1)}function wG(e,t){return yG(e,t,[2,2],!0,"valid")}function xG(e,t){function n(n,r,o,i){var a=function(t,n,r){var o=e(t),i=o.length/(n*r*r);if(i%1!==0)throw new Error("depth has to be an integer: "+i+", weights.length: "+o.length+", numFilters: "+n+", filterSize: "+r);return KP((function(){return $z(xN(o,[n,i,r,r]),[2,3,1,0])}))}(n,r,o),s=yN(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}function r(r,o,i,a){var s=n(r,o,i,a+"/conv"),u=function(n,r){var o=yN(e(n)),i=yN(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:o,biases:i}}(o,a+"/scale");return{conv:s,scale:u}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,o,i){return void 0===i&&(i=!1),{conv1:r((i?.5:1)*e,t,n,o+"/conv1"),conv2:r(e,t,n,o+"/conv2")}}}}function kG(e,t){var n=VV(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),o=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:o}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function SG(e){var t=[],n=kG(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),s=o("conv32_2"),u=o("conv32_3"),c=o("conv64_down"),l=o("conv64_1"),f=o("conv64_2"),d=o("conv64_3"),h=o("conv128_down"),p=o("conv128_1"),m=o("conv128_2"),v=o("conv256_down"),g=o("conv256_1"),y=o("conv256_2"),b=o("conv256_down_out"),w=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!IH(w,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+w);var x={conv32_down:i,conv32_1:a,conv32_2:s,conv32_3:u,conv64_down:c,conv64_1:l,conv64_2:f,conv64_3:d,conv128_down:h,conv128_1:p,conv128_2:m,conv256_down:v,conv256_1:g,conv256_2:y,conv256_down_out:b,fc:w};return jV(e,t),{params:x,paramMappings:t}}function _G(e,t){var n=function(e,t){return yG(e,t,[1,1],!0)}(e,t.conv1);return n=bG(n,t.conv2),n=mB(n,e),n=Xz(n)}function EG(e,t){var n=wG(e,t.conv1);n=bG(n,t.conv2);var r=Sz(e,2,2,"valid"),o=SN(r.shape),i=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var a=TH(n.shape);a[1]=1;var s=SN(a),u=TH((n=ON([n,s],1)).shape);u[2]=1;var c=SN(u);n=ON([n,c],2)}return r=i?ON([r,o],3):r,n=mB(r,n),n=Xz(n)}var CG=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return EH(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return KP((function(){var n=wG(XH(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(gN(256)),t.conv32_down);n=_G(n=kz(n,3,2,"valid"),t.conv32_1),n=_G(n,t.conv32_2),n=_G(n,t.conv32_3),n=_G(n=EG(n,t.conv64_down),t.conv64_1),n=_G(n,t.conv64_2),n=_G(n,t.conv64_3),n=_G(n=EG(n,t.conv128_down),t.conv128_1),n=_G(n,t.conv128_2),n=_G(n=EG(n,t.conv256_down),t.conv256_1);var r=(n=EG(n=_G(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return dz(r,t.fc)}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return AH(this,void 0,void 0,(function(){var t,n,r,o=this;return OH(this,(function(i){switch(i.label){case 0:return[4,CV(e)];case 1:return t=i.sent(),n=KP((function(){return yM(o.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return SG(e)},t.prototype.extractParams=function(e){return function(e){var t=GV(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=xG(n,o),a=i.extractConvLayerParams,s=i.extractResidualLayerParams,u=a(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),l=s(9216,32,3,"conv32_2"),f=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),h=s(36864,64,3,"conv64_1"),p=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),w=s(589824,256,3,"conv256_1"),x=s(589824,256,3,"conv256_2"),k=s(589824,256,3,"conv256_down_out"),S=KP((function(){return $z(bN(n(32768),[128,256]),[1,0])}));if(o.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:u,conv32_1:c,conv32_2:l,conv32_3:f,conv64_down:d,conv64_1:h,conv64_2:p,conv64_3:m,conv128_down:v,conv128_1:g,conv128_2:y,conv256_down:b,conv256_1:w,conv256_2:x,conv256_down_out:k,fc:S},paramMappings:o}}(e)},t}(NV);function AG(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var OG=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,a=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=a,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!==typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function TG(e,t){function n(n,r,o,i,a){var s=xN(e(n*r*o*o),[o,o,n,r]),u=yN(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/"+(a?"batch_norm_offset":"bias")}),{filters:s,bias:u}}function r(e,t,r,o){var i=n(e,t,r,o,!0);return{filters:i.filters,batch_norm_offset:i.bias}}function o(n,o,i){var a=function(n,r){var o=xN(e(9*n),[3,3,n,1]),i=yN(e(n)),a=yN(e(n)),s=yN(e(n)),u=yN(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:o,batch_norm_scale:i,batch_norm_offset:a,batch_norm_mean:s,batch_norm_variance:u}}(n,i+"/depthwise_conv");return{depthwise_conv:a,pointwise_conv:r(n,o,1,i+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function RG(e){var t=[],n=function(e,t){var n=VV(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",i=t+"/depthwise_conv",a=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,i+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,i+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,i+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,i+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,i+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,a)}}function i(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function a(e){return{box_encoding_predictor:i("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:i("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!PH(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return jV(e,t),{params:a,paramMappings:t}}function IG(e,t,n){return KP((function(){var r=nz(e,t.filters,n,"same");return r=mB(r,t.batch_norm_offset),Sj(r,0,6)}))}var PG=.0010000000474974513;function NG(e,t){return KP((function(){var n=null,r=IG(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var o=t+1,i=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(o);r=function(e,t,n){return KP((function(){var r=az(e,t.filters,n,"same");return r=iB(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,PG),Sj(r,0,6)}))}(r,e.depthwise_conv,i),r=IG(r,e.pointwise_conv,[1,1]),11===o&&(n=r)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}}))}function MG(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(a-o)*(s-i),h=(l-u)*(f-c);if(d<=0||h<=0)return 0;var p=Math.max(o,u),m=Math.max(i,c),v=Math.min(a,l),g=Math.min(s,f),y=Math.max(v-p,0)*Math.max(g-m,0);return y/(d+h-y)}function DG(e,t){var n=function(e){var t=yM($z(e,[1,0])),n=[MB(t[2],t[0]),MB(t[3],t[1])];return{sizes:n,centers:[mB(t[0],bB(n[0],gN(2))),mB(t[1],bB(n[1],gN(2)))]}}(e),r=n.sizes,o=n.centers,i=yM($z(t,[1,0])),a=bB(TB(Aj(bB(i[2],gN(5))),r[0]),gN(2)),s=mB(TB(bB(i[0],gN(10)),r[0]),o[0]),u=bB(TB(Aj(bB(i[3],gN(5))),r[1]),gN(2)),c=mB(TB(bB(i[1],gN(10)),r[1]),o[1]);return $z(mM([MB(s,a),MB(c,u),mB(s,a),mB(c,u)]),[1,0])}function FG(e,t){return KP((function(){var n=e.shape[0];return{boxPredictionEncoding:dM(LV(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:dM(LV(e,t.class_predictor),[n,-1,3])}}))}var LG=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),jG=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return EH(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return KP((function(){var n=e.toBatchTensor(512,!1).toFloat(),r=NG(MB(TB(n,gN(.007843137718737125)),gN(1)),t.mobilenetv1),o=function(e,t,n){return KP((function(){var r=IG(e,n.conv_0,[1,1]),o=IG(r,n.conv_1,[2,2]),i=IG(o,n.conv_2,[1,1]),a=IG(i,n.conv_3,[2,2]),s=IG(a,n.conv_4,[1,1]),u=IG(s,n.conv_5,[2,2]),c=IG(u,n.conv_6,[1,1]),l=IG(c,n.conv_7,[2,2]),f=FG(t,n.box_predictor_0),d=FG(e,n.box_predictor_1),h=FG(o,n.box_predictor_2),p=FG(a,n.box_predictor_3),m=FG(u,n.box_predictor_4),v=FG(l,n.box_predictor_5);return{boxPredictions:ON([f.boxPredictionEncoding,d.boxPredictionEncoding,h.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,v.boxPredictionEncoding],1),classPredictions:ON([f.classPrediction,d.classPrediction,h.classPrediction,p.classPrediction,m.classPrediction,v.classPrediction],1)}}))}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return KP((function(){var r=e.shape[0],o=DG(dM(vM(n.extra_dim,[r,1,1]),[-1,4]),dM(e,[-1,4]));o=dM(o,[r,o.shape[0]/r,4]);var i=Lj(Az(t,[0,0,1],[-1,-1,-1])),a=Az(i,[0,0,0],[-1,-1,1]);return a=dM(a,[r,a.shape[1]]),{boxes:yM(o),scores:yM(a)}}))}(o.boxPredictions,o.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,CV(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),AH(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x;return OH(this,(function(k){switch(k.label){case 0:return n=new LG(t),r=n.maxResults,o=n.minConfidence,[4,CV(e)];case 1:for(i=k.sent(),a=this.forwardInput(i),s=a.boxes,u=a.scores,c=s[0],l=u[0],f=1;f<s.length;f++)s[f].dispose(),u[f].dispose();return p=(h=Array).from,[4,l.data()];case 2:return d=p.apply(h,[k.sent()]),.5,m=function(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>o})).sort((function(e,t){return t.score-e.score})),u=function(e){return e<=r?1:0},c=[];return s.forEach((function(t){if(!(c.length>=a)){for(var n=t.score,r=c.length-1;r>=0;--r){var i=MG(e,t.boxIndex,c[r]);if(0!==i&&(t.score*=u(i),t.score<=o))break}n===t.score&&c.push(t.boxIndex)}})),c}(c,d,r,.5,o),v=i.getReshapedInputDimensions(0),g=i.inputSize,y=g/v.width,b=g/v.height,w=c.arraySync(),x=m.map((function(e){var t=[Math.max(0,w[e][0]),Math.min(1,w[e][2])].map((function(e){return e*b})),n=t[0],r=t[1],o=[Math.max(0,w[e][1]),Math.min(1,w[e][3])].map((function(e){return e*y})),a=o[0],s=o[1];return new VH(d[e],new $H(a,n,s-a,r-n),{height:i.getInputHeight(0),width:i.getInputWidth(0)})})),c.dispose(),l.dispose(),[2,x]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return RG(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=GV(e),r=n.extractWeights,o=n.getRemainingWeights,i=TG(r,t),a=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,u=a(),c=s(),l={extra_dim:wN(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:u,prediction_layer:c,output_layer:l},paramMappings:t}}(e)},t}(NV);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}EH(t,e)}(jG);var BG,zG=[new zH(.738768,.874946),new zH(2.42204,2.65704),new zH(4.30971,7.04493),new zH(10.246,4.59428),new zH(12.6868,11.8741)],UG=[new zH(1.603231,2.094468),new zH(6.041143,7.080126),new zH(2.882459,3.518061),new zH(4.266906,5.178857),new zH(9.041765,10.66308)],WG=[117.001,114.697,97.404],HG=function(e){return"number"===typeof e};function VG(e){return KP((function(){var t=TB(e,gN(.10000000149011612));return mB(Xz(MB(e,t)),t)}))}function GG(e,t){return KP((function(){var n=rM(e,[[0,0],[1,1],[1,1],[0,0]]);return n=nz(n,t.conv.filters,[1,1],"valid"),n=MB(n,t.bn.sub),n=TB(n,t.bn.truediv),VG(n=mB(n,t.conv.bias))}))}function qG(e,t){return KP((function(){var n=rM(e,[[0,0],[1,1],[1,1],[0,0]]);return n=cz(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),VG(n=mB(n,t.bias))}))}function XG(e,t){var n=BV(e,t);var r=WV(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,o,i){var a=n(r,o,3,i+"/conv"),s=function(n,r){var o=yN(e(n)),i=yN(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:o,truediv:i}}(o,i+"/bn");return{conv:a,bn:s}},extractSeparableConvParams:r}}function KG(e,t){var n=VV(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),o=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:o}},extractSeparableConvParams:HV(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(BG||(BG={}));var YG=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),$G=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!HG(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"===typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return HG(e.x)&&HG(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(HG)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return EH(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=GG(e,t.conv0);return n=GG(n=kz(n,[2,2],[2,2],"same"),t.conv1),n=GG(n=kz(n,[2,2],[2,2],"same"),t.conv2),n=GG(n=kz(n,[2,2],[2,2],"same"),t.conv3),n=GG(n=kz(n,[2,2],[2,2],"same"),t.conv4),n=GG(n=kz(n,[2,2],[2,2],"same"),t.conv5),n=GG(n=kz(n,[2,2],[1,1],"same"),t.conv6),LV(n=GG(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?VG(LV(e,t.conv0,"valid",!1)):qG(e,t.conv0);return n=qG(n=kz(n,[2,2],[2,2],"same"),t.conv1),n=qG(n=kz(n,[2,2],[2,2],"same"),t.conv2),n=qG(n=kz(n,[2,2],[2,2],"same"),t.conv3),n=qG(n=kz(n,[2,2],[2,2],"same"),t.conv4),n=qG(n=kz(n,[2,2],[2,2],"same"),t.conv5),n=kz(n,[2,2],[1,1],"same"),n=t.conv6?qG(n,t.conv6):n,LV(n=t.conv7?qG(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return KP((function(){var o=e.toBatchTensor(t,!1).toFloat();return o=(o=n.config.meanRgb?XH(o,n.config.meanRgb):o).div(gN(256)),n.config.withSeparableConvs?n.runMobilenet(o,r):n.runTinyYolov2(o,r)}))},t.prototype.forward=function(e,t){return AH(this,void 0,void 0,(function(){var n;return OH(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,CV(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),AH(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,h,p,m=this;return OH(this,(function(v){switch(v.label){case 0:return n=new YG(t),r=n.inputSize,o=n.scoreThreshold,[4,CV(e)];case 1:return i=v.sent(),[4,this.forwardInput(i,r)];case 2:return a=v.sent(),s=KP((function(){return yM(a)[0].expandDims()})),u={width:i.getInputWidth(0),height:i.getInputHeight(0)},[4,this.extractBoxes(s,i.getReshapedInputDimensions(0),o)];case 3:return c=v.sent(),a.dispose(),s.dispose(),l=c.map((function(e){return e.box})),f=c.map((function(e){return e.score})),d=c.map((function(e){return e.classScore})),h=c.map((function(e){return m.config.classes[e.label]})),p=qH(l.map((function(e){return e.rescale(r)})),f,this.config.iouThreshold,!0),[2,p.map((function(e){return new HH(f[e],d[e],h[e],l[e],u)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=KG(e,r),i=o.extractConvParams,a=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?i("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:i("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return jV(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,i=GV(e),a=i.extractWeights,s=i.getRemainingWeights,u=[],c=XG(a,u),l=c.extractConvParams,f=c.extractConvWithBatchNormParams,d=c.extractSeparableConvParams;if(t.withSeparableConvs){var h=r[0],p=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],w=r[7],x=r[8];o={conv0:t.isFirstLayerConv2d?l(h,p,3,"conv0"):d(h,p,"conv0"),conv1:d(p,m,"conv1"),conv2:d(m,v,"conv2"),conv3:d(v,g,"conv3"),conv4:d(g,y,"conv4"),conv5:d(y,b,"conv5"),conv6:w?d(b,w,"conv6"):void 0,conv7:x?d(w,x,"conv7"):void 0,conv8:l(x||w||b,5*n,1,"conv8")}}else h=r[0],p=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],w=r[7],x=r[8],o={conv0:f(h,p,"conv0"),conv1:f(p,m,"conv1"),conv2:f(m,v,"conv2"),conv3:f(v,g,"conv3"),conv4:f(g,y,"conv4"),conv5:f(y,b,"conv5"),conv6:f(b,w,"conv6"),conv7:f(w,x,"conv7"),conv8:l(x,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return AH(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x,k,S,_,E,C,A,O,T,R,I,P=this;return OH(this,(function(N){switch(N.label){case 0:return r=t.width,o=t.height,i=Math.max(r,o),a=i/r,s=i/o,u=e.shape[1],c=this.config.anchors.length,l=KP((function(){var t=e.reshape([u,u,c,P.boxEncodingSize]);return[t.slice([0,0,0,0],[u,u,c,4]),t.slice([0,0,0,4],[u,u,c,1]),P.withClassScores?LM(t.slice([0,0,0,5],[u,u,c,P.config.classes.length]),3):gN(0)]})),f=l[0],d=l[1],h=l[2],p=[],[4,d.array()];case 1:return m=N.sent(),[4,f.array()];case 2:v=N.sent(),g=0,N.label=3;case 3:if(!(g<u))return[3,12];y=0,N.label=4;case 4:if(!(y<u))return[3,11];b=0,N.label=5;case 5:return b<c?(w=KH(m[g][y][b][0]),!n||w>n?(x=(y+KH(v[g][y][b][0]))/u*a,k=(g+KH(v[g][y][b][1]))/u*s,S=Math.exp(v[g][y][b][2])*this.config.anchors[b].x/u*a,_=Math.exp(v[g][y][b][3])*this.config.anchors[b].y/u*s,E=x-S/2,C=k-_/2,A={row:g,col:y,anchor:b},this.withClassScores?[4,this.extractPredictedClass(h,A)]:[3,7]):[3,9]):[3,10];case 6:return I=N.sent(),[3,8];case 7:I={classScore:1,label:0},N.label=8;case 8:T=(O=I).classScore,R=O.label,p.push(CH({box:new WH(E,C,E+S,C+_),score:w,classScore:w*T,label:R},A)),N.label=9;case 9:return b++,[3,5];case 10:return y++,[3,4];case 11:return g++,[3,3];case 12:return f.dispose(),d.dispose(),h.dispose(),[2,p]}}))}))},t.prototype.extractPredictedClass=function(e,t){return AH(this,void 0,void 0,(function(){var n,r,o,i;return OH(this,(function(a){switch(a.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return i=a.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return i[n][r][o][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(NV),ZG=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:UG,meanRgb:WG}:{anchors:zG,withClassScores:!0});return e.call(this,n)||this}return EH(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return AH(this,void 0,void 0,(function(){return OH(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new VH(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}($G);var QG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return EH(t,e),t}(YG),JG=function(){function e(){}return e.prototype.then=function(e){return AH(this,void 0,void 0,(function(){var t;return OH(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return AH(this,void 0,void 0,(function(){return OH(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function eq(e,t){var n={descriptor:t};return Object.assign({},e,n)}function tq(e,t,n,r,o){return void 0===o&&(o=function(e){return e.alignedRect}),AH(this,void 0,void 0,(function(){var i,a,s,u,c;return OH(this,(function(l){switch(l.label){case 0:return i=e.map((function(e){return rG(e)?o(e):e.detection})),(s=r)?[3,5]:t instanceof CI?[4,OV(t,i)]:[3,2];case 1:return u=l.sent(),[3,4];case 2:return[4,AV(t,i)];case 3:u=l.sent(),l.label=4;case 4:s=u,l.label=5;case 5:return[4,n(a=s)];case 6:return c=l.sent(),a.forEach((function(e){return e instanceof CI&&e.dispose()})),[2,c]}}))}))}function nq(e,t,n,r,o){return AH(this,void 0,void 0,(function(){var i=this;return OH(this,(function(a){return[2,tq([e],t,(function(e){return AH(i,void 0,void 0,(function(){return OH(this,(function(t){return[2,n(e[0])]}))}))}),r,o)]}))}))}var rq=2,oq=12;function iq(e){var t=GV(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=function(e,t){var n=BV(e,t),r=zV(e,t);function o(n,r){var o=yN(e(n));return t.push({paramPath:r}),o}function i(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:o(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:o(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:o(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=i([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return CH(CH({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=i([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=o(128,"rnet/prelu4_alpha"),a=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return CH(CH({},e),{fc1:t,prelu4_alpha:n,fc2_1:a,fc2_2:s})},extractONetParams:function(){var e=i([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),a=o(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),u=o(256,"onet/prelu5_alpha"),c=r(256,2,"onet/fc2_1"),l=r(256,4,"onet/fc2_2"),f=r(256,10,"onet/fc2_3");return CH(CH({},e),{conv4:t,prelu4_alpha:a,fc1:s,prelu5_alpha:u,fc2_1:c,fc2_2:l,fc2_3:f})}}}(n,o),a=i.extractPNetParams,s=i.extractRNetParams,u=i.extractONetParams,c=a(),l=s(),f=u();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:l,onet:f},paramMappings:o}}function aq(e){var t=[],n=function(e,t){var n=VV(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function i(e){return n(e,1)}function a(e){return{conv1:r(e+"/conv1"),prelu1_alpha:i(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:i(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:i(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return CH(CH({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=a("rnet"),t=o("rnet/fc1"),n=i("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),s=o("rnet/fc2_2");return CH(CH({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=a("onet"),t=r("onet/conv4"),n=i("onet/prelu4_alpha"),s=o("onet/fc1"),u=i("onet/prelu5_alpha"),c=o("onet/fc2_1"),l=o("onet/fc2_2"),f=o("onet/fc2_3");return CH(CH({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:u,fc2_1:c,fc2_2:l,fc2_3:f})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,i=n.extractONetParams,a=r(),s=o(),u=i();return jV(e,t),{params:{pnet:a,rnet:s,onet:u},paramMappings:t}}function sq(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var uq=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return EH(t,e),t}(UH);function cq(e){return KP((function(){return TB(MB(e,gN(127.5)),gN(.0078125))}))}function lq(e,t){return KP((function(){return mB(Xz(e),TB(t,Nj(Xz(Nj(e)))))}))}function fq(e,t,n){return void 0===n&&(n=!1),KP((function(){var r=LV(e,t.conv1,"valid");return r=lq(r,t.prelu1_alpha),r=lq(r=LV(r=kz(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=lq(r=LV(r=n?r:kz(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function dq(e,t,n,r,o){o.stage1=[];var i=t.map((function(t){return KP((function(){var n={scale:t},o=function(e,t){return KP((function(){var n=sq(t,e.shape.slice(1)),r=n.height,o=n.width,i=cq(WU.resizeBilinear(e,[r,o]));return $z(i,[0,2,1,3])}))}(e,t),i=Date.now(),a=function(e,t){return KP((function(){var n=fq(e,t,!0),r=LV(n,t.conv4_1,"valid"),o=JN(jz(r,3),3);return{prob:LM(MB(r,o),3),regions:LV(n,t.conv4_2,"valid")}}))}(o,r),s=a.prob,u=a.regions;return n.pnet=Date.now()-i,{scoresTensor:yM(yM(s,3)[1])[0],regionsTensor:yM(u)[0],scale:t,statsForScale:n}}))})),a=i.map((function(e){var t=e.scoresTensor,r=e.regionsTensor,i=e.scale,a=e.statsForScale,s=function(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=r&&o.push(new zH(s,a));return o.map((function(e){var r=new WH(Math.round((e.y*rq+1)/n),Math.round((e.x*rq+1)/n),Math.round((e.y*rq+oq)/n),Math.round((e.x*rq+oq)/n)),o=i[e.y][e.x],a=t.arraySync();return{cell:r,score:o,region:new uq(a[e.y][e.x][0],a[e.y][e.x][1],a[e.y][e.x][2],a[e.y][e.x][3])}}))}(t,r,i,n);if(t.dispose(),r.dispose(),!s.length)return o.stage1.push(a),[];var u=Date.now(),c=qH(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return a.nms=Date.now()-u,a.numBoxes=c.length,o.stage1.push(a),c.map((function(e){return s[e]}))})),s=a.reduce((function(e,t){return e.concat(t)}),[]),u=[],c=[];if(s.length>0){var l=Date.now(),f=qH(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.7);o.stage1_nms=Date.now()-l,c=f.map((function(e){return s[e].score})),u=f.map((function(e){return s[e]})).map((function(e){var t=e.cell,n=e.region;return new WH(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:u,scores:c}}function hq(e,t,n){var r=n.width,o=n.height;return AH(this,void 0,void 0,(function(){var n,i,a,s=this;return OH(this,(function(u){switch(u.label){case 0:return n=mV(e),[4,Promise.all(t.map((function(t){return AH(s,void 0,void 0,(function(){var r,o,i,a,s,u,c,l;return OH(this,(function(f){return r=t.padAtBorders(e.height,e.width),o=r.y,i=r.ey,a=r.x,s=r.ex,u=a-1,c=o-1,l=n.getImageData(u,c,s-u,i-c),[2,hV.isNodejs()?kV(l):createImageBitmap(l)]}))}))})))];case 1:return i=u.sent(),a=[],i.forEach((function(e){var t=mV(xV({width:r,height:o}));t.drawImage(e,0,0,r,o);for(var n=t.getImageData(0,0,r,o).data,i=[],s=0;s<n.length;s+=4)i.push(n[s+2]),i.push(n[s+1]),i.push(n[s]);a.push(i)})),[2,a.map((function(e){return KP((function(){return cq($z(xN(e,[1,r,o,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function pq(e,t,n,r,o){return AH(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,h,p,m,v,g,y;return OH(this,(function(b){switch(b.label){case 0:return i=Date.now(),[4,hq(e,t,{width:24,height:24})];case 1:return a=b.sent(),o.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return KP((function(){var n=fq(e,t),r=lq($V(dM(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),o=$V(r,t.fc2_1),i=JN(jz(o,1),1),a=LM(MB(o,i),1),s=$V(r,t.fc2_2);return{scores:yM(a,1)[1],regions:s}}))}(e,r);return e.dispose(),t})),o.stage2_rnet=Date.now()-i,u=s.length>1?ON(s.map((function(e){return e.scores}))):s[0].scores,f=(l=Array).from,[4,u.data()];case 2:return c=f.apply(l,[b.sent()]),u.dispose(),d=c.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),h=d.map((function(e){return t[e]})),p=d.map((function(e){return c[e]})),m=[],v=[],h.length>0&&(i=Date.now(),g=qH(h,p,.7),o.stage2_nms=Date.now()-i,y=g.map((function(e){var t=s[d[e]].regions.arraySync();return new uq(t[0][0],t[0][1],t[0][2],t[0][3])})),v=g.map((function(e){return p[e]})),m=g.map((function(e,t){return h[e].calibrate(y[t])}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:m,scores:v}]}}))}))}function mq(e,t,n,r,o){return AH(this,void 0,void 0,(function(){var i,a,s,u,c,l,f,d,h,p,m,v,g,y,b;return OH(this,(function(w){switch(w.label){case 0:return i=Date.now(),[4,hq(e,t,{width:48,height:48})];case 1:return a=w.sent(),o.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return KP((function(){var n=fq(e,t);n=lq(n=LV(n=kz(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=lq($V(dM(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),o=$V(r,t.fc2_1),i=JN(jz(o,1),1),a=LM(MB(o,i),1),s=$V(r,t.fc2_2),u=$V(r,t.fc2_3);return{scores:yM(a,1)[1],regions:s,points:u}}))}(e,r);return e.dispose(),t})),o.stage3_onet=Date.now()-i,u=s.length>1?ON(s.map((function(e){return e.scores}))):s[0].scores,f=(l=Array).from,[4,u.data()];case 2:return c=f.apply(l,[w.sent()]),u.dispose(),d=c.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),h=d.map((function(e){var t=s[e].regions.arraySync();return new uq(t[0][0],t[0][1],t[0][2],t[0][3])})),p=d.map((function(e,n){return t[e].calibrate(h[n])})),m=d.map((function(e){return c[e]})),v=[],g=[],y=[],p.length>0&&(i=Date.now(),b=qH(p,m,.7,!1),o.stage3_nms=Date.now()-i,v=b.map((function(e){return p[e]})),g=b.map((function(e){return m[e]})),y=b.map((function(e,t){return Array(5).fill(0).map((function(n,r){var o=s[e].points.arraySync();return new zH(o[0][r]*(v[t].width+1)+v[t].left,o[0][r+5]*(v[t].height+1)+v[t].top)}))}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:v,scores:g,points:y}]}}))}))}var vq=function(e){function t(){return e.call(this,"Mtcnn")||this}return EH(t,e),t.prototype.load=function(t){return AH(this,void 0,void 0,(function(){return OH(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return AH(this,void 0,void 0,(function(){return OH(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),AH(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,v,g,y,b,w,x,k;return OH(this,(function(S){switch(S.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},i=Date.now(),a=KP((function(){return e=JN(uH.fromPixels(r)).toFloat(),KP((function(){return mM(yM(e,3).reverse(),3)}));var e})),s=function(e){return a.dispose(),o.total=Date.now()-i,e},u=a.shape.slice(1),c=u[0],l=u[1],f=new OG(t),d=f.minFaceSize,h=f.scaleFactor,p=f.maxNumScales,m=f.scoreThresholds,v=f.scaleSteps,g=(v||function(e,t,n){for(var r=n[0],o=n[1],i=oq/e,a=[],s=Math.min(r,o)*i,u=0;s>=12;)a.push(i*Math.pow(t,u)),s*=t,u+=1;return a}(d,h,[c,l])).filter((function(e){var t=sq(e,[c,l]);return Math.min(t.width,t.height)>oq})).slice(0,p),o.scales=g,o.pyramid=g.map((function(e){return sq(e,[c,l])})),y=Date.now(),[4,dq(a,g,m[0],n.pnet,o)];case 1:return b=S.sent(),o.total_stage1=Date.now()-y,b.boxes.length?(o.stage2_numInputBoxes=b.boxes.length,y=Date.now(),[4,pq(r,b.boxes,m[1],n.rnet,o)]):[2,s({results:[],stats:o})];case 2:return w=S.sent(),o.total_stage2=Date.now()-y,w.boxes.length?(o.stage3_numInputBoxes=w.boxes.length,y=Date.now(),[4,mq(r,w.boxes,m[2],n.onet,o)]):[2,s({results:[],stats:o})];case 3:return x=S.sent(),o.total_stage3=Date.now()-y,k=x.boxes.map((function(e,t){return oG(oV({},new VH(x.scores[t],new $H(e.left/l,e.top/c,e.width/l,e.height/c),{height:c,width:l})),new QH(x.points[t].map((function(t){return t.sub(new zH(e.left,e.top)).div(new zH(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,s({results:k,stats:o})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),AH(this,void 0,void 0,(function(){var n;return OH(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,CV(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),AH(this,void 0,void 0,(function(){var n;return OH(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,CV(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return aq(e)},t.prototype.extractParams=function(e){return iq(e)},t}(NV),gq=[new zH(1.603231,2.094468),new zH(6.041143,7.080126),new zH(2.882459,3.518061),new zH(4.266906,5.178857),new zH(9.041765,10.66308)],yq=[117.001,114.697,97.404],bq=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:gq,meanRgb:yq,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return EH(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return AH(this,void 0,void 0,(function(){return OH(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new VH(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}($G),wq={ssdMobilenetv1:new jG,tinyFaceDetector:new bq,tinyYolov2:new ZG,mtcnn:new vq,faceLandmark68Net:new mG,faceLandmark68TinyNet:new gG,faceRecognitionNet:new CG,faceExpressionNet:new tG,ageGenderNet:new hG};function xq(e,t){var n={age:t};return Object.assign({},e,n)}var kq=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return EH(t,e),t}(JG),Sq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n=this;return OH(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,tq(e=r.sent(),this.input,(function(e){return AH(n,void 0,void 0,(function(){return OH(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return wq.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return nG(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new Oq(this,this.input)},t}(kq),_q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t;return OH(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,nq(e,this.input,(function(e){return wq.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,nG(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new Tq(this,this.input)},t}(kq),Eq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.withAgeAndGender=function(){return new Rq(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Nq(this,this.input)},t}(Sq),Cq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.withAgeAndGender=function(){return new Iq(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Mq(this,this.input)},t}(_q),Aq=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return EH(t,e),t}(JG),Oq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n=this;return OH(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,tq(e=r.sent(),this.input,(function(e){return AH(n,void 0,void 0,(function(){return OH(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return wq.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],o=r.age;return xq(AG(e,r.gender,r.genderProbability),o)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Sq(this,this.input)},t}(Aq),Tq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n,r,o;return OH(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?[4,nq(e,this.input,(function(e){return wq.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=i.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,xq(AG(e,r,o),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new _q(this,this.input)},t}(Aq),Rq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.withFaceExpressions=function(){return new Eq(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Nq(this,this.input)},t}(Oq),Iq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.withFaceExpressions=function(){return new Cq(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Mq(this,this.input)},t}(Tq),Pq=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return EH(t,e),t}(JG),Nq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e;return OH(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,tq(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return wq.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return eq(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Eq(this,this.input)},t.prototype.withAgeAndGender=function(){return new Rq(this,this.input)},t}(Pq),Mq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t;return OH(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,nq(e,this.input,(function(e){return wq.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,eq(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new Cq(this,this.input)},t.prototype.withAgeAndGender=function(){return new Iq(this,this.input)},t}(Pq),Dq=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return EH(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?wq.faceLandmark68TinyNet:wq.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(JG),Fq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return OH(this,(function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),t=e.map((function(e){return e.detection})),this.input instanceof CI?[4,OV(this.input,t)]:[3,3];case 2:return r=a.sent(),[3,5];case 3:return[4,AV(this.input,t)];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,Promise.all(n.map((function(e){return i.landmarkNet.detectLandmarks(e)})))];case 6:return o=a.sent(),n.forEach((function(e){return e instanceof CI&&e.dispose()})),[2,e.map((function(e,t){return oG(e,o[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Eq(this,this.input)},t.prototype.withAgeAndGender=function(){return new Rq(this,this.input)},t.prototype.withFaceDescriptors=function(){return new Nq(this,this.input)},t}(Dq),Lq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n,r,o;return OH(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?(t=e.detection,this.input instanceof CI?[4,OV(this.input,[t])]:[3,3]):[2];case 2:return r=i.sent(),[3,5];case 3:return[4,AV(this.input,[t])];case 4:r=i.sent(),i.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return o=i.sent(),n.forEach((function(e){return e instanceof CI&&e.dispose()})),[2,oG(e,o)]}}))}))},t.prototype.withFaceExpressions=function(){return new Cq(this,this.input)},t.prototype.withAgeAndGender=function(){return new Iq(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Mq(this,this.input)},t}(Dq),jq=function(e){function t(t,n){void 0===n&&(n=new LG);var r=e.call(this)||this;return r.input=t,r.options=n,r}return EH(t,e),t}(JG),Bq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t,n,r;return OH(this,(function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof OG?[4,wq.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map((function(e){return e.detection}))];case 2:if(r=n instanceof QG?function(e){return wq.tinyFaceDetector.locateFaces(e,n)}:n instanceof LG?function(e){return wq.ssdMobilenetv1.locateFaces(e,n)}:n instanceof YG?function(e){return wq.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return AH(e,void 0,void 0,(function(){var e;return OH(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return oV({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Fq(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Sq(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new Oq(this.runAndExtendWithFaceDetections(),this.input)},t}(jq);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}EH(t,e),t.prototype.run=function(){return AH(this,void 0,void 0,(function(){var e,t;return OH(this,(function(n){switch(n.label){case 0:return[4,new Bq(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return AH(e,void 0,void 0,(function(){var e;return OH(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?oV({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Lq(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new _q(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new Tq(this.runAndExtendWithFaceDetection(),this.input)}}(jq);!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof nV)return e;if(e instanceof Float32Array)return new nV(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new nV(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,o=n.label;return new eV(o,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new eV("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){var n=t.labeledDescriptors.map((function(e){return nV.fromJSON(e)}));return new e(n,t.distanceThreshold)}}();function zq(e,t){var n=new RH(t.width,t.height),r=n.width,o=n.height;if(r<=0||o<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:o}));if(Array.isArray(e))return e.map((function(e){return zq(e,{width:r,height:o})}));if(rG(e)){var i=e.detection.forSize(r,o),a=e.unshiftedLandmarks.forSize(i.box.width,i.box.height);return oG(oV(e,i),a)}return rV(e)?oV(e,e.detection.forSize(r,o)):e instanceof ZH||e instanceof VH?e.forSize(r,o):e}var Uq=n(7087),Wq=n(6203),Hq=n(3239);const Vq=(0,t.createContext)(),Gq=e=>{let{children:n}=e;const{cameraState:r,mobileLens:o,mode:i,videoRef:a,canvasRef:s,handleCaptureImg:u}=(0,t.useContext)(oy),[c,l]=(0,t.useState)(!0),[f,d]=(0,t.useState)(null);function h(e,t,n,r,o){const i=e.getContext("2d");i.beginPath(),i.lineWidth=r,i.strokeStyle=n;const a=t.detection._box,s=a.x,u=a.y,c=a.width,l=a.height;i.moveTo(s+o,u),i.arcTo(s,u,s,u+o,o),i.moveTo(s+c-o,u),i.arcTo(s+c,u,s+c,u+o,o),i.moveTo(s+c,u+l-o),i.arcTo(s+c,u+l,s+c-o,u+l,o),i.moveTo(s,u+l-o),i.arcTo(s,u+l,s+o,u+l,o),i.stroke()}let p;const[m,v]=(0,t.useState)([]),g=e=>{const t=s.current;if(!t)return;const n=t.getContext("2d");if(n.clearRect(0,0,640,480),n.drawImage(e.image,0,0,640,480),e.multiFaceLandmarks)for(const r of e.multiFaceLandmarks)(0,Hq.drawConnectors)(n,r,Uq.FaceMesh.FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:1}),(0,Hq.drawLandmarks)(n,r,{color:"#FF3030",lineWidth:2});if(e.multiHandLandmarks)for(const r of e.multiHandLandmarks)(0,Hq.drawConnectors)(n,r,Wq.Hands.HAND_CONNECTIONS,{color:"#00FF00",lineWidth:5}),(0,Hq.drawLandmarks)(n,r,{color:"#FF0000",lineWidth:2})};return(0,tu.jsx)(Vq.Provider,{value:{detectFace:c,setDetectFace:l,smileTimes:m,setSmileTimes:v,loadFaceModels:async()=>{let e="./models";try{await Promise.all([wq.tinyFaceDetector.loadFromUri(e),wq.faceLandmark68Net.loadFromUri(e),wq.faceExpressionNet.loadFromUri(e)])}catch(t){console.error("Error loading models:",t)}},drawCustomRect:h,detectFacesInVideo:async(e,t)=>{try{if(a.current&&s.current){const n=a.current,r=s.current,c={width:e,height:t};!function(e,t,n){void 0===n&&(n=!1);var r=n?wV(t):t,o=r.width,i=r.height;e.width=o,e.height=i}(r,c);let l=[];p=setInterval((async()=>{var e,t;const a=zq(await(e=n,t=new QG,void 0===t&&(t=new LG),new Bq(e,t)).withFaceLandmarks().withFaceExpressions(),c),s=r.getContext("2d");s.clearRect(0,0,r.width,r.height),s.save(),Pl.Fr&&o.LensState?(s.scale(1,1),s.translate(0,0)):(s.scale(-1,1),s.translate(-r.width,0)),a.forEach((e=>{e&&e.detection&&h(r,e,"#00967b",2,25);const{expressions:t}=e;t.happy&&t.happy>.5?l.length<5?(v((e=>[...e,"smile"])),l.push("smile")):(u(0,i),v([]),l=[]):(l=[],v([]))})),s.restore()}),500),d(p)}}catch(n){console.log(n)}},stopDetectingFaces:e=>{if(f){clearInterval(f),d(null);const t=s.current;if(!e&&t){const e=t.getContext("2d");e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),e.restore(),setTimeout((()=>{e.clearRect(0,0,t.width,t.height)}),250)}}},loadMediapipe:async()=>{const e=new Uq.FaceMesh({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/".concat(e)}),t=new Wq.Hands({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/hands/".concat(e)});e.setOptions({maxNumFaces:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),t.setOptions({maxNumHands:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),e.onResults(g),t.onResults(g),a.current&&r&&setInterval((async()=>{if(a.current)try{await e.send({image:a.current}),await t.send({image:a.current})}catch(n){console.error("Error during frame processing",n)}}),1e3/30)}},children:n})};var qq,Xq,Kq,Yq,$q,Zq,Qq;const Jq=()=>{const{cameraState:e,btnScreenShotRef:n,mobileLens:r,mode:o,capturedImg:i,reCapture:a,setReCapture:s,imgQuality:u,setImgQuality:c,imgTaking:l,setChooseImg:f,videoRef:d,canvasRef:h,getVideoStream:p,turnOffVideoStream:m,handleCaptureImg:v,recaptureImg:g,getVideoRef:y,turnOffVideoRef:b}=(0,t.useContext)(oy),{detectFace:w,loadFaceModels:x,detectFacesInVideo:k,stopDetectingFaces:S}=(0,t.useContext)(Vq),{smileDetect:_,postureDetect:E}=(0,t.useContext)(ny),{handleMaker:C,postureModels:A,detect:O,stopDetection:T}=(0,t.useContext)(kO),{voiceVolume:R}=(0,t.useContext)(YT),{t:I,i18n:P}=Ks(),N={quality:"zh"===P.language?"\u54c1\u8cea":"Quality",delay:"zh"===P.language?"\u5ef6\u9072":"Delay"},M={center:{name:"",fn:()=>{v(0,o)}},top:{category:N.quality,name:()=>{const e={en:["lower","general","higher"],zh:["\u4f4e\u756b\u8cea","\u666e\u901a","\u9ad8\u756b\u8cea"]},t="zh"===P.language?e.zh:e.en;return"general"!==o?t[1]:t[e.en.indexOf(u)]},fn:()=>{const e=["lower","general","higher"];if("general"!==o)c(e[1]);else{let t=e.indexOf(u)+1;t>e.length-1&&(t=0),c(e[t])}}},right:{category:N.delay,name:"3s",fn:()=>{v(3,o)}},down:{category:N.delay,name:"5s",fn:()=>{v(5,o)}},left:{category:N.delay,name:"10s",fn:()=>{v(10,o)}}};return(0,t.useEffect)((()=>{w&&Promise.resolve().then((()=>(x(),Promise.resolve())))}),[w]),(0,t.useEffect)((()=>{!a&&e&&l&&_?Pl.Fr?k(540,960):k(960,540):S(a)}),[e,a,l,h,Pl.Fr,_]),(0,t.useEffect)((()=>{if(!a&&A&&E&&d.current&&e&&C&&l){const{handMarker:e,gestureRecognizer:t,faceMarker:n}=C;O(d,e,t,n)}else T(a,h)}),[e,a,l,A,d.current,C,E,h,l]),(0,tu.jsxs)(eX,{style:{visibility:l?"":"hidden"},children:[(0,tu.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e?(0,tu.jsx)(tX,{ref:b,onClick:()=>m(),disabled:!l,children:I("videoCapture.disable")}):(0,tu.jsx)(tX,{ref:y,onClick:()=>p(e,r.LensState),children:I("videoCapture.enable")})}),(0,tu.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",height:"164px"},children:a?(0,tu.jsx)(nX,{ref:n,$voiceVolume:R,$i18n:P,onClick:()=>{l&&g(e,d,P.language)},children:(0,tu.jsx)("span",{style:{margin:"auto"},children:I("videoCapture.recapture")})}):(0,tu.jsx)(eR,{data:M})}),(0,tu.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:Pl.Fr?(0,tu.jsxs)("div",{children:[(0,tu.jsx)("div",{style:{margin:"auto",width:"50px",aspectRatio:"1",border:"1px solid #ffffff30",overflow:"hidden"},children:i[0]&&(0,tu.jsx)("img",{src:i[0],alt:"",style:{width:"100%",height:"100%",objectFit:"cover"},onClick:()=>{f(0),a||s(!0)}})}),(0,tu.jsx)(uR,{})]}):(0,tu.jsx)(uR,{})})]})},eX=Nr.div.attrs({className:"CaptureBtnArea"})(qq||(qq=Fr(["\n    /* position:","; */\n    /* position: fixed; */\n    /* padding-block: 2rem; */\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    max-width: 640px;\n    bottom:",";\n    /* z-index: 3; */\n    z-index: 12;\n"])),Pl.Fr?"absolute":"relative",(Pl.Fr,"3rem")),tX=Nr.button.attrs({className:"BtnFunction"})(Xq||(Xq=Fr(["\n    color: "," !important;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    background: transparent;\n    align-items: center;\n    font-weight: bolder;\n    /* font-size:large; */\n    ","\n    width: 4rem;\n    height: 4rem;\n    margin-inline: 0.5rem;\n    border-radius: 50%;\n    border: none;\n    white-space: break-spaces;\n    box-shadow: ",";\n    cursor: pointer;\n    ",";\n    &:hover {\n        ","\n    }\n\n    &:active {\n        ","\n    }\n"])),(e=>(e.theme.btnCaptureText,"".concat(e.theme.btnCaptureText))),Ml,(e=>"0 0 0 5px ".concat(e.theme.textColor)),Nl,!Pl.Fr&&Rr(Kq||(Kq=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 5px ".concat(e.theme.textColorHover))),Pl.Fr&&Rr(Yq||(Yq=Fr(["\n            & {\n                box-shadow: ",";\n            }\n        "])),(e=>"0 0 0 5px ".concat(e.theme.textColorHover)))),nX=Nr.button.attrs({className:"BtnScreenshot"})($q||($q=Fr(["\n    position: relative;\n    display: flex;\n    width: 100px;\n    height: 100px;\n    background: ",";\n    /* font-size: large; */\n    font-size: ",";\n    font-weight: bold;\n    border: 0;\n    border-radius: 50%;\n    /* box-shadow: ","; */\n    border:",";\n    margin-block: 2rem;\n    cursor: pointer;\n    ",";\n    &:hover {\n        ",";\n    }\n    &:active {\n        ",'\n    }\n\n    &::before {\n        content:"";\n        position: absolute;\n        max-width: 120%;\n        max-height: 120%;\n        width: ',";\n        height: ",";\n        left:50%;\n        top: 50%;\n        border-radius: 50%;\n        transform:translate(-50%, -50%);\n        /* box-shadow: ","; */\n        border:",";\n        transition: width 0.2s, height 0.2s;\n    }\n"])),(e=>e.theme.blurBg),(e=>"zh"===e.$i18n.language?"large":"small"),(e=>"0 0 0 8px ".concat(e.theme.boxShadow)),(e=>"8px solid ".concat(e.theme.boxShadow)),Nl,!Pl.Fr&&Rr(Zq||(Zq=Fr(["\n            /* box-shadow: ","; */\n            border:",";\n        "])),(e=>"0 0 0px 8px ".concat(e.theme.boxShadowHover)),(e=>"8px solid ".concat(e.theme.boxShadowHover))),Pl.Fr&&Rr(Qq||(Qq=Fr(["\n            /* box-shadow: ","; */\n            border:",";\n        "])),(e=>"0 0 0px 8px ".concat(e.theme.boxShadowHover)),(e=>"8px solid ".concat(e.theme.boxShadowHover))),(e=>100*(1+e.$voiceVolume)+"%"),(e=>100*(1+e.$voiceVolume)+"%"),(e=>"0 0 0 1px ".concat(e.theme.boxShadow)),(e=>"1px solid ".concat(e.theme.boxShadow)));var rX,oX;const iX=()=>{const{mobileLens:e,setMobileLens:n,imgTaking:r,getVideoStream:o,turnOffVideoStream:i}=(0,t.useContext)(oy),a=()=>{let t=!e.LensState;Promise.resolve().then((()=>(n((e=>({...e,LensState:t}))),Promise.resolve()))).then((()=>(i(),Promise.resolve()))).then((()=>(o(null,t),Promise.resolve())))};return(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsx)(sX,{style:{visibility:r?"":"hidden"},children:(0,tu.jsx)(Fl,{children:(0,tu.jsx)(gs,{icon:_s,onClick:a})})}),(0,tu.jsx)(uX,{style:{visibility:r?"":"hidden"},children:(0,tu.jsx)(Fl,{children:(0,tu.jsx)(gs,{icon:_s,onClick:a})})})]})},aX=(0,t.memo)(iX),sX=Nr.div(rX||(rX=Fr(["\n    display: none;\n    @media (min-width: 992px) {\n        display: block;\n        position: absolute;\n        top: 2vh;\n        left: 1rem;\n        z-index: 11;\n    }\n"]))),uX=Nr.div(oX||(oX=Fr(["\n    display: none;\n    @media (max-width: 992px) {\n        display: block;\n        position: absolute;\n        top: 50%;\n        right: 1rem;\n        transform: translateY(75%);\n        z-index: 11;\n    }\n"])));var cX,lX,fX,dX,hX,pX,mX,vX,gX,yX,bX,wX,xX,kX,SX,_X,EX,CX;const AX=()=>{var e,n;const{t:r,i18n:o}=Ks(),{smileDetect:i,postureDetect:a}=(0,t.useContext)(ny),{cameraState:s,setMobile:u,cameraSizeRatio:c,setCameraSizeRatio:l,mobileLens:f,capturedImg:d,reCapture:h,setReCapture:p,imgTaking:m,chooseImg:v,setChooseImg:g,videoRef:y,canvasRef:b,getVideoStream:w,turnOffVideoStream:x,messageShow:k,progressLineRef:S}=(0,t.useContext)(oy),{smileTimes:_}=(0,t.useContext)(Vq),{postureCtrl:E}=(0,t.useContext)(kO);(0,t.useEffect)((()=>{k(".mediaArea","\u958b\u555f\u76f8\u6a5f\u9032\u884c\u62cd\u7167","Turn on the camera to take pictures",2,!1),Pl.Fr?((()=>{const e=e=>{e.preventDefault()};document.addEventListener("touchmove",e,{passive:!1})})(),u(!0),l((e=>({...e,ratio:.5625,width:1080,height:1920})))):u(!1)}),[]),(0,t.useEffect)((()=>()=>{s&&s.getTracks().forEach((e=>e.stop()))}),[s]);const C=(0,t.useRef)(y.current),[A,O]=(0,t.useState)(null);(0,t.useEffect)((()=>{C.current=y.current;const e=()=>{const e=C.current.videoWidth/C.current.videoHeight;O(e)};return C.current&&C.current.addEventListener("loadedmetadata",e),()=>{C.current&&C.current.removeEventListener("loadedmetadata",e)}}),[y]),(0,t.useEffect)((()=>{const e=()=>{s&&Promise.resolve().then((()=>(x(),Promise.resolve()))).then((()=>(w(null,f.LensState),Promise.resolve()))).catch((e=>{console.error("Error turning off video stream:",e)}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[s]);const T=(0,t.useRef)(null),R=e=>{T.current&&(e.preventDefault(),T.current.scrollLeft+=3*e.deltaY)};return(0,tu.jsxs)(RX,{children:[(0,tu.jsxs)(IX,{children:[(0,tu.jsxs)(PX,{children:[Pl.Fr&&!h&&s&&(0,tu.jsx)(aX,{}),(0,tu.jsxs)(NX,{className:"mediaArea",children:[y.current&&b.current&&s&&!h&&(0,tu.jsx)(MX,{style:{height:null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.clientHeight,width:null===y||void 0===y||null===(n=y.current)||void 0===n?void 0:n.clientWidth},children:(0,tu.jsx)(DX,{ref:S})}),(0,tu.jsx)(FX,{style:{display:h?"none":""},size:c,ref:y,$lence:f,autoPlay:!0,playsInline:!0}),!h&&s&&(0,tu.jsx)("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",backgroundColor:"rgb(157 157 157 / 74%)",borderRadius:"0.5rem",padding:"0.5rem",backdropFilter:"blur(10px)"},children:(0,tu.jsx)("table",{children:(0,tu.jsxs)("tbody",{children:[i&&(0,tu.jsxs)("tr",{children:[(0,tu.jsx)("td",{style:{padding:"0.1rem"},children:"\u5fae\u7b11"}),(0,tu.jsx)("td",{children:(0,tu.jsx)(gs,{style:{marginRight:"0.5rem",color:_.length?"#fff500":"",opacity:_.length?_.length/5:"1",transition:"all 0.3s"},icon:Rs})})]}),a&&(0,tu.jsx)(tu.Fragment,{children:(0,tu.jsxs)("tr",{children:[(0,tu.jsx)("td",{children:"\u624b\u52e2"}),(0,tu.jsxs)("td",{children:[(0,tu.jsx)(gs,{style:{color:E.touchFace&&"Open_Palm"===E.handPosture||E.touchFace&&"Thumb_Up"===E.handPosture?"#fff500":"",transition:"all 0.3s"},icon:xs}),(0,tu.jsx)("span",{style:{marginInline:"0.5rem"},children:"\u2192"}),(0,tu.jsx)(gs,{style:{color:E.touchFace&&"Thumb_Up"===E.handPosture?"#fff500":"",transition:"all 0.3s"},icon:Ps})]})]})})]})})}),!h&&s&&(0,tu.jsx)(LX,{ref:b,style:{aspectRatio:A}}),(0,tu.jsx)(jX,{size:c,children:(0,tu.jsx)(BX,{children:0!==d.length&&h&&(0,tu.jsx)(ly,{captureImg:d})})})]})]}),(0,tu.jsx)(zX,{ref:T,onMouseEnter:()=>{T.current&&T.current.addEventListener("wheel",R)},onMouseLeave:()=>{T.current&&T.current.removeEventListener("wheel",R)},style:{pointerEvents:m?"auto":"none"},children:(0,tu.jsx)(UX,{children:d.map(((e,t)=>(0,tu.jsx)(WX,{src:e,alt:"Captured".concat(t),$active:t===v?"true":"",onClick:()=>{g(t),h||p(!0)}},t)))})}),(0,tu.jsx)(HX,{children:(0,tu.jsx)(Jq,{})})]}),h&&(0,tu.jsx)(IO,{}),!h&&(0,tu.jsx)(qT,{})]})},OX=(0,t.memo)(AX),TX=Mr(cX||(cX=Fr(["\n    from {\n        border-image: linear-gradient(to bottom right, #ff006a, #2a4aff) 1;\n    }\n    25% {\n        border-image: linear-gradient(to bottom left, #ff006a, #2a4aff) 1;\n    }\n    50% {\n        border-image: linear-gradient(to top left, #ff006a, #2a4aff) 1;\n    }\n    75% {\n        border-image: linear-gradient(to top right, #ff006a, #2a4aff) 1;\n    }\n    to {\n        border-image: linear-gradient(to bottom right, #ff006a, #2a4aff) 1;\n    }\n"]))),RX=Nr.div.attrs({className:"VideoCaptureAreaDiv"})(lX||(lX=Fr(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    \n"]))),IX=Nr.div.attrs({className:"VideoCaptureAreaInsideDiv"})(fX||(fX=Fr(["\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    /* max-width: 560px; */\n    max-width: 640px;\n    width: 100%;\n    @media (max-width: 992px) {\n        max-width: 100%;\n        height: 100%;\n    }\n    \n"]))),PX=Nr.div.attrs({className:"VideoAreaDiv"})(dX||(dX=Fr(["\n    width: 100%;\n    max-height: 360px;\n    height: 45vh;\n    /* background-color: aquamarine; */\n    /* padding-block: 0.5rem; */\n    @media (max-width: 992px) {\n        height: 100%;\n        max-height: 100%;\n        padding-block: 0;\n    }\n"]))),NX=Nr.div.attrs({className:"VideoDiv"})(hX||(hX=Fr(["\n    /* display: none; */\n    overflow: hidden;\n    position: relative;//canvas\u4f7f\u7528\n    height: 100%;\n    width: 100%;\n    @media (min-width: 992px) {\n        border:",";\n    }\n"])),(e=>Pl.Fr?"none":"1px solid ".concat(e.theme.border))),MX=Nr.div.attrs({className:"CanvasProgessDiv"})(pX||(pX=Fr(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 1;\n    /* background-color: red; */\n"]))),DX=Nr.div.attrs({className:"CanvasProgessLine "})(mX||(mX=Fr(["\n    /* width: 100%; */\n    /* height: 100%;\n    width: 2px; */\n    background-color: #00dfc6;\n    position: absolute;\n    /* top: 0; */\n    /* left: 50%; */\n    z-index: 1;\n"]))),FX=Nr.video.attrs({className:"VideoElement"})(vX||(vX=Fr([" \n    /* display:none; */\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: ",";\n    /* transform: translate(-50%, -50%) scaleX(-1); */\n    /* width: 100%; */\n    /* height: 100%; */\n    max-width: 640px;\n    /* max-height: 100%; */\n    @media (max-width: 768px) {\n        max-width: 100%;\n    }\n"])),(e=>Pl.Fr&&e.$lence.LensState?"translate(-50%, -50%)":"translate(-50%, -50%) scaleX(-1)")),LX=Nr.canvas.attrs({className:"CanvasElement"})(gX||(gX=Fr(["//canvas\u57fa\u672c\u5c3a\u5bf8\u9810\u8a2d\u70ba300*150\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 100%;\n    max-width: 640px;\n    /* aspect-ratio: 1.778; */\n    @media (max-width: 768px) {\n        max-width: 100%;\n    }\n"]))),jX=Nr.div.attrs({className:"SlideImgDiv"})(yX||(yX=Fr(["\n    /* display:none; */\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    /* width: 100%; */\n    /* height: 100%; */\n    width: 100%;\n    max-width: 640px;\n    @media (max-width: 768px) {\n        height: 100%;\n        max-width: 100%;\n        display: flex;\n    }\n    /* max-height: 100%; */\n"]))),BX=Nr.div.attrs({className:"SlideImgInsideDiv"})(bX||(bX=Fr(["\n    display:flex;\n    width:100%;\n    @media (max-width: 768px) {\n        margin: auto;\n    }\n    /* max-height: 100%; */\n"]))),zX=Nr.div.attrs({className:"PcSlideAreaDiv"})(wX||(wX=Fr(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    /* min-height: 7vh; */\n    padding-block: 0.5rem;\n    height: 15vh;\n    max-height: 5rem;\n    overflow: scroll hidden;\n    scroll-behavior: smooth;\n    /* background-color: azure; */\n    @media (max-width: 992px) {\n        display: none;\n    }\n"]))),UX=Nr.div.attrs({className:"PcSlideAreaInsideDiv"})(xX||(xX=Fr(["\n    display: flex;\n    width: 100%;\n    height: 100%;\n    max-width: 640px;\n    margin: auto;\n    /* overflow: scroll hidden; */\n    /* border: 1px solid gray; */\n"]))),WX=Nr.img.attrs({className:"ChooseThumbnailImg"})(kX||(kX=Fr(["\n    height: 100%;\n    margin-block: auto;\n    margin-right: 0.5rem;\n    ","\n"])),(e=>e.$active&&Rr(SX||(SX=Fr(["\n        border: 2px solid #00000000;\n        border-image: linear-gradient(to bottom right, #ff006a, #2a4aff) 1;\n        animation: "," 2s linear infinite;\n    "])),TX))),HX=Nr.div.attrs({className:"CaptureBtnAreaDiv"})(_X||(_X=Fr(["\n    width: 100%;\n    /* overflow: hidden; */\n    display: flex;\n    padding-block: 0.5rem;\n    z-index: 1;\n    @media (max-width: 992px) {\n        height: auto;\n        position: fixed;\n        bottom: 3rem;\n    }\n"]))),VX=Mr(EX||(EX=Fr(["\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n"]))),GX=(Nr.div(CX||(CX=Fr(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    border: 15px solid #514b82;\n    clip-path: ",";\n    animation: "," 2s linear infinite;\n"])),(e=>"polygon(50% 50%, 0 0, ".concat(e.progress,"% 0, ").concat(e.progress,"% 100%, 0 100%, 0 0)")),VX),()=>(0,tu.jsx)(tu.Fragment,{children:(0,tu.jsx)(ry,{children:(0,tu.jsx)(iy,{children:(0,tu.jsx)(Gq,{children:(0,tu.jsx)(SO,{children:(0,tu.jsx)($T,{children:(0,tu.jsx)(OX,{})})})})})})})),qX=()=>(0,tu.jsx)("div",{}),XX=()=>{const e=Te(Zc);return(0,tu.jsx)(Er,{theme:e.theme,children:(0,tu.jsx)(Lr,{className:"App",children:(0,tu.jsx)(me,{children:(0,tu.jsxs)(he,{path:"/",element:(0,tu.jsx)(Zg,{}),children:[(0,tu.jsx)(he,{path:"",element:(0,tu.jsx)(GX,{})}),(0,tu.jsx)(he,{path:"record",element:(0,tu.jsx)(qX,{})})]})})})})},KX=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))},YX={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class $X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||YX,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new $X(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new $X(this.logger,e)}}var ZX=new $X;class QX{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let o=0;o<r;o++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,o]=t;for(let i=0;i<o;i++)r.apply(r,[e,...n])}))}}}function JX(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}function eK(e){return null==e?"":""+e}const tK=/###/g;function nK(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(tK,"."):e}function o(){return!e||"string"===typeof e}const i="string"!==typeof t?t:t.split(".");let a=0;for(;a<i.length-1;){if(o())return{};const t=r(i[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return o()?{}:{obj:e,k:r(i[a])}}function rK(e,t,n){const{obj:r,k:o}=nK(e,t,Object);if(void 0!==r||1===t.length)return void(r[o]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),s=nK(e,a,Object);for(;void 0===s.obj&&a.length;)i="".concat(a[a.length-1],".").concat(i),a=a.slice(0,a.length-1),s=nK(e,a,Object),s&&s.obj&&"undefined"!==typeof s.obj["".concat(s.k,".").concat(i)]&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(i)]=n}function oK(e,t){const{obj:n,k:r}=nK(e,t);if(n)return n[r]}function iK(e,t,n){for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):iK(e[r],t[r],n):e[r]=t[r]);return e}function aK(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var sK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function uK(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(e=>sK[e])):e}const cK=[" ",",","?","!",";"],lK=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20);function fK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||"object"!==typeof o)return;let e,t="";for(let a=i;a<r.length;++a)if(a!==i&&(t+=n),t+=r[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;i+=a-i+1;break}o=e}return o}function dK(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class hK extends QX{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):"string"===typeof n&&o?a.push(...n.split(o)):a.push(n)));const s=oK(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),s||!i||"string"!==typeof n?s:fK(this.data&&this.data[e]&&this.data[e][t],n,o)}addResource(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),rK(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)"string"!==typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=oK(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?iK(s,n,o):s={...s,...n},rK(this.data,a,s),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var pK={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,o))})),t}};const mK={};class vK extends QX{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach((e=>{t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ZX.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";const r=cK.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const o=lK.getRegExp("(".concat(r.map((e=>"?"===e?"\\?":e)).join("|"),")"));let i=!o.test(e);if(!i){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i}(e,n,r);if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(r)}return"string"===typeof o&&(o=[o]),{key:e,namespaces:o}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t={...t}),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:"".concat(s).concat(e).concat(i),usedKey:i,exactUsedKey:i,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:"".concat(s).concat(e).concat(i)}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:i}const l=this.resolve(e,t);let f=l&&l.res;const d=l&&l.usedKey||i,h=l&&l.exactUsedKey||i,p=Object.prototype.toString.apply(f),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&f&&("string"!==typeof f&&"boolean"!==typeof f&&"number"!==typeof f)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!==typeof m||"[object Array]"!==p)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,f,{...t,ns:a}):"key '".concat(i," (").concat(this.language,")' returned an object instead of string.");return r?(l.res=e,l.usedParams=this.getUsedParamsDetails(t),l):e}if(o){const e="[object Array]"===p,n=e?[]:{},r=e?h:d;for(const i in f)if(Object.prototype.hasOwnProperty.call(f,i)){const e="".concat(r).concat(o).concat(i);n[i]=this.translate(e,{...t,joinArrays:!1,ns:a}),n[i]===e&&(n[i]=f[i])}f=n}}else if(v&&"string"===typeof m&&"[object Array]"===p)f=f.join(m),f&&(f=this.extendTranslation(f,e,t,n));else{let r=!1,a=!1;const c=void 0!==t.count&&"string"!==typeof t.count,d=vK.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(u,t.count,t):"",p=t.ordinal&&c?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),v=m&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(h)]||t["defaultValue".concat(p)]||t.defaultValue;!this.isValidLookup(f)&&d&&(r=!0,f=v),this.isValidLookup(f)||(a=!0,f=i);const g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:f,y=d&&v!==f&&this.options.updateMissing;if(a||r||y){if(this.logger.log(y?"updateKey":"missingKey",u,s,i,y?v:f),o){const e=this.resolve(i,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const o=d&&r!==f?r:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,o,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,o,y,t),this.emit("missingKey",e,s,n,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);m&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]&&n.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&n.push("".concat(this.options.pluralSeparator,"zero")),n.forEach((n=>{r([e],i+n,t["defaultValue".concat(n)]||v)}))})):r(e,i,v))}f=this.extendTranslation(f,e,t,l,n),a&&f===i&&this.options.appendNamespaceToMissingKey&&(f="".concat(s,":").concat(i)),(a||r)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(s,":").concat(i):i,r?f:void 0):this.options.parseMissingKeyHandler(f))}return r?(l.res=f,l.usedParams=this.getUsedParamsDetails(t),l):f}extendTranslation(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s="string"===typeof a?[a]:a;return void 0!==e&&null!==e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=pK.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),u=s.key;n=u;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const l=void 0!==a.count&&"string"!==typeof a.count,f=l&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"===typeof a.context||"number"===typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(i=e,!mK["".concat(h[0],"-").concat(e)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(mK["".concat(h[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;o=n;const i=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,u,n,e,a);else{let e;l&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t="".concat(this.options.pluralSeparator,"zero"),r="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(l&&(i.push(u+e),a.ordinal&&0===e.indexOf(r)&&i.push(u+e.replace(r,this.options.pluralSeparator)),f&&i.push(u+t)),d){const n="".concat(u).concat(this.options.contextSeparator).concat(a.context);i.push(n),l&&(i.push(n+e),a.ordinal&&0===e.indexOf(r)&&i.push(n+e.replace(r,this.options.pluralSeparator)),f&&i.push(n+t))}}let s;for(;s=i.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!==typeof e.replace;let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}function gK(e){return e.charAt(0).toUpperCase()+e.slice(1)}class yK{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ZX.create("languageUtils")}getScriptPartFromCode(e){if(!(e=dK(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=dK(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"===typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gK(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gK(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=gK(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&o(this.formatLanguageCode(e))})),r}}let bK=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wK={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const xK=["v1","v2","v3"],kK=["v4"],SK={zero:0,one:1,two:2,few:3,many:4,other:5};class _K{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ZX.create("pluralResolver"),this.options.compatibilityJSON&&!kK.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return bK.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:wK[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(dK("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>"".concat(t).concat(e)))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>SK[e]-SK[t])).map((e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e))):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!xK.includes(this.options.compatibilityJSON)}}function EK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){const r=oK(e,n);return void 0!==r?r:oK(t,n)}(e,t,n);return!i&&o&&"string"===typeof n&&(i=fK(e,n,r),void 0===i&&(i=fK(t,n,r))),i}class CK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ZX.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:uK,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?aK(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?aK(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?aK(t.nestingPrefix):t.nestingPrefixEscaped||aK("$t("),this.nestingSuffix=t.nestingSuffix?aK(t.nestingSuffix):t.nestingSuffixEscaped||aK(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,n,r){let o,i,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const o=EK(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(EK(t,s,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:i})};this.resetRegExp();const l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>u(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u(this.escape(e)):u(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(i=c(n),void 0===i)if("function"===typeof l){const t=l(e,o,r);i="string"===typeof t?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(f){i=o[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"===typeof i||this.useRawValueToEscape||(i=eK(i));const s=t.safeValue(i);if(e=e.replace(o[0],s),f?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp("".concat(n,"[ ]*{")));let i="{".concat(r[1]);e=r[0],i=this.interpolate(i,o);const a=i.match(/'/g),s=i.match(/"/g);(a&&a.length%2===0&&!s||s.length%2!==0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o={...t,...o})}catch(jK){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),jK),"".concat(e).concat(n).concat(i)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];o={...i},o=o.replace&&"string"!==typeof o.replace?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,u=!0}if(r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=eK(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=s.reduce(((e,t)=>this.format(e,t,i.lng,{...i,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}function AK(e){const t={};return function(n,r,o){const i=r+JSON.stringify(o);let a=t[i];return a||(a=e(dK(r),o),t[i]=a),a(n)}}class OK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ZX.create("formatter"),this.options=e,this.formats={number:AK(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:AK(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:AK(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:AK(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:AK(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=AK(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:o,formatOptions:i}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(!e)return;const[t,...r]=e.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=o),"false"===o&&(n[t.trim()]=!1),"true"===o&&(n[t.trim()]=!0),isNaN(o)||(n[t.trim()]=parseInt(o,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[o]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[o](e,s,{...i,...r,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn("there was no format function for ".concat(o)),e}),e);return o}}class TK extends QX{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ZX.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const o={},i={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,r){const{obj:o,k:i}=nK(e,t,Object);o[i]=o[i]||[],r&&(o[i]=o[i].concat(n)),r||o[i].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:i});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*o,i)}),o):i(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"===typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(u){a(u)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(o," for language ").concat(r," failed"),n),!n&&i&&this.logger.log("".concat(t,"loaded namespace ").concat(o," for language ").concat(r),i),this.loaded(e,n,i)}))}saveMissing(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){const u={...i,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let o;o=5===c.length?c(e,t,n,r,u):c(e,t,n,r),o&&"function"===typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(s){a(s)}else c(e,t,n,r,a,u)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}function RK(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"===typeof e[1]&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function IK(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function PK(){}class NK extends QX{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=IK(e),this.services={},this.logger=ZX,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=RK();function o(e){return e?"function"===typeof e?new e:e:null}if(this.options={...r,...this.options,...IK(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?ZX.init(o(this.modules.logger),this.options):ZX.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=OK);const n=new yK(this.options);this.store=new hK(this.options.resources,this.options);const i=this.services;i.logger=ZX,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new _K(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new CK(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new TK(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new vK(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=PK),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=JX(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PK;const n="string"===typeof e?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=JX();return e||(e=this.languages),t||(t=this.options.ns),n||(n=PK),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&pK.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=JX();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"===typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{i(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const o=function(e,t){let i;if("object"!==typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];i=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else i={...t};i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,i.keyPrefix=i.keyPrefix||n||o.keyPrefix;const c=r.options.keySeparator||".";let l;return l=i.keyPrefix&&Array.isArray(e)?e.map((e=>"".concat(i.keyPrefix).concat(c).concat(e))):i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(e):e,r.t(l,i)};return"string"===typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||r&&!i(o,e)))}loadNamespaces(e,t){const n=JX();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=JX();"string"===typeof e&&(e=[e]);const r=this.options.preload||[],o=e.filter((e=>r.indexOf(e)<0));return o.length?(this.options.preload=r.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new yK(RK());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new NK(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PK;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new NK(r);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new hK(this.store.data,r),o.services.resourceStore=o.store),o.translator=new vK(o.services,r),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit(e,...n)})),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const MK=NK.createInstance();MK.createInstance=NK.createInstance;MK.createInstance,MK.dir,MK.init,MK.loadResources,MK.reloadResources,MK.use,MK.changeLanguage,MK.getFixedT,MK.t,MK.exists,MK.setDefaultNamespace,MK.hasLoadedNamespace,MK.loadNamespaces,MK.loadLanguages;const DK={zh:{translation:JSON.parse('{"navbar":{"title":"\u5a92\u9ad4\u61c9\u7528","language":"\u5207\u63db","about":"About","contact":"Contact"},"sidebar":{"videoScreenShot":"\u8996\u8a0a\u62cd\u7167","videoRecord":"\u8996\u8a0a\u9304\u5f71"},"videoCapture":{"enable":"\u958b\u555f\\n\u93e1\u982d","disable":"\u95dc\u9589\\n\u93e1\u982d","capture":"\u62cd\u7167","delay":"\u5ef6 \u9072","quality":"\u54c1 \u8cea","recapture":"\u91cd\u65b0\u62cd\u7167","deleteCurrent":"\u522a\u9664\\n\u76ee\u524d","deleteAll":"\u522a\u9664\\n\u5168\u90e8","download":"\u4e0b\u8f09","photograghSound":"\u7167\u76f8\u97f3\u6548","smileDetect":"\u5fae\u7b11\u5075\u6e2c","handDetect":"\u624b\u52e2\u5075\u6e2c","voiceControl":"\u8a9e\u97f3\u63a7\u5236","modeGeneral":"\u4e00\u822c\u6a21\u5f0f","modeStraight":"\u5782\u76f4\u6383\u63cf","modeHorizon":"\u6c34\u5e73\u6383\u63cf"},"settingBtn":{"smileDetect":"\u5075\u6e2c\u5fae\u7b11\u81ea\u52d5\u62cd\u7167","postureDetect":"\u5075\u6e2c\u624b\u52e2\u9032\u884c\u62cd\u7167(\u9700\u9760\u8fd1\u81c9\u90e8)","voiceDetect":"\u8a9e\u97f3\u6307\u4ee4\uff1a\\br *\u958b\u555f\u93e1\u982d \\br *\u95dc\u9589\u93e1\u982d \\br *\u62cd\u7167 \\br *\u5ef6\u90721\u79d2\u62cd\u7167 (\u53ef\u90781~10\u79d2) \\br *\u91cd\u62cd"},"declaration":{"announcement":"\u516c\u544a","notice":"\u203b\u6b64\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u4e0d\u6703\u79c1\u81ea\u5132\u5b58\u53ca\u50b3\u9001\u4efb\u4f55\u4f7f\u7528\u8005\u8cc7\u6599\u50c5\u7531\u524d\u7aef\u5be6\u4f5c\u3002\\br \u5efa\u8b70\u4f7f\u7528chrome\u700f\u89bd\u5668\u958b\u555f\u6b64\u9801\u9762","content":"2024/5/3\uff1a\u521d\u7248\u4e0a\u7dda\u3002\\br 2024/5/20\uff1a\u65b0\u589e\u5fae\u7b11\u5075\u6e2c\u3001\u62cd\u7167\u97f3\u6548\u3002\\br 2024/6/6\uff1a\u65b0\u589e\u624b\u52e2\u5075\u6e2c\u62cd\u7167\u529f\u80fd\u3002\\br 2024/6/24\uff1a\u65b0\u589e\u8a9e\u97f3\u63a7\u5236\u62cd\u7167\u529f\u80fd\u3002","content_1":"\u521d\u7248\u4e0a\u7dda","content_2":"\u65b0\u589e\u5fae\u7b11\u5075\u6e2c\u3001\u62cd\u7167\u97f3\u6548","content_3":"\u65b0\u589e\u624b\u52e2\u5075\u6e2c\u62cd\u7167\u529f\u80fd","content_4":"\u65b0\u589e\u8a9e\u97f3\u63a7\u5236\u62cd\u7167\u529f\u80fd","content_5":"\u65b0\u589e\u62cd\u7167\u6383\u63cf\u6a21\u5f0f","content_6":"\u5716\u7247\u53ef\u66ab\u5b58\u65bc\u4f7f\u7528\u8005\u700f\u89bd\u5668\u4e2d","content_6-1":"(\u522a\u9664\u5716\u7247\u6216\u6e05\u9664\u700f\u89bd\u5668\u8cc7\u6599\u5373\u53ef\u6e05\u9664\u5716\u7247\u66ab\u5b58\u6a94)"}}')},en:{translation:JSON.parse('{"navbar":{"title":"Media APP","switcher":"switcher","about":"About","contact":"Contact"},"sidebar":{"videoScreenShot":"Photograph","videoRecord":"Record"},"videoCapture":{"enable":"Enable","disable":"Disable","capture":"Capture","delay":"Delay","quality":"Quality","recapture":"Recapture","deleteCurrent":"Delete Current","deleteAll":"Delete All","download":"Download","photograghSound":"Photo Sound","smileDetect":"Smile Detect","handDetect":"Hand Detect","voiceControl":"Voice Control","modeGeneral":"General","modeStraight":"Straight","modeHorizon":"Horizon"},"settingBtn":{"smileDetect":"Detect smiles and automatically take photos","postureDetect":"Detect gestures to take photos (needs to be close to the face)","voiceDetect":"Voice command\uff1a\\br *open lens \\br *close lens \\br *take picture \\br *delay one second  => Delayed photo taking \\br(1 to 10 seconds can be specified) \\br *again   => Take photo again"},"declaration":{"announcement":"Announcement","notice":"\u203bThis web application does not store and transmit any user data privately and is only implemented by the front-end. \\br It is recommended to use Chrome browser to open this page","content":"2024/5/3\uff1aThe first version is online. \\br 2024/5/20\uff1aAdded smile detection and photo sound effects.\\br 2024/6/6\uff1aAdded gesture detection camera function. \\br 2024/6/24\uff1aAdded voice control camera function.","content_1":"The first version is online","content_2":"Added smile detection and photo sound effects","content_3":"Added gesture detection camera function","content_4":"Added voice control camera function","content_5":"Added photo scanning mode","content_6":"Images can be temporarily saved in the user\'s browser","content_6-1":"(Delete the image or clear browser data to clear the temporary image archive)"}}')}};MK.use(Hs).init({resources:DK,lng:"zh",fallbackLng:"zh",interpolation:{escapeValue:!1}});const FK=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=null!==e&&void 0!==e?e:{};let i=new xc;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(gc):i.push(yc(t.extraArgument))),i},{reducer:n,middleware:r,devTools:o=!0,preloadedState:i,enhancers:a}=e||{};let s,u;if("function"===typeof n)s=n;else{if(!dc(n))throw new Error(qc(1));s=pc(n)}u="function"===typeof r?r(t):t();let c=mc;o&&(c=bc({trace:!1,..."object"===typeof o&&o}));const l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const o=e(n,r);let i=()=>{throw new Error(uc(15))};const a={getState:o.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},s=t.map((e=>e(a)));return i=mc(...s)(o.dispatch),{...o,dispatch:i}}}(...u),f=Ac(l);let d="function"===typeof a?a(f):f();return hc(s,i,c(...d))}({reducer:{themeSwitch:Qc,sidebarSwitch:sl}}),LK=FK;o.createRoot(document.getElementById("root")).render((0,tu.jsx)(Ys,{i18n:MK,defaultNS:"translation",children:(0,tu.jsx)(wl,{children:(0,tu.jsx)(Fe,{store:LK,children:(0,tu.jsx)(XX,{})})})})),KX()})()})();
//# sourceMappingURL=main.06adb62c.js.map